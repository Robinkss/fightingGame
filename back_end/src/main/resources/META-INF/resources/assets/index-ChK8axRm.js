var lB=Object.defineProperty;var uB=(t,e,r)=>e in t?lB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var hB=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Jt=(t,e,r)=>(uB(t,typeof e!="symbol"?e+"":e,r),r),p0=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)};var q=(t,e,r)=>(p0(t,e,"read from private field"),r?r.call(t):e.get(t)),ct=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},at=(t,e,r,n)=>(p0(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r);var Dd=(t,e,r,n)=>({set _(i){at(t,e,i,r)},get _(){return q(t,e,n)}}),nt=(t,e,r)=>(p0(t,e,"access private method"),r);var TH=hB((IH,Dm)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function fm(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function FC(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var UC={exports:{}},pm={},jC={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mc=Symbol.for("react.element"),cB=Symbol.for("react.portal"),dB=Symbol.for("react.fragment"),fB=Symbol.for("react.strict_mode"),pB=Symbol.for("react.profiler"),mB=Symbol.for("react.provider"),gB=Symbol.for("react.context"),yB=Symbol.for("react.forward_ref"),vB=Symbol.for("react.suspense"),_B=Symbol.for("react.memo"),bB=Symbol.for("react.lazy"),ME=Symbol.iterator;function wB(t){return t===null||typeof t!="object"?null:(t=ME&&t[ME]||t["@@iterator"],typeof t=="function"?t:null)}var $C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zC=Object.assign,HC={};function Lu(t,e,r){this.props=t,this.context=e,this.refs=HC,this.updater=r||$C}Lu.prototype.isReactComponent={};Lu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Lu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GC(){}GC.prototype=Lu.prototype;function vb(t,e,r){this.props=t,this.context=e,this.refs=HC,this.updater=r||$C}var _b=vb.prototype=new GC;_b.constructor=vb;zC(_b,Lu.prototype);_b.isPureReactComponent=!0;var BE=Array.isArray,WC=Object.prototype.hasOwnProperty,bb={current:null},VC={key:!0,ref:!0,__self:!0,__source:!0};function XC(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)WC.call(e,n)&&!VC.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Mc,type:t,key:s,ref:o,props:i,_owner:bb.current}}function xB(t,e){return{$$typeof:Mc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function wb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Mc}function EB(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var NE=/\/+/g;function m0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EB(""+t.key):e.toString(36)}function Lf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Mc:case cB:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+m0(o,0):n,BE(i)?(r="",t!=null&&(r=t.replace(NE,"$&/")+"/"),Lf(i,e,r,"",function(u){return u})):i!=null&&(wb(i)&&(i=xB(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(NE,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",BE(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+m0(s,a);o+=Lf(s,e,r,l,i)}else if(l=wB(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+m0(s,a++),o+=Lf(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ld(t,e,r){if(t==null)return t;var n=[],i=0;return Lf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function SB(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var gn={current:null},Ff={transition:null},TB={ReactCurrentDispatcher:gn,ReactCurrentBatchConfig:Ff,ReactCurrentOwner:bb};yt.Children={map:Ld,forEach:function(t,e,r){Ld(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ld(t,function(){e++}),e},toArray:function(t){return Ld(t,function(e){return e})||[]},only:function(t){if(!wb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};yt.Component=Lu;yt.Fragment=dB;yt.Profiler=pB;yt.PureComponent=vb;yt.StrictMode=fB;yt.Suspense=vB;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TB;yt.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=zC({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=bb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)WC.call(e,l)&&!VC.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Mc,type:t.type,key:i,ref:s,props:n,_owner:o}};yt.createContext=function(t){return t={$$typeof:gB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mB,_context:t},t.Consumer=t};yt.createElement=XC;yt.createFactory=function(t){var e=XC.bind(null,t);return e.type=t,e};yt.createRef=function(){return{current:null}};yt.forwardRef=function(t){return{$$typeof:yB,render:t}};yt.isValidElement=wb;yt.lazy=function(t){return{$$typeof:bB,_payload:{_status:-1,_result:t},_init:SB}};yt.memo=function(t,e){return{$$typeof:_B,type:t,compare:e===void 0?null:e}};yt.startTransition=function(t){var e=Ff.transition;Ff.transition={};try{t()}finally{Ff.transition=e}};yt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};yt.useCallback=function(t,e){return gn.current.useCallback(t,e)};yt.useContext=function(t){return gn.current.useContext(t)};yt.useDebugValue=function(){};yt.useDeferredValue=function(t){return gn.current.useDeferredValue(t)};yt.useEffect=function(t,e){return gn.current.useEffect(t,e)};yt.useId=function(){return gn.current.useId()};yt.useImperativeHandle=function(t,e,r){return gn.current.useImperativeHandle(t,e,r)};yt.useInsertionEffect=function(t,e){return gn.current.useInsertionEffect(t,e)};yt.useLayoutEffect=function(t,e){return gn.current.useLayoutEffect(t,e)};yt.useMemo=function(t,e){return gn.current.useMemo(t,e)};yt.useReducer=function(t,e,r){return gn.current.useReducer(t,e,r)};yt.useRef=function(t){return gn.current.useRef(t)};yt.useState=function(t){return gn.current.useState(t)};yt.useSyncExternalStore=function(t,e,r){return gn.current.useSyncExternalStore(t,e,r)};yt.useTransition=function(){return gn.current.useTransition()};yt.version="18.2.0";jC.exports=yt;var It=jC.exports;const fs=fm(It);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var AB=It,CB=Symbol.for("react.element"),IB=Symbol.for("react.fragment"),PB=Object.prototype.hasOwnProperty,RB=AB.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,kB={key:!0,ref:!0,__self:!0,__source:!0};function qC(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)PB.call(e,n)&&!kB.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:CB,type:t,key:s,ref:o,props:i,_owner:RB.current}}pm.Fragment=IB;pm.jsx=qC;pm.jsxs=qC;UC.exports=pm;var At=UC.exports,qy={},YC={exports:{}},Wn={},KC={exports:{}},QC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(D,J){var W=D.length;D.push(J);e:for(;0<W;){var te=W-1>>>1,N=D[te];if(0<i(N,J))D[te]=J,D[W]=N,W=te;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var J=D[0],W=D.pop();if(W!==J){D[0]=W;e:for(var te=0,N=D.length,ie=N>>>1;te<ie;){var pe=2*(te+1)-1,Be=D[pe],ge=pe+1,H=D[ge];if(0>i(Be,W))ge<N&&0>i(H,Be)?(D[te]=H,D[ge]=W,te=ge):(D[te]=Be,D[pe]=W,te=pe);else if(ge<N&&0>i(H,W))D[te]=H,D[ge]=W,te=ge;else break e}}return J}function i(D,J){var W=D.sortIndex-J.sortIndex;return W!==0?W:D.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,p=3,m=!1,g=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(D){for(var J=r(u);J!==null;){if(J.callback===null)n(u);else if(J.startTime<=D)n(u),J.sortIndex=J.expirationTime,e(l,J);else break;J=r(u)}}function I(D){if(v=!1,b(D),!g)if(r(l)!==null)g=!0,de(O);else{var J=r(u);J!==null&&oe(I,J.startTime-D)}}function O(D,J){g=!1,v&&(v=!1,S(M),M=-1),m=!0;var W=p;try{for(b(J),f=r(l);f!==null&&(!(f.expirationTime>J)||D&&!se());){var te=f.callback;if(typeof te=="function"){f.callback=null,p=f.priorityLevel;var N=te(f.expirationTime<=J);J=t.unstable_now(),typeof N=="function"?f.callback=N:f===r(l)&&n(l),b(J)}else n(l);f=r(l)}if(f!==null)var ie=!0;else{var pe=r(u);pe!==null&&oe(I,pe.startTime-J),ie=!1}return ie}finally{f=null,p=W,m=!1}}var k=!1,R=null,M=-1,$=5,Y=-1;function se(){return!(t.unstable_now()-Y<$)}function B(){if(R!==null){var D=t.unstable_now();Y=D;var J=!0;try{J=R(!0,D)}finally{J?F():(k=!1,R=null)}}else k=!1}var F;if(typeof x=="function")F=function(){x(B)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Z=K.port2;K.port1.onmessage=B,F=function(){Z.postMessage(null)}}else F=function(){C(B,0)};function de(D){R=D,k||(k=!0,F())}function oe(D,J){M=C(function(){D(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,de(O))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var W=p;p=J;try{return D()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,J){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=p;p=D;try{return J()}finally{p=W}},t.unstable_scheduleCallback=function(D,J,W){var te=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,D){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=W+N,D={id:d++,callback:J,priorityLevel:D,startTime:W,expirationTime:N,sortIndex:-1},W>te?(D.sortIndex=W,e(u,D),r(l)===null&&D===r(u)&&(v?(S(M),M=-1):v=!0,oe(I,W-te))):(D.sortIndex=N,e(l,D),g||m||(g=!0,de(O))),D},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(D){var J=p;return function(){var W=p;p=J;try{return D.apply(this,arguments)}finally{p=W}}}})(QC);KC.exports=QC;var OB=KC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC=It,Gn=OB;function Ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var JC=new Set,ac={};function ll(t,e){Su(t,e),Su(t+"Capture",e)}function Su(t,e){for(ac[t]=e,t=0;t<e.length;t++)JC.add(e[t])}var Qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yy=Object.prototype.hasOwnProperty,MB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,DE={},LE={};function BB(t){return Yy.call(LE,t)?!0:Yy.call(DE,t)?!1:MB.test(t)?LE[t]=!0:(DE[t]=!0,!1)}function NB(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DB(t,e,r,n){if(e===null||typeof e>"u"||NB(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function yn(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vr[t]=new yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vr[e]=new yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vr[t]=new yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vr[t]=new yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vr[t]=new yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vr[t]=new yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vr[t]=new yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vr[t]=new yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vr[t]=new yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var xb=/[\-:]([a-z])/g;function Eb(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xb,Eb);Vr[e]=new yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xb,Eb);Vr[e]=new yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xb,Eb);Vr[e]=new yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vr[t]=new yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Vr.xlinkHref=new yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vr[t]=new yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Sb(t,e,r,n){var i=Vr.hasOwnProperty(e)?Vr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(DB(e,r,i,n)&&(r=null),n||i===null?BB(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ao=ZC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fd=Symbol.for("react.element"),ql=Symbol.for("react.portal"),Yl=Symbol.for("react.fragment"),Tb=Symbol.for("react.strict_mode"),Ky=Symbol.for("react.profiler"),eI=Symbol.for("react.provider"),tI=Symbol.for("react.context"),Ab=Symbol.for("react.forward_ref"),Qy=Symbol.for("react.suspense"),Zy=Symbol.for("react.suspense_list"),Cb=Symbol.for("react.memo"),Oo=Symbol.for("react.lazy"),rI=Symbol.for("react.offscreen"),FE=Symbol.iterator;function ch(t){return t===null||typeof t!="object"?null:(t=FE&&t[FE]||t["@@iterator"],typeof t=="function"?t:null)}var sr=Object.assign,g0;function Rh(t){if(g0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);g0=e&&e[1]||""}return`
`+g0+t}var y0=!1;function v0(t,e){if(!t||y0)return"";y0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{y0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Rh(t):""}function LB(t){switch(t.tag){case 5:return Rh(t.type);case 16:return Rh("Lazy");case 13:return Rh("Suspense");case 19:return Rh("SuspenseList");case 0:case 2:case 15:return t=v0(t.type,!1),t;case 11:return t=v0(t.type.render,!1),t;case 1:return t=v0(t.type,!0),t;default:return""}}function Jy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yl:return"Fragment";case ql:return"Portal";case Ky:return"Profiler";case Tb:return"StrictMode";case Qy:return"Suspense";case Zy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tI:return(t.displayName||"Context")+".Consumer";case eI:return(t._context.displayName||"Context")+".Provider";case Ab:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Cb:return e=t.displayName||null,e!==null?e:Jy(t.type)||"Memo";case Oo:e=t._payload,t=t._init;try{return Jy(t(e))}catch{}}return null}function FB(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jy(e);case 8:return e===Tb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function nI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UB(t){var e=nI(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ud(t){t._valueTracker||(t._valueTracker=UB(t))}function iI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=nI(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function gp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ev(t,e){var r=e.checked;return sr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function UE(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Jo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sI(t,e){e=e.checked,e!=null&&Sb(t,"checked",e,!1)}function tv(t,e){sI(t,e);var r=Jo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rv(t,e.type,r):e.hasOwnProperty("defaultValue")&&rv(t,e.type,Jo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function jE(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function rv(t,e,r){(e!=="number"||gp(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var kh=Array.isArray;function hu(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Jo(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function nv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return sr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $E(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Ue(92));if(kh(r)){if(1<r.length)throw Error(Ue(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Jo(r)}}function oI(t,e){var r=Jo(e.value),n=Jo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function zE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function iv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jd,lI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(jd=jd||document.createElement("div"),jd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function lc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Wh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jB=["Webkit","ms","Moz","O"];Object.keys(Wh).forEach(function(t){jB.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Wh[e]=Wh[t]})});function uI(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Wh.hasOwnProperty(t)&&Wh[t]?(""+e).trim():e+"px"}function hI(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=uI(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var $B=sr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sv(t,e){if(e){if($B[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ue(62))}}function ov(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var av=null;function Ib(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lv=null,cu=null,du=null;function HE(t){if(t=Dc(t)){if(typeof lv!="function")throw Error(Ue(280));var e=t.stateNode;e&&(e=_m(e),lv(t.stateNode,t.type,e))}}function cI(t){cu?du?du.push(t):du=[t]:cu=t}function dI(){if(cu){var t=cu,e=du;if(du=cu=null,HE(t),e)for(t=0;t<e.length;t++)HE(e[t])}}function fI(t,e){return t(e)}function pI(){}var _0=!1;function mI(t,e,r){if(_0)return t(e,r);_0=!0;try{return fI(t,e,r)}finally{_0=!1,(cu!==null||du!==null)&&(pI(),dI())}}function uc(t,e){var r=t.stateNode;if(r===null)return null;var n=_m(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Ue(231,e,typeof r));return r}var uv=!1;if(Qs)try{var dh={};Object.defineProperty(dh,"passive",{get:function(){uv=!0}}),window.addEventListener("test",dh,dh),window.removeEventListener("test",dh,dh)}catch{uv=!1}function zB(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Vh=!1,yp=null,vp=!1,hv=null,HB={onError:function(t){Vh=!0,yp=t}};function GB(t,e,r,n,i,s,o,a,l){Vh=!1,yp=null,zB.apply(HB,arguments)}function WB(t,e,r,n,i,s,o,a,l){if(GB.apply(this,arguments),Vh){if(Vh){var u=yp;Vh=!1,yp=null}else throw Error(Ue(198));vp||(vp=!0,hv=u)}}function ul(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function gI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function GE(t){if(ul(t)!==t)throw Error(Ue(188))}function VB(t){var e=t.alternate;if(!e){if(e=ul(t),e===null)throw Error(Ue(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return GE(i),t;if(s===n)return GE(i),e;s=s.sibling}throw Error(Ue(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(Ue(189))}}if(r.alternate!==n)throw Error(Ue(190))}if(r.tag!==3)throw Error(Ue(188));return r.stateNode.current===r?t:e}function yI(t){return t=VB(t),t!==null?vI(t):null}function vI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vI(t);if(e!==null)return e;t=t.sibling}return null}var _I=Gn.unstable_scheduleCallback,WE=Gn.unstable_cancelCallback,XB=Gn.unstable_shouldYield,qB=Gn.unstable_requestPaint,pr=Gn.unstable_now,YB=Gn.unstable_getCurrentPriorityLevel,Pb=Gn.unstable_ImmediatePriority,bI=Gn.unstable_UserBlockingPriority,_p=Gn.unstable_NormalPriority,KB=Gn.unstable_LowPriority,wI=Gn.unstable_IdlePriority,mm=null,ps=null;function QB(t){if(ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(mm,t,void 0,(t.current.flags&128)===128)}catch{}}var Mi=Math.clz32?Math.clz32:eN,ZB=Math.log,JB=Math.LN2;function eN(t){return t>>>=0,t===0?32:31-(ZB(t)/JB|0)|0}var $d=64,zd=4194304;function Oh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Oh(a):(s&=o,s!==0&&(n=Oh(s)))}else o=r&~i,o!==0?n=Oh(o):s!==0&&(n=Oh(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Mi(e),i=1<<r,n|=t[r],e&=~i;return n}function tN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rN(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Mi(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=tN(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function cv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function xI(){var t=$d;return $d<<=1,!($d&4194240)&&($d=64),t}function b0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Bc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mi(e),t[e]=r}function nN(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Mi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Rb(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Mi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Pt=0;function EI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var SI,kb,TI,AI,CI,dv=!1,Hd=[],Go=null,Wo=null,Vo=null,hc=new Map,cc=new Map,Do=[],iN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VE(t,e){switch(t){case"focusin":case"focusout":Go=null;break;case"dragenter":case"dragleave":Wo=null;break;case"mouseover":case"mouseout":Vo=null;break;case"pointerover":case"pointerout":hc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cc.delete(e.pointerId)}}function fh(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Dc(e),e!==null&&kb(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function sN(t,e,r,n,i){switch(e){case"focusin":return Go=fh(Go,t,e,r,n,i),!0;case"dragenter":return Wo=fh(Wo,t,e,r,n,i),!0;case"mouseover":return Vo=fh(Vo,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return hc.set(s,fh(hc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,cc.set(s,fh(cc.get(s)||null,t,e,r,n,i)),!0}return!1}function II(t){var e=$a(t.target);if(e!==null){var r=ul(e);if(r!==null){if(e=r.tag,e===13){if(e=gI(r),e!==null){t.blockedOn=e,CI(t.priority,function(){TI(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=fv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);av=n,r.target.dispatchEvent(n),av=null}else return e=Dc(r),e!==null&&kb(e),t.blockedOn=r,!1;e.shift()}return!0}function XE(t,e,r){Uf(t)&&r.delete(e)}function oN(){dv=!1,Go!==null&&Uf(Go)&&(Go=null),Wo!==null&&Uf(Wo)&&(Wo=null),Vo!==null&&Uf(Vo)&&(Vo=null),hc.forEach(XE),cc.forEach(XE)}function ph(t,e){t.blockedOn===e&&(t.blockedOn=null,dv||(dv=!0,Gn.unstable_scheduleCallback(Gn.unstable_NormalPriority,oN)))}function dc(t){function e(i){return ph(i,t)}if(0<Hd.length){ph(Hd[0],t);for(var r=1;r<Hd.length;r++){var n=Hd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Go!==null&&ph(Go,t),Wo!==null&&ph(Wo,t),Vo!==null&&ph(Vo,t),hc.forEach(e),cc.forEach(e),r=0;r<Do.length;r++)n=Do[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Do.length&&(r=Do[0],r.blockedOn===null);)II(r),r.blockedOn===null&&Do.shift()}var fu=ao.ReactCurrentBatchConfig,wp=!0;function aN(t,e,r,n){var i=Pt,s=fu.transition;fu.transition=null;try{Pt=1,Ob(t,e,r,n)}finally{Pt=i,fu.transition=s}}function lN(t,e,r,n){var i=Pt,s=fu.transition;fu.transition=null;try{Pt=4,Ob(t,e,r,n)}finally{Pt=i,fu.transition=s}}function Ob(t,e,r,n){if(wp){var i=fv(t,e,r,n);if(i===null)R0(t,e,n,xp,r),VE(t,n);else if(sN(i,t,e,r,n))n.stopPropagation();else if(VE(t,n),e&4&&-1<iN.indexOf(t)){for(;i!==null;){var s=Dc(i);if(s!==null&&SI(s),s=fv(t,e,r,n),s===null&&R0(t,e,n,xp,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else R0(t,e,n,null,r)}}var xp=null;function fv(t,e,r,n){if(xp=null,t=Ib(n),t=$a(t),t!==null)if(e=ul(t),e===null)t=null;else if(r=e.tag,r===13){if(t=gI(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xp=t,null}function PI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YB()){case Pb:return 1;case bI:return 4;case _p:case KB:return 16;case wI:return 536870912;default:return 16}default:return 16}}var Uo=null,Mb=null,jf=null;function RI(){if(jf)return jf;var t,e=Mb,r=e.length,n,i="value"in Uo?Uo.value:Uo.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return jf=i.slice(t,1<n?1-n:void 0)}function $f(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gd(){return!0}function qE(){return!1}function Vn(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gd:qE,this.isPropagationStopped=qE,this}return sr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gd)},persist:function(){},isPersistent:Gd}),e}var Fu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bb=Vn(Fu),Nc=sr({},Fu,{view:0,detail:0}),uN=Vn(Nc),w0,x0,mh,gm=sr({},Nc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mh&&(mh&&t.type==="mousemove"?(w0=t.screenX-mh.screenX,x0=t.screenY-mh.screenY):x0=w0=0,mh=t),w0)},movementY:function(t){return"movementY"in t?t.movementY:x0}}),YE=Vn(gm),hN=sr({},gm,{dataTransfer:0}),cN=Vn(hN),dN=sr({},Nc,{relatedTarget:0}),E0=Vn(dN),fN=sr({},Fu,{animationName:0,elapsedTime:0,pseudoElement:0}),pN=Vn(fN),mN=sr({},Fu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),gN=Vn(mN),yN=sr({},Fu,{data:0}),KE=Vn(yN),vN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_N={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wN(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=bN[t])?!!e[t]:!1}function Nb(){return wN}var xN=sr({},Nc,{key:function(t){if(t.key){var e=vN[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$f(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_N[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nb,charCode:function(t){return t.type==="keypress"?$f(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$f(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EN=Vn(xN),SN=sr({},gm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QE=Vn(SN),TN=sr({},Nc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nb}),AN=Vn(TN),CN=sr({},Fu,{propertyName:0,elapsedTime:0,pseudoElement:0}),IN=Vn(CN),PN=sr({},gm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RN=Vn(PN),kN=[9,13,27,32],Db=Qs&&"CompositionEvent"in window,Xh=null;Qs&&"documentMode"in document&&(Xh=document.documentMode);var ON=Qs&&"TextEvent"in window&&!Xh,kI=Qs&&(!Db||Xh&&8<Xh&&11>=Xh),ZE=" ",JE=!1;function OI(t,e){switch(t){case"keyup":return kN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function MI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kl=!1;function MN(t,e){switch(t){case"compositionend":return MI(e);case"keypress":return e.which!==32?null:(JE=!0,ZE);case"textInput":return t=e.data,t===ZE&&JE?null:t;default:return null}}function BN(t,e){if(Kl)return t==="compositionend"||!Db&&OI(t,e)?(t=RI(),jf=Mb=Uo=null,Kl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kI&&e.locale!=="ko"?null:e.data;default:return null}}var NN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!NN[t.type]:e==="textarea"}function BI(t,e,r,n){cI(n),e=Ep(e,"onChange"),0<e.length&&(r=new Bb("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var qh=null,fc=null;function DN(t){WI(t,0)}function ym(t){var e=Jl(t);if(iI(e))return t}function LN(t,e){if(t==="change")return e}var NI=!1;if(Qs){var S0;if(Qs){var T0="oninput"in document;if(!T0){var tS=document.createElement("div");tS.setAttribute("oninput","return;"),T0=typeof tS.oninput=="function"}S0=T0}else S0=!1;NI=S0&&(!document.documentMode||9<document.documentMode)}function rS(){qh&&(qh.detachEvent("onpropertychange",DI),fc=qh=null)}function DI(t){if(t.propertyName==="value"&&ym(fc)){var e=[];BI(e,fc,t,Ib(t)),mI(DN,e)}}function FN(t,e,r){t==="focusin"?(rS(),qh=e,fc=r,qh.attachEvent("onpropertychange",DI)):t==="focusout"&&rS()}function UN(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ym(fc)}function jN(t,e){if(t==="click")return ym(e)}function $N(t,e){if(t==="input"||t==="change")return ym(e)}function zN(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Li=typeof Object.is=="function"?Object.is:zN;function pc(t,e){if(Li(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Yy.call(e,i)||!Li(t[i],e[i]))return!1}return!0}function nS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iS(t,e){var r=nS(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nS(r)}}function LI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?LI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function FI(){for(var t=window,e=gp();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=gp(t.document)}return e}function Lb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function HN(t){var e=FI(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&LI(r.ownerDocument.documentElement,r)){if(n!==null&&Lb(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=iS(r,s);var o=iS(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GN=Qs&&"documentMode"in document&&11>=document.documentMode,Ql=null,pv=null,Yh=null,mv=!1;function sS(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;mv||Ql==null||Ql!==gp(n)||(n=Ql,"selectionStart"in n&&Lb(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yh&&pc(Yh,n)||(Yh=n,n=Ep(pv,"onSelect"),0<n.length&&(e=new Bb("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ql)))}function Wd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Zl={animationend:Wd("Animation","AnimationEnd"),animationiteration:Wd("Animation","AnimationIteration"),animationstart:Wd("Animation","AnimationStart"),transitionend:Wd("Transition","TransitionEnd")},A0={},UI={};Qs&&(UI=document.createElement("div").style,"AnimationEvent"in window||(delete Zl.animationend.animation,delete Zl.animationiteration.animation,delete Zl.animationstart.animation),"TransitionEvent"in window||delete Zl.transitionend.transition);function vm(t){if(A0[t])return A0[t];if(!Zl[t])return t;var e=Zl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in UI)return A0[t]=e[r];return t}var jI=vm("animationend"),$I=vm("animationiteration"),zI=vm("animationstart"),HI=vm("transitionend"),GI=new Map,oS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ia(t,e){GI.set(t,e),ll(e,[t])}for(var C0=0;C0<oS.length;C0++){var I0=oS[C0],WN=I0.toLowerCase(),VN=I0[0].toUpperCase()+I0.slice(1);ia(WN,"on"+VN)}ia(jI,"onAnimationEnd");ia($I,"onAnimationIteration");ia(zI,"onAnimationStart");ia("dblclick","onDoubleClick");ia("focusin","onFocus");ia("focusout","onBlur");ia(HI,"onTransitionEnd");Su("onMouseEnter",["mouseout","mouseover"]);Su("onMouseLeave",["mouseout","mouseover"]);Su("onPointerEnter",["pointerout","pointerover"]);Su("onPointerLeave",["pointerout","pointerover"]);ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ll("onBeforeInput",["compositionend","keypress","textInput","paste"]);ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mh));function aS(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,WB(n,e,void 0,t),t.currentTarget=null}function WI(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;aS(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;aS(i,a,u),s=l}}}if(vp)throw t=hv,vp=!1,hv=null,t}function Lt(t,e){var r=e[bv];r===void 0&&(r=e[bv]=new Set);var n=t+"__bubble";r.has(n)||(VI(e,t,2,!1),r.add(n))}function P0(t,e,r){var n=0;e&&(n|=4),VI(r,t,n,e)}var Vd="_reactListening"+Math.random().toString(36).slice(2);function mc(t){if(!t[Vd]){t[Vd]=!0,JC.forEach(function(r){r!=="selectionchange"&&(XN.has(r)||P0(r,!1,t),P0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vd]||(e[Vd]=!0,P0("selectionchange",!1,e))}}function VI(t,e,r,n){switch(PI(e)){case 1:var i=aN;break;case 4:i=lN;break;default:i=Ob}r=i.bind(null,e,r,t),i=void 0,!uv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function R0(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=$a(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}mI(function(){var u=s,d=Ib(r),f=[];e:{var p=GI.get(t);if(p!==void 0){var m=Bb,g=t;switch(t){case"keypress":if($f(r)===0)break e;case"keydown":case"keyup":m=EN;break;case"focusin":g="focus",m=E0;break;case"focusout":g="blur",m=E0;break;case"beforeblur":case"afterblur":m=E0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=YE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=cN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=AN;break;case jI:case $I:case zI:m=pN;break;case HI:m=IN;break;case"scroll":m=uN;break;case"wheel":m=RN;break;case"copy":case"cut":case"paste":m=gN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=QE}var v=(e&4)!==0,C=!v&&t==="scroll",S=v?p!==null?p+"Capture":null:p;v=[];for(var x=u,b;x!==null;){b=x;var I=b.stateNode;if(b.tag===5&&I!==null&&(b=I,S!==null&&(I=uc(x,S),I!=null&&v.push(gc(x,I,b)))),C)break;x=x.return}0<v.length&&(p=new m(p,g,null,r,d),f.push({event:p,listeners:v}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&r!==av&&(g=r.relatedTarget||r.fromElement)&&($a(g)||g[Zs]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?$a(g):null,g!==null&&(C=ul(g),g!==C||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(v=YE,I="onMouseLeave",S="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=QE,I="onPointerLeave",S="onPointerEnter",x="pointer"),C=m==null?p:Jl(m),b=g==null?p:Jl(g),p=new v(I,x+"leave",m,r,d),p.target=C,p.relatedTarget=b,I=null,$a(d)===u&&(v=new v(S,x+"enter",g,r,d),v.target=b,v.relatedTarget=C,I=v),C=I,m&&g)t:{for(v=m,S=g,x=0,b=v;b;b=Ol(b))x++;for(b=0,I=S;I;I=Ol(I))b++;for(;0<x-b;)v=Ol(v),x--;for(;0<b-x;)S=Ol(S),b--;for(;x--;){if(v===S||S!==null&&v===S.alternate)break t;v=Ol(v),S=Ol(S)}v=null}else v=null;m!==null&&lS(f,p,m,v,!1),g!==null&&C!==null&&lS(f,C,g,v,!0)}}e:{if(p=u?Jl(u):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=LN;else if(eS(p))if(NI)O=$N;else{O=UN;var k=FN}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=jN);if(O&&(O=O(t,u))){BI(f,O,r,d);break e}k&&k(t,p,u),t==="focusout"&&(k=p._wrapperState)&&k.controlled&&p.type==="number"&&rv(p,"number",p.value)}switch(k=u?Jl(u):window,t){case"focusin":(eS(k)||k.contentEditable==="true")&&(Ql=k,pv=u,Yh=null);break;case"focusout":Yh=pv=Ql=null;break;case"mousedown":mv=!0;break;case"contextmenu":case"mouseup":case"dragend":mv=!1,sS(f,r,d);break;case"selectionchange":if(GN)break;case"keydown":case"keyup":sS(f,r,d)}var R;if(Db)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Kl?OI(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(kI&&r.locale!=="ko"&&(Kl||M!=="onCompositionStart"?M==="onCompositionEnd"&&Kl&&(R=RI()):(Uo=d,Mb="value"in Uo?Uo.value:Uo.textContent,Kl=!0)),k=Ep(u,M),0<k.length&&(M=new KE(M,t,null,r,d),f.push({event:M,listeners:k}),R?M.data=R:(R=MI(r),R!==null&&(M.data=R)))),(R=ON?MN(t,r):BN(t,r))&&(u=Ep(u,"onBeforeInput"),0<u.length&&(d=new KE("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=R))}WI(f,e)})}function gc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Ep(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=uc(t,r),s!=null&&n.unshift(gc(t,s,i)),s=uc(t,e),s!=null&&n.push(gc(t,s,i))),t=t.return}return n}function Ol(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lS(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=uc(r,s),l!=null&&o.unshift(gc(r,l,a))):i||(l=uc(r,s),l!=null&&o.push(gc(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var qN=/\r\n?/g,YN=/\u0000|\uFFFD/g;function uS(t){return(typeof t=="string"?t:""+t).replace(qN,`
`).replace(YN,"")}function Xd(t,e,r){if(e=uS(e),uS(t)!==e&&r)throw Error(Ue(425))}function Sp(){}var gv=null,yv=null;function vv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _v=typeof setTimeout=="function"?setTimeout:void 0,KN=typeof clearTimeout=="function"?clearTimeout:void 0,hS=typeof Promise=="function"?Promise:void 0,QN=typeof queueMicrotask=="function"?queueMicrotask:typeof hS<"u"?function(t){return hS.resolve(null).then(t).catch(ZN)}:_v;function ZN(t){setTimeout(function(){throw t})}function k0(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),dc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);dc(e)}function Xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function cS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Uu=Math.random().toString(36).slice(2),ls="__reactFiber$"+Uu,yc="__reactProps$"+Uu,Zs="__reactContainer$"+Uu,bv="__reactEvents$"+Uu,JN="__reactListeners$"+Uu,e3="__reactHandles$"+Uu;function $a(t){var e=t[ls];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Zs]||r[ls]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=cS(t);t!==null;){if(r=t[ls])return r;t=cS(t)}return e}t=r,r=t.parentNode}return null}function Dc(t){return t=t[ls]||t[Zs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Jl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ue(33))}function _m(t){return t[yc]||null}var wv=[],eu=-1;function sa(t){return{current:t}}function Ft(t){0>eu||(t.current=wv[eu],wv[eu]=null,eu--)}function Mt(t,e){eu++,wv[eu]=t.current,t.current=e}var ea={},sn=sa(ea),An=sa(!1),tl=ea;function Tu(t,e){var r=t.type.contextTypes;if(!r)return ea;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Cn(t){return t=t.childContextTypes,t!=null}function Tp(){Ft(An),Ft(sn)}function dS(t,e,r){if(sn.current!==ea)throw Error(Ue(168));Mt(sn,e),Mt(An,r)}function XI(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Ue(108,FB(t)||"Unknown",i));return sr({},r,n)}function Ap(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ea,tl=sn.current,Mt(sn,t),Mt(An,An.current),!0}function fS(t,e,r){var n=t.stateNode;if(!n)throw Error(Ue(169));r?(t=XI(t,e,tl),n.__reactInternalMemoizedMergedChildContext=t,Ft(An),Ft(sn),Mt(sn,t)):Ft(An),Mt(An,r)}var Fs=null,bm=!1,O0=!1;function qI(t){Fs===null?Fs=[t]:Fs.push(t)}function t3(t){bm=!0,qI(t)}function oa(){if(!O0&&Fs!==null){O0=!0;var t=0,e=Pt;try{var r=Fs;for(Pt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Fs=null,bm=!1}catch(i){throw Fs!==null&&(Fs=Fs.slice(t+1)),_I(Pb,oa),i}finally{Pt=e,O0=!1}}return null}var tu=[],ru=0,Cp=null,Ip=0,ni=[],ii=0,rl=null,js=1,$s="";function Pa(t,e){tu[ru++]=Ip,tu[ru++]=Cp,Cp=t,Ip=e}function YI(t,e,r){ni[ii++]=js,ni[ii++]=$s,ni[ii++]=rl,rl=t;var n=js;t=$s;var i=32-Mi(n)-1;n&=~(1<<i),r+=1;var s=32-Mi(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,js=1<<32-Mi(e)+i|r<<i|n,$s=s+t}else js=1<<s|r<<i|n,$s=t}function Fb(t){t.return!==null&&(Pa(t,1),YI(t,1,0))}function Ub(t){for(;t===Cp;)Cp=tu[--ru],tu[ru]=null,Ip=tu[--ru],tu[ru]=null;for(;t===rl;)rl=ni[--ii],ni[ii]=null,$s=ni[--ii],ni[ii]=null,js=ni[--ii],ni[ii]=null}var zn=null,$n=null,Xt=!1,Pi=null;function KI(t,e){var r=si(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function pS(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,$n=Xo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,$n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=rl!==null?{id:js,overflow:$s}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=si(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,zn=t,$n=null,!0):!1;default:return!1}}function xv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ev(t){if(Xt){var e=$n;if(e){var r=e;if(!pS(t,e)){if(xv(t))throw Error(Ue(418));e=Xo(r.nextSibling);var n=zn;e&&pS(t,e)?KI(n,r):(t.flags=t.flags&-4097|2,Xt=!1,zn=t)}}else{if(xv(t))throw Error(Ue(418));t.flags=t.flags&-4097|2,Xt=!1,zn=t}}}function mS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function qd(t){if(t!==zn)return!1;if(!Xt)return mS(t),Xt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!vv(t.type,t.memoizedProps)),e&&(e=$n)){if(xv(t))throw QI(),Error(Ue(418));for(;e;)KI(t,e),e=Xo(e.nextSibling)}if(mS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$n=Xo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$n=null}}else $n=zn?Xo(t.stateNode.nextSibling):null;return!0}function QI(){for(var t=$n;t;)t=Xo(t.nextSibling)}function Au(){$n=zn=null,Xt=!1}function jb(t){Pi===null?Pi=[t]:Pi.push(t)}var r3=ao.ReactCurrentBatchConfig;function Ai(t,e){if(t&&t.defaultProps){e=sr({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var Pp=sa(null),Rp=null,nu=null,$b=null;function zb(){$b=nu=Rp=null}function Hb(t){var e=Pp.current;Ft(Pp),t._currentValue=e}function Sv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function pu(t,e){Rp=t,$b=nu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Sn=!0),t.firstContext=null)}function hi(t){var e=t._currentValue;if($b!==t)if(t={context:t,memoizedValue:e,next:null},nu===null){if(Rp===null)throw Error(Ue(308));nu=t,Rp.dependencies={lanes:0,firstContext:t}}else nu=nu.next=t;return e}var za=null;function Gb(t){za===null?za=[t]:za.push(t)}function ZI(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Gb(e)):(r.next=i.next,i.next=r),e.interleaved=r,Js(t,n)}function Js(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Mo=!1;function Wb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,bt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Js(t,r)}return i=n.interleaved,i===null?(e.next=e,Gb(n)):(e.next=i.next,i.next=e),n.interleaved=e,Js(t,r)}function zf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Rb(t,r)}}function gS(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function kp(t,e,r,n){var i=t.updateQueue;Mo=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=u=l=null,a=s;do{var p=a.lane,m=a.eventTime;if((n&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(p=e,m=r,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(m,f,p);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,p=typeof g=="function"?g.call(m,f,p):g,p==null)break e;f=sr({},f,p);break e;case 2:Mo=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=m,l=f):d=d.next=m,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);il|=o,t.lanes=o,t.memoizedState=f}}function yS(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Ue(191,i));i.call(n)}}}var eP=new ZC.Component().refs;function Tv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:sr({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var wm={isMounted:function(t){return(t=t._reactInternals)?ul(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=pn(),i=Ko(t),s=Xs(n,i);s.payload=e,r!=null&&(s.callback=r),e=qo(t,s,i),e!==null&&(Bi(e,t,i,n),zf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=pn(),i=Ko(t),s=Xs(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=qo(t,s,i),e!==null&&(Bi(e,t,i,n),zf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=pn(),n=Ko(t),i=Xs(r,n);i.tag=2,e!=null&&(i.callback=e),e=qo(t,i,n),e!==null&&(Bi(e,t,n,r),zf(e,t,n))}};function vS(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!pc(r,n)||!pc(i,s):!0}function tP(t,e,r){var n=!1,i=ea,s=e.contextType;return typeof s=="object"&&s!==null?s=hi(s):(i=Cn(e)?tl:sn.current,n=e.contextTypes,s=(n=n!=null)?Tu(t,i):ea),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wm,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _S(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&wm.enqueueReplaceState(e,e.state,null)}function Av(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=eP,Wb(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=hi(s):(s=Cn(e)?tl:sn.current,i.context=Tu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Tv(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&wm.enqueueReplaceState(i,i.state,null),kp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gh(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Ue(309));var n=r.stateNode}if(!n)throw Error(Ue(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===eP&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Ue(284));if(!r._owner)throw Error(Ue(290,t))}return t}function Yd(t,e){throw t=Object.prototype.toString.call(e),Error(Ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function bS(t){var e=t._init;return e(t._payload)}function rP(t){function e(S,x){if(t){var b=S.deletions;b===null?(S.deletions=[x],S.flags|=16):b.push(x)}}function r(S,x){if(!t)return null;for(;x!==null;)e(S,x),x=x.sibling;return null}function n(S,x){for(S=new Map;x!==null;)x.key!==null?S.set(x.key,x):S.set(x.index,x),x=x.sibling;return S}function i(S,x){return S=Qo(S,x),S.index=0,S.sibling=null,S}function s(S,x,b){return S.index=b,t?(b=S.alternate,b!==null?(b=b.index,b<x?(S.flags|=2,x):b):(S.flags|=2,x)):(S.flags|=1048576,x)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function a(S,x,b,I){return x===null||x.tag!==6?(x=U0(b,S.mode,I),x.return=S,x):(x=i(x,b),x.return=S,x)}function l(S,x,b,I){var O=b.type;return O===Yl?d(S,x,b.props.children,I,b.key):x!==null&&(x.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Oo&&bS(O)===x.type)?(I=i(x,b.props),I.ref=gh(S,x,b),I.return=S,I):(I=qf(b.type,b.key,b.props,null,S.mode,I),I.ref=gh(S,x,b),I.return=S,I)}function u(S,x,b,I){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=j0(b,S.mode,I),x.return=S,x):(x=i(x,b.children||[]),x.return=S,x)}function d(S,x,b,I,O){return x===null||x.tag!==7?(x=Xa(b,S.mode,I,O),x.return=S,x):(x=i(x,b),x.return=S,x)}function f(S,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return x=U0(""+x,S.mode,b),x.return=S,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Fd:return b=qf(x.type,x.key,x.props,null,S.mode,b),b.ref=gh(S,null,x),b.return=S,b;case ql:return x=j0(x,S.mode,b),x.return=S,x;case Oo:var I=x._init;return f(S,I(x._payload),b)}if(kh(x)||ch(x))return x=Xa(x,S.mode,b,null),x.return=S,x;Yd(S,x)}return null}function p(S,x,b,I){var O=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return O!==null?null:a(S,x,""+b,I);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fd:return b.key===O?l(S,x,b,I):null;case ql:return b.key===O?u(S,x,b,I):null;case Oo:return O=b._init,p(S,x,O(b._payload),I)}if(kh(b)||ch(b))return O!==null?null:d(S,x,b,I,null);Yd(S,b)}return null}function m(S,x,b,I,O){if(typeof I=="string"&&I!==""||typeof I=="number")return S=S.get(b)||null,a(x,S,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Fd:return S=S.get(I.key===null?b:I.key)||null,l(x,S,I,O);case ql:return S=S.get(I.key===null?b:I.key)||null,u(x,S,I,O);case Oo:var k=I._init;return m(S,x,b,k(I._payload),O)}if(kh(I)||ch(I))return S=S.get(b)||null,d(x,S,I,O,null);Yd(x,I)}return null}function g(S,x,b,I){for(var O=null,k=null,R=x,M=x=0,$=null;R!==null&&M<b.length;M++){R.index>M?($=R,R=null):$=R.sibling;var Y=p(S,R,b[M],I);if(Y===null){R===null&&(R=$);break}t&&R&&Y.alternate===null&&e(S,R),x=s(Y,x,M),k===null?O=Y:k.sibling=Y,k=Y,R=$}if(M===b.length)return r(S,R),Xt&&Pa(S,M),O;if(R===null){for(;M<b.length;M++)R=f(S,b[M],I),R!==null&&(x=s(R,x,M),k===null?O=R:k.sibling=R,k=R);return Xt&&Pa(S,M),O}for(R=n(S,R);M<b.length;M++)$=m(R,S,M,b[M],I),$!==null&&(t&&$.alternate!==null&&R.delete($.key===null?M:$.key),x=s($,x,M),k===null?O=$:k.sibling=$,k=$);return t&&R.forEach(function(se){return e(S,se)}),Xt&&Pa(S,M),O}function v(S,x,b,I){var O=ch(b);if(typeof O!="function")throw Error(Ue(150));if(b=O.call(b),b==null)throw Error(Ue(151));for(var k=O=null,R=x,M=x=0,$=null,Y=b.next();R!==null&&!Y.done;M++,Y=b.next()){R.index>M?($=R,R=null):$=R.sibling;var se=p(S,R,Y.value,I);if(se===null){R===null&&(R=$);break}t&&R&&se.alternate===null&&e(S,R),x=s(se,x,M),k===null?O=se:k.sibling=se,k=se,R=$}if(Y.done)return r(S,R),Xt&&Pa(S,M),O;if(R===null){for(;!Y.done;M++,Y=b.next())Y=f(S,Y.value,I),Y!==null&&(x=s(Y,x,M),k===null?O=Y:k.sibling=Y,k=Y);return Xt&&Pa(S,M),O}for(R=n(S,R);!Y.done;M++,Y=b.next())Y=m(R,S,M,Y.value,I),Y!==null&&(t&&Y.alternate!==null&&R.delete(Y.key===null?M:Y.key),x=s(Y,x,M),k===null?O=Y:k.sibling=Y,k=Y);return t&&R.forEach(function(B){return e(S,B)}),Xt&&Pa(S,M),O}function C(S,x,b,I){if(typeof b=="object"&&b!==null&&b.type===Yl&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Fd:e:{for(var O=b.key,k=x;k!==null;){if(k.key===O){if(O=b.type,O===Yl){if(k.tag===7){r(S,k.sibling),x=i(k,b.props.children),x.return=S,S=x;break e}}else if(k.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Oo&&bS(O)===k.type){r(S,k.sibling),x=i(k,b.props),x.ref=gh(S,k,b),x.return=S,S=x;break e}r(S,k);break}else e(S,k);k=k.sibling}b.type===Yl?(x=Xa(b.props.children,S.mode,I,b.key),x.return=S,S=x):(I=qf(b.type,b.key,b.props,null,S.mode,I),I.ref=gh(S,x,b),I.return=S,S=I)}return o(S);case ql:e:{for(k=b.key;x!==null;){if(x.key===k)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){r(S,x.sibling),x=i(x,b.children||[]),x.return=S,S=x;break e}else{r(S,x);break}else e(S,x);x=x.sibling}x=j0(b,S.mode,I),x.return=S,S=x}return o(S);case Oo:return k=b._init,C(S,x,k(b._payload),I)}if(kh(b))return g(S,x,b,I);if(ch(b))return v(S,x,b,I);Yd(S,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,x!==null&&x.tag===6?(r(S,x.sibling),x=i(x,b),x.return=S,S=x):(r(S,x),x=U0(b,S.mode,I),x.return=S,S=x),o(S)):r(S,x)}return C}var Cu=rP(!0),nP=rP(!1),Lc={},ms=sa(Lc),vc=sa(Lc),_c=sa(Lc);function Ha(t){if(t===Lc)throw Error(Ue(174));return t}function Vb(t,e){switch(Mt(_c,e),Mt(vc,t),Mt(ms,Lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:iv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=iv(e,t)}Ft(ms),Mt(ms,e)}function Iu(){Ft(ms),Ft(vc),Ft(_c)}function iP(t){Ha(_c.current);var e=Ha(ms.current),r=iv(e,t.type);e!==r&&(Mt(vc,t),Mt(ms,r))}function Xb(t){vc.current===t&&(Ft(ms),Ft(vc))}var rr=sa(0);function Op(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var M0=[];function qb(){for(var t=0;t<M0.length;t++)M0[t]._workInProgressVersionPrimary=null;M0.length=0}var Hf=ao.ReactCurrentDispatcher,B0=ao.ReactCurrentBatchConfig,nl=0,ir=null,Er=null,Nr=null,Mp=!1,Kh=!1,bc=0,n3=0;function en(){throw Error(Ue(321))}function Yb(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Li(t[r],e[r]))return!1;return!0}function Kb(t,e,r,n,i,s){if(nl=s,ir=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hf.current=t===null||t.memoizedState===null?a3:l3,t=r(n,i),Kh){s=0;do{if(Kh=!1,bc=0,25<=s)throw Error(Ue(301));s+=1,Nr=Er=null,e.updateQueue=null,Hf.current=u3,t=r(n,i)}while(Kh)}if(Hf.current=Bp,e=Er!==null&&Er.next!==null,nl=0,Nr=Er=ir=null,Mp=!1,e)throw Error(Ue(300));return t}function Qb(){var t=bc!==0;return bc=0,t}function is(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nr===null?ir.memoizedState=Nr=t:Nr=Nr.next=t,Nr}function ci(){if(Er===null){var t=ir.alternate;t=t!==null?t.memoizedState:null}else t=Er.next;var e=Nr===null?ir.memoizedState:Nr.next;if(e!==null)Nr=e,Er=t;else{if(t===null)throw Error(Ue(310));Er=t,t={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},Nr===null?ir.memoizedState=Nr=t:Nr=Nr.next=t}return Nr}function wc(t,e){return typeof e=="function"?e(t):e}function N0(t){var e=ci(),r=e.queue;if(r===null)throw Error(Ue(311));r.lastRenderedReducer=t;var n=Er,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var d=u.lane;if((nl&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,ir.lanes|=d,il|=d}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Li(n,e.memoizedState)||(Sn=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ir.lanes|=s,il|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function D0(t){var e=ci(),r=e.queue;if(r===null)throw Error(Ue(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Li(s,e.memoizedState)||(Sn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function sP(){}function oP(t,e){var r=ir,n=ci(),i=e(),s=!Li(n.memoizedState,i);if(s&&(n.memoizedState=i,Sn=!0),n=n.queue,Zb(uP.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Nr!==null&&Nr.memoizedState.tag&1){if(r.flags|=2048,xc(9,lP.bind(null,r,n,i,e),void 0,null),Fr===null)throw Error(Ue(349));nl&30||aP(r,e,i)}return i}function aP(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ir.updateQueue,e===null?(e={lastEffect:null,stores:null},ir.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function lP(t,e,r,n){e.value=r,e.getSnapshot=n,hP(e)&&cP(t)}function uP(t,e,r){return r(function(){hP(e)&&cP(t)})}function hP(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Li(t,r)}catch{return!0}}function cP(t){var e=Js(t,1);e!==null&&Bi(e,t,1,-1)}function wS(t){var e=is();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wc,lastRenderedState:t},e.queue=t,t=t.dispatch=o3.bind(null,ir,t),[e.memoizedState,t]}function xc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ir.updateQueue,e===null?(e={lastEffect:null,stores:null},ir.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function dP(){return ci().memoizedState}function Gf(t,e,r,n){var i=is();ir.flags|=t,i.memoizedState=xc(1|e,r,void 0,n===void 0?null:n)}function xm(t,e,r,n){var i=ci();n=n===void 0?null:n;var s=void 0;if(Er!==null){var o=Er.memoizedState;if(s=o.destroy,n!==null&&Yb(n,o.deps)){i.memoizedState=xc(e,r,s,n);return}}ir.flags|=t,i.memoizedState=xc(1|e,r,s,n)}function xS(t,e){return Gf(8390656,8,t,e)}function Zb(t,e){return xm(2048,8,t,e)}function fP(t,e){return xm(4,2,t,e)}function pP(t,e){return xm(4,4,t,e)}function mP(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gP(t,e,r){return r=r!=null?r.concat([t]):null,xm(4,4,mP.bind(null,e,t),r)}function Jb(){}function yP(t,e){var r=ci();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Yb(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function vP(t,e){var r=ci();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Yb(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function _P(t,e,r){return nl&21?(Li(r,e)||(r=xI(),ir.lanes|=r,il|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Sn=!0),t.memoizedState=r)}function i3(t,e){var r=Pt;Pt=r!==0&&4>r?r:4,t(!0);var n=B0.transition;B0.transition={};try{t(!1),e()}finally{Pt=r,B0.transition=n}}function bP(){return ci().memoizedState}function s3(t,e,r){var n=Ko(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},wP(t))xP(e,r);else if(r=ZI(t,e,r,n),r!==null){var i=pn();Bi(r,t,n,i),EP(r,e,n)}}function o3(t,e,r){var n=Ko(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(wP(t))xP(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Li(a,o)){var l=e.interleaved;l===null?(i.next=i,Gb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=ZI(t,e,i,n),r!==null&&(i=pn(),Bi(r,t,n,i),EP(r,e,n))}}function wP(t){var e=t.alternate;return t===ir||e!==null&&e===ir}function xP(t,e){Kh=Mp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function EP(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Rb(t,r)}}var Bp={readContext:hi,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},a3={readContext:hi,useCallback:function(t,e){return is().memoizedState=[t,e===void 0?null:e],t},useContext:hi,useEffect:xS,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Gf(4194308,4,mP.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Gf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gf(4,2,t,e)},useMemo:function(t,e){var r=is();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=is();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=s3.bind(null,ir,t),[n.memoizedState,t]},useRef:function(t){var e=is();return t={current:t},e.memoizedState=t},useState:wS,useDebugValue:Jb,useDeferredValue:function(t){return is().memoizedState=t},useTransition:function(){var t=wS(!1),e=t[0];return t=i3.bind(null,t[1]),is().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ir,i=is();if(Xt){if(r===void 0)throw Error(Ue(407));r=r()}else{if(r=e(),Fr===null)throw Error(Ue(349));nl&30||aP(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,xS(uP.bind(null,n,s,t),[t]),n.flags|=2048,xc(9,lP.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=is(),e=Fr.identifierPrefix;if(Xt){var r=$s,n=js;r=(n&~(1<<32-Mi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=bc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=n3++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},l3={readContext:hi,useCallback:yP,useContext:hi,useEffect:Zb,useImperativeHandle:gP,useInsertionEffect:fP,useLayoutEffect:pP,useMemo:vP,useReducer:N0,useRef:dP,useState:function(){return N0(wc)},useDebugValue:Jb,useDeferredValue:function(t){var e=ci();return _P(e,Er.memoizedState,t)},useTransition:function(){var t=N0(wc)[0],e=ci().memoizedState;return[t,e]},useMutableSource:sP,useSyncExternalStore:oP,useId:bP,unstable_isNewReconciler:!1},u3={readContext:hi,useCallback:yP,useContext:hi,useEffect:Zb,useImperativeHandle:gP,useInsertionEffect:fP,useLayoutEffect:pP,useMemo:vP,useReducer:D0,useRef:dP,useState:function(){return D0(wc)},useDebugValue:Jb,useDeferredValue:function(t){var e=ci();return Er===null?e.memoizedState=t:_P(e,Er.memoizedState,t)},useTransition:function(){var t=D0(wc)[0],e=ci().memoizedState;return[t,e]},useMutableSource:sP,useSyncExternalStore:oP,useId:bP,unstable_isNewReconciler:!1};function Pu(t,e){try{var r="",n=e;do r+=LB(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function L0(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Cv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var h3=typeof WeakMap=="function"?WeakMap:Map;function SP(t,e,r){r=Xs(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Dp||(Dp=!0,Lv=n),Cv(t,e)},r}function TP(t,e,r){r=Xs(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Cv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Cv(t,e),typeof n!="function"&&(Yo===null?Yo=new Set([this]):Yo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function ES(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new h3;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=S3.bind(null,t,e,r),e.then(t,t))}function SS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function TS(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Xs(-1,1),e.tag=2,qo(r,e,1))),r.lanes|=1),t)}var c3=ao.ReactCurrentOwner,Sn=!1;function dn(t,e,r,n){e.child=t===null?nP(e,null,r,n):Cu(e,t.child,r,n)}function AS(t,e,r,n,i){r=r.render;var s=e.ref;return pu(e,i),n=Kb(t,e,r,n,s,i),r=Qb(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,eo(t,e,i)):(Xt&&r&&Fb(e),e.flags|=1,dn(t,e,n,i),e.child)}function CS(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!aw(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,AP(t,e,s,n,i)):(t=qf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:pc,r(o,n)&&t.ref===e.ref)return eo(t,e,i)}return e.flags|=1,t=Qo(s,n),t.ref=e.ref,t.return=e,e.child=t}function AP(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(pc(s,n)&&t.ref===e.ref)if(Sn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Sn=!0);else return e.lanes=t.lanes,eo(t,e,i)}return Iv(t,e,r,n,i)}function CP(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(su,jn),jn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mt(su,jn),jn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Mt(su,jn),jn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Mt(su,jn),jn|=n;return dn(t,e,i,r),e.child}function IP(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Iv(t,e,r,n,i){var s=Cn(r)?tl:sn.current;return s=Tu(e,s),pu(e,i),r=Kb(t,e,r,n,s,i),n=Qb(),t!==null&&!Sn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,eo(t,e,i)):(Xt&&n&&Fb(e),e.flags|=1,dn(t,e,r,i),e.child)}function IS(t,e,r,n,i){if(Cn(r)){var s=!0;Ap(e)}else s=!1;if(pu(e,i),e.stateNode===null)Wf(t,e),tP(e,r,n),Av(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=hi(u):(u=Cn(r)?tl:sn.current,u=Tu(e,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&_S(e,o,n,u),Mo=!1;var p=e.memoizedState;o.state=p,kp(e,n,o,i),l=e.memoizedState,a!==n||p!==l||An.current||Mo?(typeof d=="function"&&(Tv(e,r,d,n),l=e.memoizedState),(a=Mo||vS(e,r,a,n,p,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,JI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Ai(e.type,a),o.props=u,f=e.pendingProps,p=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=hi(l):(l=Cn(r)?tl:sn.current,l=Tu(e,l));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&_S(e,o,n,l),Mo=!1,p=e.memoizedState,o.state=p,kp(e,n,o,i);var g=e.memoizedState;a!==f||p!==g||An.current||Mo?(typeof m=="function"&&(Tv(e,r,m,n),g=e.memoizedState),(u=Mo||vS(e,r,u,n,p,g,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return Pv(t,e,r,n,s,i)}function Pv(t,e,r,n,i,s){IP(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&fS(e,r,!1),eo(t,e,s);n=e.stateNode,c3.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Cu(e,t.child,null,s),e.child=Cu(e,null,a,s)):dn(t,e,a,s),e.memoizedState=n.state,i&&fS(e,r,!0),e.child}function PP(t){var e=t.stateNode;e.pendingContext?dS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dS(t,e.context,!1),Vb(t,e.containerInfo)}function PS(t,e,r,n,i){return Au(),jb(i),e.flags|=256,dn(t,e,r,n),e.child}var Rv={dehydrated:null,treeContext:null,retryLane:0};function kv(t){return{baseLanes:t,cachePool:null,transitions:null}}function RP(t,e,r){var n=e.pendingProps,i=rr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Mt(rr,i&1),t===null)return Ev(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Tm(o,n,0,null),t=Xa(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=kv(r),e.memoizedState=Rv,t):ew(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return d3(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Qo(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Qo(a,s):(s=Xa(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?kv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Rv,n}return s=t.child,t=s.sibling,n=Qo(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ew(t,e){return e=Tm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Kd(t,e,r,n){return n!==null&&jb(n),Cu(e,t.child,null,r),t=ew(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function d3(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=L0(Error(Ue(422))),Kd(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Tm({mode:"visible",children:n.children},i,0,null),s=Xa(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Cu(e,t.child,null,o),e.child.memoizedState=kv(o),e.memoizedState=Rv,s);if(!(e.mode&1))return Kd(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(Ue(419)),n=L0(s,n,void 0),Kd(t,e,o,n)}if(a=(o&t.childLanes)!==0,Sn||a){if(n=Fr,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Js(t,i),Bi(n,t,i,-1))}return ow(),n=L0(Error(Ue(421))),Kd(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=T3.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,$n=Xo(i.nextSibling),zn=e,Xt=!0,Pi=null,t!==null&&(ni[ii++]=js,ni[ii++]=$s,ni[ii++]=rl,js=t.id,$s=t.overflow,rl=e),e=ew(e,n.children),e.flags|=4096,e)}function RS(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Sv(t.return,e,r)}function F0(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function kP(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(dn(t,e,n.children,r),n=rr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&RS(t,r,e);else if(t.tag===19)RS(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Mt(rr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Op(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),F0(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Op(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}F0(e,!0,r,null,s);break;case"together":F0(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Wf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function eo(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),il|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ue(153));if(e.child!==null){for(t=e.child,r=Qo(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Qo(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function f3(t,e,r){switch(e.tag){case 3:PP(e),Au();break;case 5:iP(e);break;case 1:Cn(e.type)&&Ap(e);break;case 4:Vb(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Mt(Pp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Mt(rr,rr.current&1),e.flags|=128,null):r&e.child.childLanes?RP(t,e,r):(Mt(rr,rr.current&1),t=eo(t,e,r),t!==null?t.sibling:null);Mt(rr,rr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return kP(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Mt(rr,rr.current),n)break;return null;case 22:case 23:return e.lanes=0,CP(t,e,r)}return eo(t,e,r)}var OP,Ov,MP,BP;OP=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Ov=function(){};MP=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ha(ms.current);var s=null;switch(r){case"input":i=ev(t,i),n=ev(t,n),s=[];break;case"select":i=sr({},i,{value:void 0}),n=sr({},n,{value:void 0}),s=[];break;case"textarea":i=nv(t,i),n=nv(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Sp)}sv(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ac.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ac.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Lt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};BP=function(t,e,r,n){r!==n&&(e.flags|=4)};function yh(t,e){if(!Xt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function p3(t,e,r){var n=e.pendingProps;switch(Ub(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return Cn(e.type)&&Tp(),tn(e),null;case 3:return n=e.stateNode,Iu(),Ft(An),Ft(sn),qb(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(qd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Pi!==null&&(jv(Pi),Pi=null))),Ov(t,e),tn(e),null;case 5:Xb(e);var i=Ha(_c.current);if(r=e.type,t!==null&&e.stateNode!=null)MP(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ue(166));return tn(e),null}if(t=Ha(ms.current),qd(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ls]=e,n[yc]=s,t=(e.mode&1)!==0,r){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(i=0;i<Mh.length;i++)Lt(Mh[i],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":UE(n,s),Lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Lt("invalid",n);break;case"textarea":$E(n,s),Lt("invalid",n)}sv(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Xd(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Xd(n.textContent,a,t),i=["children",""+a]):ac.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Lt("scroll",n)}switch(r){case"input":Ud(n),jE(n,s,!0);break;case"textarea":Ud(n),zE(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Sp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aI(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ls]=e,t[yc]=n,OP(t,e,!1,!1),e.stateNode=t;e:{switch(o=ov(r,n),r){case"dialog":Lt("cancel",t),Lt("close",t),i=n;break;case"iframe":case"object":case"embed":Lt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Mh.length;i++)Lt(Mh[i],t);i=n;break;case"source":Lt("error",t),i=n;break;case"img":case"image":case"link":Lt("error",t),Lt("load",t),i=n;break;case"details":Lt("toggle",t),i=n;break;case"input":UE(t,n),i=ev(t,n),Lt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=sr({},n,{value:void 0}),Lt("invalid",t);break;case"textarea":$E(t,n),i=nv(t,n),Lt("invalid",t);break;default:i=n}sv(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?hI(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lI(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&lc(t,l):typeof l=="number"&&lc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ac.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Lt("scroll",t):l!=null&&Sb(t,s,l,o))}switch(r){case"input":Ud(t),jE(t,n,!1);break;case"textarea":Ud(t),zE(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Jo(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?hu(t,!!n.multiple,s,!1):n.defaultValue!=null&&hu(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Sp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)BP(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ue(166));if(r=Ha(_c.current),Ha(ms.current),qd(e)){if(n=e.stateNode,r=e.memoizedProps,n[ls]=e,(s=n.nodeValue!==r)&&(t=zn,t!==null))switch(t.tag){case 3:Xd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Xd(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ls]=e,e.stateNode=n}return tn(e),null;case 13:if(Ft(rr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Xt&&$n!==null&&e.mode&1&&!(e.flags&128))QI(),Au(),e.flags|=98560,s=!1;else if(s=qd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Ue(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Ue(317));s[ls]=e}else Au(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),s=!1}else Pi!==null&&(jv(Pi),Pi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||rr.current&1?Tr===0&&(Tr=3):ow())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return Iu(),Ov(t,e),t===null&&mc(e.stateNode.containerInfo),tn(e),null;case 10:return Hb(e.type._context),tn(e),null;case 17:return Cn(e.type)&&Tp(),tn(e),null;case 19:if(Ft(rr),s=e.memoizedState,s===null)return tn(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)yh(s,!1);else{if(Tr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Op(t),o!==null){for(e.flags|=128,yh(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Mt(rr,rr.current&1|2),e.child}t=t.sibling}s.tail!==null&&pr()>Ru&&(e.flags|=128,n=!0,yh(s,!1),e.lanes=4194304)}else{if(!n)if(t=Op(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),yh(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Xt)return tn(e),null}else 2*pr()-s.renderingStartTime>Ru&&r!==1073741824&&(e.flags|=128,n=!0,yh(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pr(),e.sibling=null,r=rr.current,Mt(rr,n?r&1|2:r&1),e):(tn(e),null);case 22:case 23:return sw(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?jn&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(Ue(156,e.tag))}function m3(t,e){switch(Ub(e),e.tag){case 1:return Cn(e.type)&&Tp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Iu(),Ft(An),Ft(sn),qb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xb(e),null;case 13:if(Ft(rr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ue(340));Au()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ft(rr),null;case 4:return Iu(),null;case 10:return Hb(e.type._context),null;case 22:case 23:return sw(),null;case 24:return null;default:return null}}var Qd=!1,nn=!1,g3=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function iu(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ur(t,e,n)}else r.current=null}function Mv(t,e,r){try{r()}catch(n){ur(t,e,n)}}var kS=!1;function y3(t,e){if(gv=wp,t=FI(),Lb(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,d=0,f=t,p=null;t:for(;;){for(var m;f!==r||i!==0&&f.nodeType!==3||(a=o+i),f!==s||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===r&&++u===i&&(a=o),p===s&&++d===n&&(l=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(yv={focusedElem:t,selectionRange:r},wp=!1,Ke=e;Ke!==null;)if(e=Ke,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ke=t;else for(;Ke!==null;){e=Ke;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,C=g.memoizedState,S=e.stateNode,x=S.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ai(e.type,v),C);S.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(I){ur(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,Ke=t;break}Ke=e.return}return g=kS,kS=!1,g}function Qh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Mv(e,r,s)}i=i.next}while(i!==n)}}function Em(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Bv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function NP(t){var e=t.alternate;e!==null&&(t.alternate=null,NP(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ls],delete e[yc],delete e[bv],delete e[JN],delete e[e3])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function DP(t){return t.tag===5||t.tag===3||t.tag===4}function OS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||DP(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Sp));else if(n!==4&&(t=t.child,t!==null))for(Nv(t,e,r),t=t.sibling;t!==null;)Nv(t,e,r),t=t.sibling}function Dv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Dv(t,e,r),t=t.sibling;t!==null;)Dv(t,e,r),t=t.sibling}var Hr=null,Ci=!1;function Eo(t,e,r){for(r=r.child;r!==null;)LP(t,e,r),r=r.sibling}function LP(t,e,r){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(mm,r)}catch{}switch(r.tag){case 5:nn||iu(r,e);case 6:var n=Hr,i=Ci;Hr=null,Eo(t,e,r),Hr=n,Ci=i,Hr!==null&&(Ci?(t=Hr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Hr.removeChild(r.stateNode));break;case 18:Hr!==null&&(Ci?(t=Hr,r=r.stateNode,t.nodeType===8?k0(t.parentNode,r):t.nodeType===1&&k0(t,r),dc(t)):k0(Hr,r.stateNode));break;case 4:n=Hr,i=Ci,Hr=r.stateNode.containerInfo,Ci=!0,Eo(t,e,r),Hr=n,Ci=i;break;case 0:case 11:case 14:case 15:if(!nn&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mv(r,e,o),i=i.next}while(i!==n)}Eo(t,e,r);break;case 1:if(!nn&&(iu(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){ur(r,e,a)}Eo(t,e,r);break;case 21:Eo(t,e,r);break;case 22:r.mode&1?(nn=(n=nn)||r.memoizedState!==null,Eo(t,e,r),nn=n):Eo(t,e,r);break;default:Eo(t,e,r)}}function MS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new g3),e.forEach(function(n){var i=A3.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function vi(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Hr=a.stateNode,Ci=!1;break e;case 3:Hr=a.stateNode.containerInfo,Ci=!0;break e;case 4:Hr=a.stateNode.containerInfo,Ci=!0;break e}a=a.return}if(Hr===null)throw Error(Ue(160));LP(s,o,i),Hr=null,Ci=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ur(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FP(e,t),e=e.sibling}function FP(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vi(e,t),Yi(t),n&4){try{Qh(3,t,t.return),Em(3,t)}catch(v){ur(t,t.return,v)}try{Qh(5,t,t.return)}catch(v){ur(t,t.return,v)}}break;case 1:vi(e,t),Yi(t),n&512&&r!==null&&iu(r,r.return);break;case 5:if(vi(e,t),Yi(t),n&512&&r!==null&&iu(r,r.return),t.flags&32){var i=t.stateNode;try{lc(i,"")}catch(v){ur(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&sI(i,s),ov(a,o);var u=ov(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?hI(i,f):d==="dangerouslySetInnerHTML"?lI(i,f):d==="children"?lc(i,f):Sb(i,d,f,u)}switch(a){case"input":tv(i,s);break;case"textarea":oI(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?hu(i,!!s.multiple,m,!1):p!==!!s.multiple&&(s.defaultValue!=null?hu(i,!!s.multiple,s.defaultValue,!0):hu(i,!!s.multiple,s.multiple?[]:"",!1))}i[yc]=s}catch(v){ur(t,t.return,v)}}break;case 6:if(vi(e,t),Yi(t),n&4){if(t.stateNode===null)throw Error(Ue(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){ur(t,t.return,v)}}break;case 3:if(vi(e,t),Yi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{dc(e.containerInfo)}catch(v){ur(t,t.return,v)}break;case 4:vi(e,t),Yi(t);break;case 13:vi(e,t),Yi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(nw=pr())),n&4&&MS(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(nn=(u=nn)||d,vi(e,t),nn=u):vi(e,t),Yi(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(Ke=t,d=t.child;d!==null;){for(f=Ke=d;Ke!==null;){switch(p=Ke,m=p.child,p.tag){case 0:case 11:case 14:case 15:Qh(4,p,p.return);break;case 1:iu(p,p.return);var g=p.stateNode;if(typeof g.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){ur(n,r,v)}}break;case 5:iu(p,p.return);break;case 22:if(p.memoizedState!==null){NS(f);continue}}m!==null?(m.return=p,Ke=m):NS(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=uI("display",o))}catch(v){ur(t,t.return,v)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(v){ur(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vi(e,t),Yi(t),n&4&&MS(t);break;case 21:break;default:vi(e,t),Yi(t)}}function Yi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(DP(r)){var n=r;break e}r=r.return}throw Error(Ue(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(lc(i,""),n.flags&=-33);var s=OS(t);Dv(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=OS(t);Nv(t,a,o);break;default:throw Error(Ue(161))}}catch(l){ur(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function v3(t,e,r){Ke=t,UP(t)}function UP(t,e,r){for(var n=(t.mode&1)!==0;Ke!==null;){var i=Ke,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Qd;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||nn;a=Qd;var u=nn;if(Qd=o,(nn=l)&&!u)for(Ke=i;Ke!==null;)o=Ke,l=o.child,o.tag===22&&o.memoizedState!==null?DS(i):l!==null?(l.return=o,Ke=l):DS(i);for(;s!==null;)Ke=s,UP(s),s=s.sibling;Ke=i,Qd=a,nn=u}BS(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ke=s):BS(t)}}function BS(t){for(;Ke!==null;){var e=Ke;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:nn||Em(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!nn)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Ai(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&yS(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}yS(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&dc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}nn||e.flags&512&&Bv(e)}catch(p){ur(e,e.return,p)}}if(e===t){Ke=null;break}if(r=e.sibling,r!==null){r.return=e.return,Ke=r;break}Ke=e.return}}function NS(t){for(;Ke!==null;){var e=Ke;if(e===t){Ke=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Ke=r;break}Ke=e.return}}function DS(t){for(;Ke!==null;){var e=Ke;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Em(4,e)}catch(l){ur(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){ur(e,i,l)}}var s=e.return;try{Bv(e)}catch(l){ur(e,s,l)}break;case 5:var o=e.return;try{Bv(e)}catch(l){ur(e,o,l)}}}catch(l){ur(e,e.return,l)}if(e===t){Ke=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Ke=a;break}Ke=e.return}}var _3=Math.ceil,Np=ao.ReactCurrentDispatcher,tw=ao.ReactCurrentOwner,li=ao.ReactCurrentBatchConfig,bt=0,Fr=null,vr=null,Wr=0,jn=0,su=sa(0),Tr=0,Ec=null,il=0,Sm=0,rw=0,Zh=null,En=null,nw=0,Ru=1/0,Ns=null,Dp=!1,Lv=null,Yo=null,Zd=!1,jo=null,Lp=0,Jh=0,Fv=null,Vf=-1,Xf=0;function pn(){return bt&6?pr():Vf!==-1?Vf:Vf=pr()}function Ko(t){return t.mode&1?bt&2&&Wr!==0?Wr&-Wr:r3.transition!==null?(Xf===0&&(Xf=xI()),Xf):(t=Pt,t!==0||(t=window.event,t=t===void 0?16:PI(t.type)),t):1}function Bi(t,e,r,n){if(50<Jh)throw Jh=0,Fv=null,Error(Ue(185));Bc(t,r,n),(!(bt&2)||t!==Fr)&&(t===Fr&&(!(bt&2)&&(Sm|=r),Tr===4&&Lo(t,Wr)),In(t,n),r===1&&bt===0&&!(e.mode&1)&&(Ru=pr()+500,bm&&oa()))}function In(t,e){var r=t.callbackNode;rN(t,e);var n=bp(t,t===Fr?Wr:0);if(n===0)r!==null&&WE(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&WE(r),e===1)t.tag===0?t3(LS.bind(null,t)):qI(LS.bind(null,t)),QN(function(){!(bt&6)&&oa()}),r=null;else{switch(EI(n)){case 1:r=Pb;break;case 4:r=bI;break;case 16:r=_p;break;case 536870912:r=wI;break;default:r=_p}r=XP(r,jP.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function jP(t,e){if(Vf=-1,Xf=0,bt&6)throw Error(Ue(327));var r=t.callbackNode;if(mu()&&t.callbackNode!==r)return null;var n=bp(t,t===Fr?Wr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Fp(t,n);else{e=n;var i=bt;bt|=2;var s=zP();(Fr!==t||Wr!==e)&&(Ns=null,Ru=pr()+500,Va(t,e));do try{x3();break}catch(a){$P(t,a)}while(!0);zb(),Np.current=s,bt=i,vr!==null?e=0:(Fr=null,Wr=0,e=Tr)}if(e!==0){if(e===2&&(i=cv(t),i!==0&&(n=i,e=Uv(t,i))),e===1)throw r=Ec,Va(t,0),Lo(t,n),In(t,pr()),r;if(e===6)Lo(t,n);else{if(i=t.current.alternate,!(n&30)&&!b3(i)&&(e=Fp(t,n),e===2&&(s=cv(t),s!==0&&(n=s,e=Uv(t,s))),e===1))throw r=Ec,Va(t,0),Lo(t,n),In(t,pr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Ue(345));case 2:Ra(t,En,Ns);break;case 3:if(Lo(t,n),(n&130023424)===n&&(e=nw+500-pr(),10<e)){if(bp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){pn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_v(Ra.bind(null,t,En,Ns),e);break}Ra(t,En,Ns);break;case 4:if(Lo(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Mi(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=pr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_3(n/1960))-n,10<n){t.timeoutHandle=_v(Ra.bind(null,t,En,Ns),n);break}Ra(t,En,Ns);break;case 5:Ra(t,En,Ns);break;default:throw Error(Ue(329))}}}return In(t,pr()),t.callbackNode===r?jP.bind(null,t):null}function Uv(t,e){var r=Zh;return t.current.memoizedState.isDehydrated&&(Va(t,e).flags|=256),t=Fp(t,e),t!==2&&(e=En,En=r,e!==null&&jv(e)),t}function jv(t){En===null?En=t:En.push.apply(En,t)}function b3(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Li(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Lo(t,e){for(e&=~rw,e&=~Sm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Mi(e),n=1<<r;t[r]=-1,e&=~n}}function LS(t){if(bt&6)throw Error(Ue(327));mu();var e=bp(t,0);if(!(e&1))return In(t,pr()),null;var r=Fp(t,e);if(t.tag!==0&&r===2){var n=cv(t);n!==0&&(e=n,r=Uv(t,n))}if(r===1)throw r=Ec,Va(t,0),Lo(t,e),In(t,pr()),r;if(r===6)throw Error(Ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ra(t,En,Ns),In(t,pr()),null}function iw(t,e){var r=bt;bt|=1;try{return t(e)}finally{bt=r,bt===0&&(Ru=pr()+500,bm&&oa())}}function sl(t){jo!==null&&jo.tag===0&&!(bt&6)&&mu();var e=bt;bt|=1;var r=li.transition,n=Pt;try{if(li.transition=null,Pt=1,t)return t()}finally{Pt=n,li.transition=r,bt=e,!(bt&6)&&oa()}}function sw(){jn=su.current,Ft(su)}function Va(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,KN(r)),vr!==null)for(r=vr.return;r!==null;){var n=r;switch(Ub(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Tp();break;case 3:Iu(),Ft(An),Ft(sn),qb();break;case 5:Xb(n);break;case 4:Iu();break;case 13:Ft(rr);break;case 19:Ft(rr);break;case 10:Hb(n.type._context);break;case 22:case 23:sw()}r=r.return}if(Fr=t,vr=t=Qo(t.current,null),Wr=jn=e,Tr=0,Ec=null,rw=Sm=il=0,En=Zh=null,za!==null){for(e=0;e<za.length;e++)if(r=za[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}za=null}return t}function $P(t,e){do{var r=vr;try{if(zb(),Hf.current=Bp,Mp){for(var n=ir.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Mp=!1}if(nl=0,Nr=Er=ir=null,Kh=!1,bc=0,tw.current=null,r===null||r.return===null){Tr=1,Ec=e,vr=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=Wr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=SS(o);if(m!==null){m.flags&=-257,TS(m,o,a,s,e),m.mode&1&&ES(s,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){ES(s,u,e),ow();break e}l=Error(Ue(426))}}else if(Xt&&a.mode&1){var C=SS(o);if(C!==null){!(C.flags&65536)&&(C.flags|=256),TS(C,o,a,s,e),jb(Pu(l,a));break e}}s=l=Pu(l,a),Tr!==4&&(Tr=2),Zh===null?Zh=[s]:Zh.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=SP(s,l,e);gS(s,S);break e;case 1:a=l;var x=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(Yo===null||!Yo.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=TP(s,a,e);gS(s,I);break e}}s=s.return}while(s!==null)}GP(r)}catch(O){e=O,vr===r&&r!==null&&(vr=r=r.return);continue}break}while(!0)}function zP(){var t=Np.current;return Np.current=Bp,t===null?Bp:t}function ow(){(Tr===0||Tr===3||Tr===2)&&(Tr=4),Fr===null||!(il&268435455)&&!(Sm&268435455)||Lo(Fr,Wr)}function Fp(t,e){var r=bt;bt|=2;var n=zP();(Fr!==t||Wr!==e)&&(Ns=null,Va(t,e));do try{w3();break}catch(i){$P(t,i)}while(!0);if(zb(),bt=r,Np.current=n,vr!==null)throw Error(Ue(261));return Fr=null,Wr=0,Tr}function w3(){for(;vr!==null;)HP(vr)}function x3(){for(;vr!==null&&!XB();)HP(vr)}function HP(t){var e=VP(t.alternate,t,jn);t.memoizedProps=t.pendingProps,e===null?GP(t):vr=e,tw.current=null}function GP(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=m3(r,e),r!==null){r.flags&=32767,vr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tr=6,vr=null;return}}else if(r=p3(r,e,jn),r!==null){vr=r;return}if(e=e.sibling,e!==null){vr=e;return}vr=e=t}while(e!==null);Tr===0&&(Tr=5)}function Ra(t,e,r){var n=Pt,i=li.transition;try{li.transition=null,Pt=1,E3(t,e,r,n)}finally{li.transition=i,Pt=n}return null}function E3(t,e,r,n){do mu();while(jo!==null);if(bt&6)throw Error(Ue(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Ue(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(nN(t,s),t===Fr&&(vr=Fr=null,Wr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Zd||(Zd=!0,XP(_p,function(){return mu(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=li.transition,li.transition=null;var o=Pt;Pt=1;var a=bt;bt|=4,tw.current=null,y3(t,r),FP(r,t),HN(yv),wp=!!gv,yv=gv=null,t.current=r,v3(r),qB(),bt=a,Pt=o,li.transition=s}else t.current=r;if(Zd&&(Zd=!1,jo=t,Lp=i),s=t.pendingLanes,s===0&&(Yo=null),QB(r.stateNode),In(t,pr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Dp)throw Dp=!1,t=Lv,Lv=null,t;return Lp&1&&t.tag!==0&&mu(),s=t.pendingLanes,s&1?t===Fv?Jh++:(Jh=0,Fv=t):Jh=0,oa(),null}function mu(){if(jo!==null){var t=EI(Lp),e=li.transition,r=Pt;try{if(li.transition=null,Pt=16>t?16:t,jo===null)var n=!1;else{if(t=jo,jo=null,Lp=0,bt&6)throw Error(Ue(331));var i=bt;for(bt|=4,Ke=t.current;Ke!==null;){var s=Ke,o=s.child;if(Ke.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Ke=u;Ke!==null;){var d=Ke;switch(d.tag){case 0:case 11:case 15:Qh(8,d,s)}var f=d.child;if(f!==null)f.return=d,Ke=f;else for(;Ke!==null;){d=Ke;var p=d.sibling,m=d.return;if(NP(d),d===u){Ke=null;break}if(p!==null){p.return=m,Ke=p;break}Ke=m}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}Ke=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Ke=o;else e:for(;Ke!==null;){if(s=Ke,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Qh(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,Ke=S;break e}Ke=s.return}}var x=t.current;for(Ke=x;Ke!==null;){o=Ke;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,Ke=b;else e:for(o=x;Ke!==null;){if(a=Ke,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Em(9,a)}}catch(O){ur(a,a.return,O)}if(a===o){Ke=null;break e}var I=a.sibling;if(I!==null){I.return=a.return,Ke=I;break e}Ke=a.return}}if(bt=i,oa(),ps&&typeof ps.onPostCommitFiberRoot=="function")try{ps.onPostCommitFiberRoot(mm,t)}catch{}n=!0}return n}finally{Pt=r,li.transition=e}}return!1}function FS(t,e,r){e=Pu(r,e),e=SP(t,e,1),t=qo(t,e,1),e=pn(),t!==null&&(Bc(t,1,e),In(t,e))}function ur(t,e,r){if(t.tag===3)FS(t,t,r);else for(;e!==null;){if(e.tag===3){FS(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Yo===null||!Yo.has(n))){t=Pu(r,t),t=TP(e,t,1),e=qo(e,t,1),t=pn(),e!==null&&(Bc(e,1,t),In(e,t));break}}e=e.return}}function S3(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=pn(),t.pingedLanes|=t.suspendedLanes&r,Fr===t&&(Wr&r)===r&&(Tr===4||Tr===3&&(Wr&130023424)===Wr&&500>pr()-nw?Va(t,0):rw|=r),In(t,e)}function WP(t,e){e===0&&(t.mode&1?(e=zd,zd<<=1,!(zd&130023424)&&(zd=4194304)):e=1);var r=pn();t=Js(t,e),t!==null&&(Bc(t,e,r),In(t,r))}function T3(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),WP(t,r)}function A3(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ue(314))}n!==null&&n.delete(e),WP(t,r)}var VP;VP=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||An.current)Sn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Sn=!1,f3(t,e,r);Sn=!!(t.flags&131072)}else Sn=!1,Xt&&e.flags&1048576&&YI(e,Ip,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Wf(t,e),t=e.pendingProps;var i=Tu(e,sn.current);pu(e,r),i=Kb(null,e,n,t,i,r);var s=Qb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cn(n)?(s=!0,Ap(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wb(e),i.updater=wm,e.stateNode=i,i._reactInternals=e,Av(e,n,t,r),e=Pv(null,e,n,!0,s,r)):(e.tag=0,Xt&&s&&Fb(e),dn(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Wf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=I3(n),t=Ai(n,t),i){case 0:e=Iv(null,e,n,t,r);break e;case 1:e=IS(null,e,n,t,r);break e;case 11:e=AS(null,e,n,t,r);break e;case 14:e=CS(null,e,n,Ai(n.type,t),r);break e}throw Error(Ue(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ai(n,i),Iv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ai(n,i),IS(t,e,n,i,r);case 3:e:{if(PP(e),t===null)throw Error(Ue(387));n=e.pendingProps,s=e.memoizedState,i=s.element,JI(t,e),kp(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Pu(Error(Ue(423)),e),e=PS(t,e,n,r,i);break e}else if(n!==i){i=Pu(Error(Ue(424)),e),e=PS(t,e,n,r,i);break e}else for($n=Xo(e.stateNode.containerInfo.firstChild),zn=e,Xt=!0,Pi=null,r=nP(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Au(),n===i){e=eo(t,e,r);break e}dn(t,e,n,r)}e=e.child}return e;case 5:return iP(e),t===null&&Ev(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,vv(n,i)?o=null:s!==null&&vv(n,s)&&(e.flags|=32),IP(t,e),dn(t,e,o,r),e.child;case 6:return t===null&&Ev(e),null;case 13:return RP(t,e,r);case 4:return Vb(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Cu(e,null,n,r):dn(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ai(n,i),AS(t,e,n,i,r);case 7:return dn(t,e,e.pendingProps,r),e.child;case 8:return dn(t,e,e.pendingProps.children,r),e.child;case 12:return dn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Mt(Pp,n._currentValue),n._currentValue=o,s!==null)if(Li(s.value,o)){if(s.children===i.children&&!An.current){e=eo(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Xs(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),Sv(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Ue(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Sv(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}dn(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,pu(e,r),i=hi(i),n=n(i),e.flags|=1,dn(t,e,n,r),e.child;case 14:return n=e.type,i=Ai(n,e.pendingProps),i=Ai(n.type,i),CS(t,e,n,i,r);case 15:return AP(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Ai(n,i),Wf(t,e),e.tag=1,Cn(n)?(t=!0,Ap(e)):t=!1,pu(e,r),tP(e,n,i),Av(e,n,i,r),Pv(null,e,n,!0,t,r);case 19:return kP(t,e,r);case 22:return CP(t,e,r)}throw Error(Ue(156,e.tag))};function XP(t,e){return _I(t,e)}function C3(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function si(t,e,r,n){return new C3(t,e,r,n)}function aw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function I3(t){if(typeof t=="function")return aw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ab)return 11;if(t===Cb)return 14}return 2}function Qo(t,e){var r=t.alternate;return r===null?(r=si(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function qf(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")aw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Yl:return Xa(r.children,i,s,e);case Tb:o=8,i|=8;break;case Ky:return t=si(12,r,e,i|2),t.elementType=Ky,t.lanes=s,t;case Qy:return t=si(13,r,e,i),t.elementType=Qy,t.lanes=s,t;case Zy:return t=si(19,r,e,i),t.elementType=Zy,t.lanes=s,t;case rI:return Tm(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eI:o=10;break e;case tI:o=9;break e;case Ab:o=11;break e;case Cb:o=14;break e;case Oo:o=16,n=null;break e}throw Error(Ue(130,t==null?t:typeof t,""))}return e=si(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Xa(t,e,r,n){return t=si(7,t,n,e),t.lanes=r,t}function Tm(t,e,r,n){return t=si(22,t,n,e),t.elementType=rI,t.lanes=r,t.stateNode={isHidden:!1},t}function U0(t,e,r){return t=si(6,t,null,e),t.lanes=r,t}function j0(t,e,r){return e=si(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function P3(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=b0(0),this.expirationTimes=b0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=b0(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lw(t,e,r,n,i,s,o,a,l){return t=new P3(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=si(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wb(s),t}function R3(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ql,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function qP(t){if(!t)return ea;t=t._reactInternals;e:{if(ul(t)!==t||t.tag!==1)throw Error(Ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ue(171))}if(t.tag===1){var r=t.type;if(Cn(r))return XI(t,r,e)}return e}function YP(t,e,r,n,i,s,o,a,l){return t=lw(r,n,!0,t,i,s,o,a,l),t.context=qP(null),r=t.current,n=pn(),i=Ko(r),s=Xs(n,i),s.callback=e??null,qo(r,s,i),t.current.lanes=i,Bc(t,i,n),In(t,n),t}function Am(t,e,r,n){var i=e.current,s=pn(),o=Ko(i);return r=qP(r),e.context===null?e.context=r:e.pendingContext=r,e=Xs(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=qo(i,e,o),t!==null&&(Bi(t,i,o,s),zf(t,i,o)),o}function Up(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function US(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function uw(t,e){US(t,e),(t=t.alternate)&&US(t,e)}function k3(){return null}var KP=typeof reportError=="function"?reportError:function(t){console.error(t)};function hw(t){this._internalRoot=t}Cm.prototype.render=hw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ue(409));Am(t,e,null,null)};Cm.prototype.unmount=hw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;sl(function(){Am(null,t,null,null)}),e[Zs]=null}};function Cm(t){this._internalRoot=t}Cm.prototype.unstable_scheduleHydration=function(t){if(t){var e=AI();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Do.length&&e!==0&&e<Do[r].priority;r++);Do.splice(r,0,t),r===0&&II(t)}};function cw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Im(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jS(){}function O3(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Up(o);s.call(u)}}var o=YP(e,n,t,0,null,!1,!1,"",jS);return t._reactRootContainer=o,t[Zs]=o.current,mc(t.nodeType===8?t.parentNode:t),sl(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Up(l);a.call(u)}}var l=lw(t,0,!1,null,null,!1,!1,"",jS);return t._reactRootContainer=l,t[Zs]=l.current,mc(t.nodeType===8?t.parentNode:t),sl(function(){Am(e,l,r,n)}),l}function Pm(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Up(o);a.call(l)}}Am(e,o,t,i)}else o=O3(r,e,t,i,n);return Up(o)}SI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Oh(e.pendingLanes);r!==0&&(Rb(e,r|1),In(e,pr()),!(bt&6)&&(Ru=pr()+500,oa()))}break;case 13:sl(function(){var n=Js(t,1);if(n!==null){var i=pn();Bi(n,t,1,i)}}),uw(t,1)}};kb=function(t){if(t.tag===13){var e=Js(t,134217728);if(e!==null){var r=pn();Bi(e,t,134217728,r)}uw(t,134217728)}};TI=function(t){if(t.tag===13){var e=Ko(t),r=Js(t,e);if(r!==null){var n=pn();Bi(r,t,e,n)}uw(t,e)}};AI=function(){return Pt};CI=function(t,e){var r=Pt;try{return Pt=t,e()}finally{Pt=r}};lv=function(t,e,r){switch(e){case"input":if(tv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=_m(n);if(!i)throw Error(Ue(90));iI(n),tv(n,i)}}}break;case"textarea":oI(t,r);break;case"select":e=r.value,e!=null&&hu(t,!!r.multiple,e,!1)}};fI=iw;pI=sl;var M3={usingClientEntryPoint:!1,Events:[Dc,Jl,_m,cI,dI,iw]},vh={findFiberByHostInstance:$a,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},B3={bundleType:vh.bundleType,version:vh.version,rendererPackageName:vh.rendererPackageName,rendererConfig:vh.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ao.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yI(t),t===null?null:t.stateNode},findFiberByHostInstance:vh.findFiberByHostInstance||k3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jd.isDisabled&&Jd.supportsFiber)try{mm=Jd.inject(B3),ps=Jd}catch{}}Wn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M3;Wn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cw(e))throw Error(Ue(200));return R3(t,e,null,r)};Wn.createRoot=function(t,e){if(!cw(t))throw Error(Ue(299));var r=!1,n="",i=KP;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lw(t,1,!1,null,null,r,!1,n,i),t[Zs]=e.current,mc(t.nodeType===8?t.parentNode:t),new hw(e)};Wn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ue(188)):(t=Object.keys(t).join(","),Error(Ue(268,t)));return t=yI(e),t=t===null?null:t.stateNode,t};Wn.flushSync=function(t){return sl(t)};Wn.hydrate=function(t,e,r){if(!Im(e))throw Error(Ue(200));return Pm(null,t,e,!0,r)};Wn.hydrateRoot=function(t,e,r){if(!cw(t))throw Error(Ue(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=KP;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=YP(e,null,t,1,r??null,i,!1,s,o),t[Zs]=e.current,mc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Cm(e)};Wn.render=function(t,e,r){if(!Im(e))throw Error(Ue(200));return Pm(null,t,e,!1,r)};Wn.unmountComponentAtNode=function(t){if(!Im(t))throw Error(Ue(40));return t._reactRootContainer?(sl(function(){Pm(null,null,t,!1,function(){t._reactRootContainer=null,t[Zs]=null})}),!0):!1};Wn.unstable_batchedUpdates=iw;Wn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Im(r))throw Error(Ue(200));if(t==null||t._reactInternals===void 0)throw Error(Ue(38));return Pm(t,e,r,!1,n)};Wn.version="18.2.0-next-9e3b772b8-20220608";function QP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QP)}catch(t){console.error(t)}}QP(),YC.exports=Wn;var N3=YC.exports,$S=N3;qy.createRoot=$S.createRoot,qy.hydrateRoot=$S.hydrateRoot;var dw=Object.defineProperty,D3=Object.getOwnPropertyDescriptor,L3=Object.getOwnPropertyNames,F3=Object.prototype.hasOwnProperty,Xr=(t,e)=>()=>(t&&(e=t(t=0)),e),Le=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),hl=(t,e)=>{for(var r in e)dw(t,r,{get:e[r],enumerable:!0})},U3=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of L3(e))!F3.call(t,i)&&i!==r&&dw(t,i,{get:()=>e[i],enumerable:!(n=D3(e,i))||n.enumerable});return t},Nt=t=>U3(dw({},"__esModule",{value:!0}),t),Fn,Ce=Xr(()=>{Fn={deviceMemory:8,hardwareConcurrency:8,language:"en-US"}}),gr={};hl(gr,{_debugEnd:()=>_1,_debugProcess:()=>v1,_events:()=>B1,_eventsCount:()=>N1,_exiting:()=>i1,_fatalExceptions:()=>m1,_getActiveHandles:()=>iR,_getActiveRequests:()=>nR,_kill:()=>a1,_linkedBinding:()=>tR,_maxListeners:()=>M1,_preload_modules:()=>k1,_rawDebug:()=>t1,_startProfilerIdleNotifier:()=>b1,_stopProfilerIdleNotifier:()=>w1,_tickCallback:()=>y1,abort:()=>T1,addListener:()=>D1,allowedNodeEnvironmentFlags:()=>f1,arch:()=>zv,argv:()=>Wv,argv0:()=>R1,assert:()=>sR,binding:()=>Kv,chdir:()=>Jv,config:()=>s1,cpuUsage:()=>Bh,cwd:()=>Zv,debugPort:()=>P1,default:()=>pw,dlopen:()=>rR,domain:()=>n1,emit:()=>$1,emitWarning:()=>Yv,env:()=>Gv,execArgv:()=>Vv,execPath:()=>I1,exit:()=>c1,features:()=>p1,hasUncaughtExceptionCaptureCallback:()=>oR,hrtime:()=>Yf,kill:()=>h1,listeners:()=>lR,memoryUsage:()=>u1,moduleLoadList:()=>r1,nextTick:()=>JP,off:()=>F1,on:()=>Os,once:()=>L1,openStdin:()=>d1,pid:()=>A1,platform:()=>Hv,ppid:()=>C1,prependListener:()=>z1,prependOnceListener:()=>H1,reallyExit:()=>o1,release:()=>e1,removeAllListeners:()=>j1,removeListener:()=>U1,resourceUsage:()=>l1,setSourceMapsEnabled:()=>O1,setUncaughtExceptionCaptureCallback:()=>g1,stderr:()=>E1,stdin:()=>S1,stdout:()=>x1,title:()=>$v,umask:()=>Qv,uptime:()=>aR,version:()=>Xv,versions:()=>qv});function fw(t){throw new Error("Node.js process "+t+" is not supported by JSPM core outside of Node.js")}function j3(){!qa||!Ga||(qa=!1,Ga.length?us=Ga.concat(us):ec=-1,us.length&&ZP())}function ZP(){if(!qa){var t=setTimeout(j3,0);qa=!0;for(var e=us.length;e;){for(Ga=us,us=[];++ec<e;)Ga&&Ga[ec].run();ec=-1,e=us.length}Ga=null,qa=!1,clearTimeout(t)}}function JP(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];us.push(new eR(t,e)),us.length===1&&!qa&&setTimeout(ZP,0)}function eR(t,e){this.fun=t,this.array=e}function rn(){}function tR(t){fw("_linkedBinding")}function rR(t){fw("dlopen")}function nR(){return[]}function iR(){return[]}function sR(t,e){if(!t)throw new Error(e||"assertion error")}function oR(){return!1}function aR(){return Us.now()/1e3}function Yf(t){var e=Math.floor((Date.now()-Us.now())*.001),r=Us.now()*.001,n=Math.floor(r)+e,i=Math.floor(r%1*1e9);return t&&(n=n-t[0],i=i-t[1],i<0&&(n--,i+=Kf)),[n,i]}function Os(){return pw}function lR(t){return[]}var us,qa,Ga,ec,$v,zv,Hv,Gv,Wv,Vv,Xv,qv,Yv,Kv,Qv,Zv,Jv,e1,t1,r1,n1,i1,s1,o1,a1,Bh,l1,u1,h1,c1,d1,f1,p1,m1,g1,y1,v1,_1,b1,w1,x1,E1,S1,T1,A1,C1,I1,P1,R1,k1,O1,Us,$0,Kf,M1,B1,N1,D1,L1,F1,U1,j1,$1,z1,H1,pw,$3=Xr(()=>{Pe(),Ie(),Ce(),us=[],qa=!1,ec=-1,eR.prototype.run=function(){this.fun.apply(null,this.array)},$v="browser",zv="x64",Hv="browser",Gv={PATH:"/usr/bin",LANG:Fn.language+".UTF-8",PWD:"/",HOME:"/home",TMP:"/tmp"},Wv=["/usr/bin/node"],Vv=[],Xv="v16.8.0",qv={},Yv=function(t,e){console.warn((e?e+": ":"")+t)},Kv=function(t){fw("binding")},Qv=function(t){return 0},Zv=function(){return"/"},Jv=function(t){},e1={name:"node",sourceUrl:"",headersUrl:"",libUrl:""},t1=rn,r1=[],n1={},i1=!1,s1={},o1=rn,a1=rn,Bh=function(){return{}},l1=Bh,u1=Bh,h1=rn,c1=rn,d1=rn,f1={},p1={inspector:!1,debug:!1,uv:!1,ipv6:!1,tls_alpn:!1,tls_sni:!1,tls_ocsp:!1,tls:!1,cached_builtins:!0},m1=rn,g1=rn,y1=rn,v1=rn,_1=rn,b1=rn,w1=rn,x1=void 0,E1=void 0,S1=void 0,T1=rn,A1=2,C1=1,I1="/bin/usr/node",P1=9229,R1="node",k1=[],O1=rn,Us={now:typeof performance<"u"?performance.now.bind(performance):void 0,timing:typeof performance<"u"?performance.timing:void 0},Us.now===void 0&&($0=Date.now(),Us.timing&&Us.timing.navigationStart&&($0=Us.timing.navigationStart),Us.now=()=>Date.now()-$0),Kf=1e9,Yf.bigint=function(t){var e=Yf(t);return typeof BigInt>"u"?e[0]*Kf+e[1]:BigInt(e[0]*Kf)+BigInt(e[1])},M1=10,B1={},N1=0,D1=Os,L1=Os,F1=Os,U1=Os,j1=Os,$1=rn,z1=Os,H1=Os,pw={version:Xv,versions:qv,arch:zv,platform:Hv,release:e1,_rawDebug:t1,moduleLoadList:r1,binding:Kv,_linkedBinding:tR,_events:B1,_eventsCount:N1,_maxListeners:M1,on:Os,addListener:D1,once:L1,off:F1,removeListener:U1,removeAllListeners:j1,emit:$1,prependListener:z1,prependOnceListener:H1,listeners:lR,domain:n1,_exiting:i1,config:s1,dlopen:rR,uptime:aR,_getActiveRequests:nR,_getActiveHandles:iR,reallyExit:o1,_kill:a1,cpuUsage:Bh,resourceUsage:l1,memoryUsage:u1,kill:h1,exit:c1,openStdin:d1,allowedNodeEnvironmentFlags:f1,assert:sR,features:p1,_fatalExceptions:m1,setUncaughtExceptionCaptureCallback:g1,hasUncaughtExceptionCaptureCallback:oR,emitWarning:Yv,nextTick:JP,_tickCallback:y1,_debugProcess:v1,_debugEnd:_1,_startProfilerIdleNotifier:b1,_stopProfilerIdleNotifier:w1,stdout:x1,stdin:S1,stderr:E1,abort:T1,umask:Qv,chdir:Jv,cwd:Zv,env:Gv,title:$v,argv:Wv,execArgv:Vv,pid:A1,ppid:C1,execPath:I1,debugPort:P1,hrtime:Yf,argv0:R1,_preload_modules:k1,setSourceMapsEnabled:O1}}),Ie=Xr(()=>{$3()}),an={};hl(an,{Buffer:()=>ku,INSPECT_MAX_BYTES:()=>uR,default:()=>Ms,kMaxLength:()=>hR});function z3(){if(G1)return jl;G1=!0,jl.byteLength=a,jl.toByteArray=u,jl.fromByteArray=p;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(m){var g=m.length;if(g%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var v=m.indexOf("=");v===-1&&(v=g);var C=v===g?0:4-v%4;return[v,C]}function a(m){var g=o(m),v=g[0],C=g[1];return(v+C)*3/4-C}function l(m,g,v){return(g+v)*3/4-v}function u(m){var g,v=o(m),C=v[0],S=v[1],x=new r(l(m,C,S)),b=0,I=S>0?C-4:C,O;for(O=0;O<I;O+=4)g=e[m.charCodeAt(O)]<<18|e[m.charCodeAt(O+1)]<<12|e[m.charCodeAt(O+2)]<<6|e[m.charCodeAt(O+3)],x[b++]=g>>16&255,x[b++]=g>>8&255,x[b++]=g&255;return S===2&&(g=e[m.charCodeAt(O)]<<2|e[m.charCodeAt(O+1)]>>4,x[b++]=g&255),S===1&&(g=e[m.charCodeAt(O)]<<10|e[m.charCodeAt(O+1)]<<4|e[m.charCodeAt(O+2)]>>2,x[b++]=g>>8&255,x[b++]=g&255),x}function d(m){return t[m>>18&63]+t[m>>12&63]+t[m>>6&63]+t[m&63]}function f(m,g,v){for(var C,S=[],x=g;x<v;x+=3)C=(m[x]<<16&16711680)+(m[x+1]<<8&65280)+(m[x+2]&255),S.push(d(C));return S.join("")}function p(m){for(var g,v=m.length,C=v%3,S=[],x=16383,b=0,I=v-C;b<I;b+=x)S.push(f(m,b,b+x>I?I:b+x));return C===1?(g=m[v-1],S.push(t[g>>2]+t[g<<4&63]+"==")):C===2&&(g=(m[v-2]<<8)+m[v-1],S.push(t[g>>10]+t[g>>4&63]+t[g<<2&63]+"=")),S.join("")}return jl}function H3(){return W1?Nh:(W1=!0,Nh.read=function(t,e,r,n,i){var s,o,a=i*8-n-1,l=(1<<a)-1,u=l>>1,d=-7,f=r?i-1:0,p=r?-1:1,m=t[e+f];for(f+=p,s=m&(1<<-d)-1,m>>=-d,d+=a;d>0;s=s*256+t[e+f],f+=p,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=o*256+t[e+f],f+=p,d-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(m?-1:1)*o*Math.pow(2,s-n)},Nh.write=function(t,e,r,n,i,s){var o,a,l,u=s*8-i-1,d=(1<<u)-1,f=d>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:s-1,g=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+f>=1?e+=p/l:e+=p*Math.pow(2,1-f),e*l>=2&&(o++,l/=2),o+f>=d?(a=0,o=d):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o=o+f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[r+m]=a&255,m+=g,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+m]=o&255,m+=g,o/=256,u-=8);t[r+m-g]|=v*128},Nh)}function G3(){if(V1)return Ao;V1=!0;let t=z3(),e=H3(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;Ao.Buffer=o,Ao.SlowBuffer=S,Ao.INSPECT_MAX_BYTES=50;let n=2147483647;Ao.kMaxLength=n,o.TYPED_ARRAY_SUPPORT=i(),!o.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{let E=new Uint8Array(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,Uint8Array.prototype),Object.setPrototypeOf(E,_),E.foo()===42}catch{return!1}}Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}});function s(E){if(E>n)throw new RangeError('The value "'+E+'" is invalid for option "size"');let _=new Uint8Array(E);return Object.setPrototypeOf(_,o.prototype),_}function o(E,_,T){if(typeof E=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(E)}return a(E,_,T)}o.poolSize=8192;function a(E,_,T){if(typeof E=="string")return f(E,_);if(ArrayBuffer.isView(E))return m(E);if(E==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E);if(me(E,ArrayBuffer)||E&&me(E.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(me(E,SharedArrayBuffer)||E&&me(E.buffer,SharedArrayBuffer)))return g(E,_,T);if(typeof E=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');let j=E.valueOf&&E.valueOf();if(j!=null&&j!==E)return o.from(j,_,T);let V=v(E);if(V)return V;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof E[Symbol.toPrimitive]=="function")return o.from(E[Symbol.toPrimitive]("string"),_,T);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof E)}o.from=function(E,_,T){return a(E,_,T)},Object.setPrototypeOf(o.prototype,Uint8Array.prototype),Object.setPrototypeOf(o,Uint8Array);function l(E){if(typeof E!="number")throw new TypeError('"size" argument must be of type number');if(E<0)throw new RangeError('The value "'+E+'" is invalid for option "size"')}function u(E,_,T){return l(E),E<=0?s(E):_!==void 0?typeof T=="string"?s(E).fill(_,T):s(E).fill(_):s(E)}o.alloc=function(E,_,T){return u(E,_,T)};function d(E){return l(E),s(E<0?0:C(E)|0)}o.allocUnsafe=function(E){return d(E)},o.allocUnsafeSlow=function(E){return d(E)};function f(E,_){if((typeof _!="string"||_==="")&&(_="utf8"),!o.isEncoding(_))throw new TypeError("Unknown encoding: "+_);let T=x(E,_)|0,j=s(T),V=j.write(E,_);return V!==T&&(j=j.slice(0,V)),j}function p(E){let _=E.length<0?0:C(E.length)|0,T=s(_);for(let j=0;j<_;j+=1)T[j]=E[j]&255;return T}function m(E){if(me(E,Uint8Array)){let _=new Uint8Array(E);return g(_.buffer,_.byteOffset,_.byteLength)}return p(E)}function g(E,_,T){if(_<0||E.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(E.byteLength<_+(T||0))throw new RangeError('"length" is outside of buffer bounds');let j;return _===void 0&&T===void 0?j=new Uint8Array(E):T===void 0?j=new Uint8Array(E,_):j=new Uint8Array(E,_,T),Object.setPrototypeOf(j,o.prototype),j}function v(E){if(o.isBuffer(E)){let _=C(E.length)|0,T=s(_);return T.length===0||E.copy(T,0,0,_),T}if(E.length!==void 0)return typeof E.length!="number"||Fe(E.length)?s(0):p(E);if(E.type==="Buffer"&&Array.isArray(E.data))return p(E.data)}function C(E){if(E>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return E|0}function S(E){return+E!=E&&(E=0),o.alloc(+E)}o.isBuffer=function(E){return E!=null&&E._isBuffer===!0&&E!==o.prototype},o.compare=function(E,_){if(me(E,Uint8Array)&&(E=o.from(E,E.offset,E.byteLength)),me(_,Uint8Array)&&(_=o.from(_,_.offset,_.byteLength)),!o.isBuffer(E)||!o.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(E===_)return 0;let T=E.length,j=_.length;for(let V=0,L=Math.min(T,j);V<L;++V)if(E[V]!==_[V]){T=E[V],j=_[V];break}return T<j?-1:j<T?1:0},o.isEncoding=function(E){switch(String(E).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(E,_){if(!Array.isArray(E))throw new TypeError('"list" argument must be an Array of Buffers');if(E.length===0)return o.alloc(0);let T;if(_===void 0)for(_=0,T=0;T<E.length;++T)_+=E[T].length;let j=o.allocUnsafe(_),V=0;for(T=0;T<E.length;++T){let L=E[T];if(me(L,Uint8Array))V+L.length>j.length?(o.isBuffer(L)||(L=o.from(L)),L.copy(j,V)):Uint8Array.prototype.set.call(j,L,V);else if(o.isBuffer(L))L.copy(j,V);else throw new TypeError('"list" argument must be an Array of Buffers');V+=L.length}return j};function x(E,_){if(o.isBuffer(E))return E.length;if(ArrayBuffer.isView(E)||me(E,ArrayBuffer))return E.byteLength;if(typeof E!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof E);let T=E.length,j=arguments.length>2&&arguments[2]===!0;if(!j&&T===0)return 0;let V=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return T;case"utf8":case"utf-8":return ee(E).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T*2;case"hex":return T>>>1;case"base64":return ve(E).length;default:if(V)return j?-1:ee(E).length;_=(""+_).toLowerCase(),V=!0}}o.byteLength=x;function b(E,_,T){let j=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((T===void 0||T>this.length)&&(T=this.length),T<=0)||(T>>>=0,_>>>=0,T<=_))return"";for(E||(E="utf8");;)switch(E){case"hex":return D(this,_,T);case"utf8":case"utf-8":return F(this,_,T);case"ascii":return de(this,_,T);case"latin1":case"binary":return oe(this,_,T);case"base64":return B(this,_,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,_,T);default:if(j)throw new TypeError("Unknown encoding: "+E);E=(E+"").toLowerCase(),j=!0}}o.prototype._isBuffer=!0;function I(E,_,T){let j=E[_];E[_]=E[T],E[T]=j}o.prototype.swap16=function(){let E=this.length;if(E%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<E;_+=2)I(this,_,_+1);return this},o.prototype.swap32=function(){let E=this.length;if(E%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<E;_+=4)I(this,_,_+3),I(this,_+1,_+2);return this},o.prototype.swap64=function(){let E=this.length;if(E%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<E;_+=8)I(this,_,_+7),I(this,_+1,_+6),I(this,_+2,_+5),I(this,_+3,_+4);return this},o.prototype.toString=function(){let E=this.length;return E===0?"":arguments.length===0?F(this,0,E):b.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(E){if(!o.isBuffer(E))throw new TypeError("Argument must be a Buffer");return this===E?!0:o.compare(this,E)===0},o.prototype.inspect=function(){let E="",_=Ao.INSPECT_MAX_BYTES;return E=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(E+=" ... "),"<Buffer "+E+">"},r&&(o.prototype[r]=o.prototype.inspect),o.prototype.compare=function(E,_,T,j,V){if(me(E,Uint8Array)&&(E=o.from(E,E.offset,E.byteLength)),!o.isBuffer(E))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof E);if(_===void 0&&(_=0),T===void 0&&(T=E?E.length:0),j===void 0&&(j=0),V===void 0&&(V=this.length),_<0||T>E.length||j<0||V>this.length)throw new RangeError("out of range index");if(j>=V&&_>=T)return 0;if(j>=V)return-1;if(_>=T)return 1;if(_>>>=0,T>>>=0,j>>>=0,V>>>=0,this===E)return 0;let L=V-j,X=T-_,ce=Math.min(L,X),Oe=this.slice(j,V),Se=E.slice(_,T);for(let Ne=0;Ne<ce;++Ne)if(Oe[Ne]!==Se[Ne]){L=Oe[Ne],X=Se[Ne];break}return L<X?-1:X<L?1:0};function O(E,_,T,j,V){if(E.length===0)return-1;if(typeof T=="string"?(j=T,T=0):T>2147483647?T=2147483647:T<-2147483648&&(T=-2147483648),T=+T,Fe(T)&&(T=V?0:E.length-1),T<0&&(T=E.length+T),T>=E.length){if(V)return-1;T=E.length-1}else if(T<0)if(V)T=0;else return-1;if(typeof _=="string"&&(_=o.from(_,j)),o.isBuffer(_))return _.length===0?-1:k(E,_,T,j,V);if(typeof _=="number")return _=_&255,typeof Uint8Array.prototype.indexOf=="function"?V?Uint8Array.prototype.indexOf.call(E,_,T):Uint8Array.prototype.lastIndexOf.call(E,_,T):k(E,[_],T,j,V);throw new TypeError("val must be string, number or Buffer")}function k(E,_,T,j,V){let L=1,X=E.length,ce=_.length;if(j!==void 0&&(j=String(j).toLowerCase(),j==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(E.length<2||_.length<2)return-1;L=2,X/=2,ce/=2,T/=2}function Oe(Ne,Ve){return L===1?Ne[Ve]:Ne.readUInt16BE(Ve*L)}let Se;if(V){let Ne=-1;for(Se=T;Se<X;Se++)if(Oe(E,Se)===Oe(_,Ne===-1?0:Se-Ne)){if(Ne===-1&&(Ne=Se),Se-Ne+1===ce)return Ne*L}else Ne!==-1&&(Se-=Se-Ne),Ne=-1}else for(T+ce>X&&(T=X-ce),Se=T;Se>=0;Se--){let Ne=!0;for(let Ve=0;Ve<ce;Ve++)if(Oe(E,Se+Ve)!==Oe(_,Ve)){Ne=!1;break}if(Ne)return Se}return-1}o.prototype.includes=function(E,_,T){return this.indexOf(E,_,T)!==-1},o.prototype.indexOf=function(E,_,T){return O(this,E,_,T,!0)},o.prototype.lastIndexOf=function(E,_,T){return O(this,E,_,T,!1)};function R(E,_,T,j){T=Number(T)||0;let V=E.length-T;j?(j=Number(j),j>V&&(j=V)):j=V;let L=_.length;j>L/2&&(j=L/2);let X;for(X=0;X<j;++X){let ce=parseInt(_.substr(X*2,2),16);if(Fe(ce))return X;E[T+X]=ce}return X}function M(E,_,T,j){return Q(ee(_,E.length-T),E,T,j)}function $(E,_,T,j){return Q(re(_),E,T,j)}function Y(E,_,T,j){return Q(ve(_),E,T,j)}function se(E,_,T,j){return Q(xe(_,E.length-T),E,T,j)}o.prototype.write=function(E,_,T,j){if(_===void 0)j="utf8",T=this.length,_=0;else if(T===void 0&&typeof _=="string")j=_,T=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(T)?(T=T>>>0,j===void 0&&(j="utf8")):(j=T,T=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let V=this.length-_;if((T===void 0||T>V)&&(T=V),E.length>0&&(T<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let L=!1;for(;;)switch(j){case"hex":return R(this,E,_,T);case"utf8":case"utf-8":return M(this,E,_,T);case"ascii":case"latin1":case"binary":return $(this,E,_,T);case"base64":return Y(this,E,_,T);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,E,_,T);default:if(L)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),L=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(E,_,T){return _===0&&T===E.length?t.fromByteArray(E):t.fromByteArray(E.slice(_,T))}function F(E,_,T){T=Math.min(E.length,T);let j=[],V=_;for(;V<T;){let L=E[V],X=null,ce=L>239?4:L>223?3:L>191?2:1;if(V+ce<=T){let Oe,Se,Ne,Ve;switch(ce){case 1:L<128&&(X=L);break;case 2:Oe=E[V+1],(Oe&192)===128&&(Ve=(L&31)<<6|Oe&63,Ve>127&&(X=Ve));break;case 3:Oe=E[V+1],Se=E[V+2],(Oe&192)===128&&(Se&192)===128&&(Ve=(L&15)<<12|(Oe&63)<<6|Se&63,Ve>2047&&(Ve<55296||Ve>57343)&&(X=Ve));break;case 4:Oe=E[V+1],Se=E[V+2],Ne=E[V+3],(Oe&192)===128&&(Se&192)===128&&(Ne&192)===128&&(Ve=(L&15)<<18|(Oe&63)<<12|(Se&63)<<6|Ne&63,Ve>65535&&Ve<1114112&&(X=Ve))}}X===null?(X=65533,ce=1):X>65535&&(X-=65536,j.push(X>>>10&1023|55296),X=56320|X&1023),j.push(X),V+=ce}return Z(j)}let K=4096;function Z(E){let _=E.length;if(_<=K)return String.fromCharCode.apply(String,E);let T="",j=0;for(;j<_;)T+=String.fromCharCode.apply(String,E.slice(j,j+=K));return T}function de(E,_,T){let j="";T=Math.min(E.length,T);for(let V=_;V<T;++V)j+=String.fromCharCode(E[V]&127);return j}function oe(E,_,T){let j="";T=Math.min(E.length,T);for(let V=_;V<T;++V)j+=String.fromCharCode(E[V]);return j}function D(E,_,T){let j=E.length;(!_||_<0)&&(_=0),(!T||T<0||T>j)&&(T=j);let V="";for(let L=_;L<T;++L)V+=He[E[L]];return V}function J(E,_,T){let j=E.slice(_,T),V="";for(let L=0;L<j.length-1;L+=2)V+=String.fromCharCode(j[L]+j[L+1]*256);return V}o.prototype.slice=function(E,_){let T=this.length;E=~~E,_=_===void 0?T:~~_,E<0?(E+=T,E<0&&(E=0)):E>T&&(E=T),_<0?(_+=T,_<0&&(_=0)):_>T&&(_=T),_<E&&(_=E);let j=this.subarray(E,_);return Object.setPrototypeOf(j,o.prototype),j};function W(E,_,T){if(E%1!==0||E<0)throw new RangeError("offset is not uint");if(E+_>T)throw new RangeError("Trying to access beyond buffer length")}o.prototype.readUintLE=o.prototype.readUIntLE=function(E,_,T){E=E>>>0,_=_>>>0,T||W(E,_,this.length);let j=this[E],V=1,L=0;for(;++L<_&&(V*=256);)j+=this[E+L]*V;return j},o.prototype.readUintBE=o.prototype.readUIntBE=function(E,_,T){E=E>>>0,_=_>>>0,T||W(E,_,this.length);let j=this[E+--_],V=1;for(;_>0&&(V*=256);)j+=this[E+--_]*V;return j},o.prototype.readUint8=o.prototype.readUInt8=function(E,_){return E=E>>>0,_||W(E,1,this.length),this[E]},o.prototype.readUint16LE=o.prototype.readUInt16LE=function(E,_){return E=E>>>0,_||W(E,2,this.length),this[E]|this[E+1]<<8},o.prototype.readUint16BE=o.prototype.readUInt16BE=function(E,_){return E=E>>>0,_||W(E,2,this.length),this[E]<<8|this[E+1]},o.prototype.readUint32LE=o.prototype.readUInt32LE=function(E,_){return E=E>>>0,_||W(E,4,this.length),(this[E]|this[E+1]<<8|this[E+2]<<16)+this[E+3]*16777216},o.prototype.readUint32BE=o.prototype.readUInt32BE=function(E,_){return E=E>>>0,_||W(E,4,this.length),this[E]*16777216+(this[E+1]<<16|this[E+2]<<8|this[E+3])},o.prototype.readBigUInt64LE=Qe(function(E){E=E>>>0,he(E,"offset");let _=this[E],T=this[E+7];(_===void 0||T===void 0)&&ye(E,this.length-8);let j=_+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24,V=this[++E]+this[++E]*2**8+this[++E]*2**16+T*2**24;return BigInt(j)+(BigInt(V)<<BigInt(32))}),o.prototype.readBigUInt64BE=Qe(function(E){E=E>>>0,he(E,"offset");let _=this[E],T=this[E+7];(_===void 0||T===void 0)&&ye(E,this.length-8);let j=_*2**24+this[++E]*2**16+this[++E]*2**8+this[++E],V=this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+T;return(BigInt(j)<<BigInt(32))+BigInt(V)}),o.prototype.readIntLE=function(E,_,T){E=E>>>0,_=_>>>0,T||W(E,_,this.length);let j=this[E],V=1,L=0;for(;++L<_&&(V*=256);)j+=this[E+L]*V;return V*=128,j>=V&&(j-=Math.pow(2,8*_)),j},o.prototype.readIntBE=function(E,_,T){E=E>>>0,_=_>>>0,T||W(E,_,this.length);let j=_,V=1,L=this[E+--j];for(;j>0&&(V*=256);)L+=this[E+--j]*V;return V*=128,L>=V&&(L-=Math.pow(2,8*_)),L},o.prototype.readInt8=function(E,_){return E=E>>>0,_||W(E,1,this.length),this[E]&128?(255-this[E]+1)*-1:this[E]},o.prototype.readInt16LE=function(E,_){E=E>>>0,_||W(E,2,this.length);let T=this[E]|this[E+1]<<8;return T&32768?T|4294901760:T},o.prototype.readInt16BE=function(E,_){E=E>>>0,_||W(E,2,this.length);let T=this[E+1]|this[E]<<8;return T&32768?T|4294901760:T},o.prototype.readInt32LE=function(E,_){return E=E>>>0,_||W(E,4,this.length),this[E]|this[E+1]<<8|this[E+2]<<16|this[E+3]<<24},o.prototype.readInt32BE=function(E,_){return E=E>>>0,_||W(E,4,this.length),this[E]<<24|this[E+1]<<16|this[E+2]<<8|this[E+3]},o.prototype.readBigInt64LE=Qe(function(E){E=E>>>0,he(E,"offset");let _=this[E],T=this[E+7];(_===void 0||T===void 0)&&ye(E,this.length-8);let j=this[E+4]+this[E+5]*2**8+this[E+6]*2**16+(T<<24);return(BigInt(j)<<BigInt(32))+BigInt(_+this[++E]*2**8+this[++E]*2**16+this[++E]*2**24)}),o.prototype.readBigInt64BE=Qe(function(E){E=E>>>0,he(E,"offset");let _=this[E],T=this[E+7];(_===void 0||T===void 0)&&ye(E,this.length-8);let j=(_<<24)+this[++E]*2**16+this[++E]*2**8+this[++E];return(BigInt(j)<<BigInt(32))+BigInt(this[++E]*2**24+this[++E]*2**16+this[++E]*2**8+T)}),o.prototype.readFloatLE=function(E,_){return E=E>>>0,_||W(E,4,this.length),e.read(this,E,!0,23,4)},o.prototype.readFloatBE=function(E,_){return E=E>>>0,_||W(E,4,this.length),e.read(this,E,!1,23,4)},o.prototype.readDoubleLE=function(E,_){return E=E>>>0,_||W(E,8,this.length),e.read(this,E,!0,52,8)},o.prototype.readDoubleBE=function(E,_){return E=E>>>0,_||W(E,8,this.length),e.read(this,E,!1,52,8)};function te(E,_,T,j,V,L){if(!o.isBuffer(E))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>V||_<L)throw new RangeError('"value" argument is out of bounds');if(T+j>E.length)throw new RangeError("Index out of range")}o.prototype.writeUintLE=o.prototype.writeUIntLE=function(E,_,T,j){if(E=+E,_=_>>>0,T=T>>>0,!j){let X=Math.pow(2,8*T)-1;te(this,E,_,T,X,0)}let V=1,L=0;for(this[_]=E&255;++L<T&&(V*=256);)this[_+L]=E/V&255;return _+T},o.prototype.writeUintBE=o.prototype.writeUIntBE=function(E,_,T,j){if(E=+E,_=_>>>0,T=T>>>0,!j){let X=Math.pow(2,8*T)-1;te(this,E,_,T,X,0)}let V=T-1,L=1;for(this[_+V]=E&255;--V>=0&&(L*=256);)this[_+V]=E/L&255;return _+T},o.prototype.writeUint8=o.prototype.writeUInt8=function(E,_,T){return E=+E,_=_>>>0,T||te(this,E,_,1,255,0),this[_]=E&255,_+1},o.prototype.writeUint16LE=o.prototype.writeUInt16LE=function(E,_,T){return E=+E,_=_>>>0,T||te(this,E,_,2,65535,0),this[_]=E&255,this[_+1]=E>>>8,_+2},o.prototype.writeUint16BE=o.prototype.writeUInt16BE=function(E,_,T){return E=+E,_=_>>>0,T||te(this,E,_,2,65535,0),this[_]=E>>>8,this[_+1]=E&255,_+2},o.prototype.writeUint32LE=o.prototype.writeUInt32LE=function(E,_,T){return E=+E,_=_>>>0,T||te(this,E,_,4,4294967295,0),this[_+3]=E>>>24,this[_+2]=E>>>16,this[_+1]=E>>>8,this[_]=E&255,_+4},o.prototype.writeUint32BE=o.prototype.writeUInt32BE=function(E,_,T){return E=+E,_=_>>>0,T||te(this,E,_,4,4294967295,0),this[_]=E>>>24,this[_+1]=E>>>16,this[_+2]=E>>>8,this[_+3]=E&255,_+4};function N(E,_,T,j,V){ue(_,j,V,E,T,7);let L=Number(_&BigInt(4294967295));E[T++]=L,L=L>>8,E[T++]=L,L=L>>8,E[T++]=L,L=L>>8,E[T++]=L;let X=Number(_>>BigInt(32)&BigInt(4294967295));return E[T++]=X,X=X>>8,E[T++]=X,X=X>>8,E[T++]=X,X=X>>8,E[T++]=X,T}function ie(E,_,T,j,V){ue(_,j,V,E,T,7);let L=Number(_&BigInt(4294967295));E[T+7]=L,L=L>>8,E[T+6]=L,L=L>>8,E[T+5]=L,L=L>>8,E[T+4]=L;let X=Number(_>>BigInt(32)&BigInt(4294967295));return E[T+3]=X,X=X>>8,E[T+2]=X,X=X>>8,E[T+1]=X,X=X>>8,E[T]=X,T+8}o.prototype.writeBigUInt64LE=Qe(function(E,_=0){return N(this,E,_,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeBigUInt64BE=Qe(function(E,_=0){return ie(this,E,_,BigInt(0),BigInt("0xffffffffffffffff"))}),o.prototype.writeIntLE=function(E,_,T,j){if(E=+E,_=_>>>0,!j){let ce=Math.pow(2,8*T-1);te(this,E,_,T,ce-1,-ce)}let V=0,L=1,X=0;for(this[_]=E&255;++V<T&&(L*=256);)E<0&&X===0&&this[_+V-1]!==0&&(X=1),this[_+V]=(E/L>>0)-X&255;return _+T},o.prototype.writeIntBE=function(E,_,T,j){if(E=+E,_=_>>>0,!j){let ce=Math.pow(2,8*T-1);te(this,E,_,T,ce-1,-ce)}let V=T-1,L=1,X=0;for(this[_+V]=E&255;--V>=0&&(L*=256);)E<0&&X===0&&this[_+V+1]!==0&&(X=1),this[_+V]=(E/L>>0)-X&255;return _+T},o.prototype.writeInt8=function(E,_,T){return E=+E,_=_>>>0,T||te(this,E,_,1,127,-128),E<0&&(E=255+E+1),this[_]=E&255,_+1},o.prototype.writeInt16LE=function(E,_,T){return E=+E,_=_>>>0,T||te(this,E,_,2,32767,-32768),this[_]=E&255,this[_+1]=E>>>8,_+2},o.prototype.writeInt16BE=function(E,_,T){return E=+E,_=_>>>0,T||te(this,E,_,2,32767,-32768),this[_]=E>>>8,this[_+1]=E&255,_+2},o.prototype.writeInt32LE=function(E,_,T){return E=+E,_=_>>>0,T||te(this,E,_,4,2147483647,-2147483648),this[_]=E&255,this[_+1]=E>>>8,this[_+2]=E>>>16,this[_+3]=E>>>24,_+4},o.prototype.writeInt32BE=function(E,_,T){return E=+E,_=_>>>0,T||te(this,E,_,4,2147483647,-2147483648),E<0&&(E=4294967295+E+1),this[_]=E>>>24,this[_+1]=E>>>16,this[_+2]=E>>>8,this[_+3]=E&255,_+4},o.prototype.writeBigInt64LE=Qe(function(E,_=0){return N(this,E,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),o.prototype.writeBigInt64BE=Qe(function(E,_=0){return ie(this,E,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function pe(E,_,T,j,V,L){if(T+j>E.length)throw new RangeError("Index out of range");if(T<0)throw new RangeError("Index out of range")}function Be(E,_,T,j,V){return _=+_,T=T>>>0,V||pe(E,_,T,4),e.write(E,_,T,j,23,4),T+4}o.prototype.writeFloatLE=function(E,_,T){return Be(this,E,_,!0,T)},o.prototype.writeFloatBE=function(E,_,T){return Be(this,E,_,!1,T)};function ge(E,_,T,j,V){return _=+_,T=T>>>0,V||pe(E,_,T,8),e.write(E,_,T,j,52,8),T+8}o.prototype.writeDoubleLE=function(E,_,T){return ge(this,E,_,!0,T)},o.prototype.writeDoubleBE=function(E,_,T){return ge(this,E,_,!1,T)},o.prototype.copy=function(E,_,T,j){if(!o.isBuffer(E))throw new TypeError("argument should be a Buffer");if(T||(T=0),!j&&j!==0&&(j=this.length),_>=E.length&&(_=E.length),_||(_=0),j>0&&j<T&&(j=T),j===T||E.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(T<0||T>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),E.length-_<j-T&&(j=E.length-_+T);let V=j-T;return this===E&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(_,T,j):Uint8Array.prototype.set.call(E,this.subarray(T,j),_),V},o.prototype.fill=function(E,_,T,j){if(typeof E=="string"){if(typeof _=="string"?(j=_,_=0,T=this.length):typeof T=="string"&&(j=T,T=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!o.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(E.length===1){let L=E.charCodeAt(0);(j==="utf8"&&L<128||j==="latin1")&&(E=L)}}else typeof E=="number"?E=E&255:typeof E=="boolean"&&(E=Number(E));if(_<0||this.length<_||this.length<T)throw new RangeError("Out of range index");if(T<=_)return this;_=_>>>0,T=T===void 0?this.length:T>>>0,E||(E=0);let V;if(typeof E=="number")for(V=_;V<T;++V)this[V]=E;else{let L=o.isBuffer(E)?E:o.from(E,j),X=L.length;if(X===0)throw new TypeError('The value "'+E+'" is invalid for argument "value"');for(V=0;V<T-_;++V)this[V+_]=L[V%X]}return this};let H={};function U(E,_,T){H[E]=class extends T{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${E}]`,this.stack,delete this.name}get code(){return E}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${E}]: ${this.message}`}}}U("ERR_BUFFER_OUT_OF_BOUNDS",function(E){return E?`${E} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(E,_){return`The "${E}" argument must be of type number. Received type ${typeof _}`},TypeError),U("ERR_OUT_OF_RANGE",function(E,_,T){let j=`The value of "${E}" is out of range.`,V=T;return Number.isInteger(T)&&Math.abs(T)>2**32?V=le(String(T)):typeof T=="bigint"&&(V=String(T),(T>BigInt(2)**BigInt(32)||T<-(BigInt(2)**BigInt(32)))&&(V=le(V)),V+="n"),j+=` It must be ${_}. Received ${V}`,j},RangeError);function le(E){let _="",T=E.length,j=E[0]==="-"?1:0;for(;T>=j+4;T-=3)_=`_${E.slice(T-3,T)}${_}`;return`${E.slice(0,T)}${_}`}function _e(E,_,T){he(_,"offset"),(E[_]===void 0||E[_+T]===void 0)&&ye(_,E.length-(T+1))}function ue(E,_,T,j,V,L){if(E>T||E<_){let X=typeof _=="bigint"?"n":"",ce;throw L>3?_===0||_===BigInt(0)?ce=`>= 0${X} and < 2${X} ** ${(L+1)*8}${X}`:ce=`>= -(2${X} ** ${(L+1)*8-1}${X}) and < 2 ** ${(L+1)*8-1}${X}`:ce=`>= ${_}${X} and <= ${T}${X}`,new H.ERR_OUT_OF_RANGE("value",ce,E)}_e(j,V,L)}function he(E,_){if(typeof E!="number")throw new H.ERR_INVALID_ARG_TYPE(_,"number",E)}function ye(E,_,T){throw Math.floor(E)!==E?(he(E,T),new H.ERR_OUT_OF_RANGE(T||"offset","an integer",E)):_<0?new H.ERR_BUFFER_OUT_OF_BOUNDS:new H.ERR_OUT_OF_RANGE(T||"offset",`>= ${T?1:0} and <= ${_}`,E)}let Ee=/[^+/0-9A-Za-z-_]/g;function G(E){if(E=E.split("=")[0],E=E.trim().replace(Ee,""),E.length<2)return"";for(;E.length%4!==0;)E=E+"=";return E}function ee(E,_){_=_||1/0;let T,j=E.length,V=null,L=[];for(let X=0;X<j;++X){if(T=E.charCodeAt(X),T>55295&&T<57344){if(!V){if(T>56319){(_-=3)>-1&&L.push(239,191,189);continue}else if(X+1===j){(_-=3)>-1&&L.push(239,191,189);continue}V=T;continue}if(T<56320){(_-=3)>-1&&L.push(239,191,189),V=T;continue}T=(V-55296<<10|T-56320)+65536}else V&&(_-=3)>-1&&L.push(239,191,189);if(V=null,T<128){if((_-=1)<0)break;L.push(T)}else if(T<2048){if((_-=2)<0)break;L.push(T>>6|192,T&63|128)}else if(T<65536){if((_-=3)<0)break;L.push(T>>12|224,T>>6&63|128,T&63|128)}else if(T<1114112){if((_-=4)<0)break;L.push(T>>18|240,T>>12&63|128,T>>6&63|128,T&63|128)}else throw new Error("Invalid code point")}return L}function re(E){let _=[];for(let T=0;T<E.length;++T)_.push(E.charCodeAt(T)&255);return _}function xe(E,_){let T,j,V,L=[];for(let X=0;X<E.length&&!((_-=2)<0);++X)T=E.charCodeAt(X),j=T>>8,V=T%256,L.push(V),L.push(j);return L}function ve(E){return t.toByteArray(G(E))}function Q(E,_,T,j){let V;for(V=0;V<j&&!(V+T>=_.length||V>=E.length);++V)_[V+T]=E[V];return V}function me(E,_){return E instanceof _||E!=null&&E.constructor!=null&&E.constructor.name!=null&&E.constructor.name===_.name}function Fe(E){return E!==E}let He=function(){let E="0123456789abcdef",_=new Array(256);for(let T=0;T<16;++T){let j=T*16;for(let V=0;V<16;++V)_[j+V]=E[T]+E[V]}return _}();function Qe(E){return typeof BigInt>"u"?ft:E}function ft(){throw new Error("BigInt not supported")}return Ao}var jl,G1,Nh,W1,Ao,V1,Ms,ku,uR,hR,ln=Xr(()=>{Pe(),Ie(),Ce(),jl={},G1=!1,Nh={},W1=!1,Ao={},V1=!1,Ms=G3(),Ms.Buffer,Ms.SlowBuffer,Ms.INSPECT_MAX_BYTES,Ms.kMaxLength,ku=Ms.Buffer,uR=Ms.INSPECT_MAX_BYTES,hR=Ms.kMaxLength}),Pe=Xr(()=>{ln()}),W3=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=class{constructor(r){this.aliasToTopic={},this.max=r}put(r,n){return n===0||n>this.max?!1:(this.aliasToTopic[n]=r,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(r){return this.aliasToTopic[r]}clear(){this.aliasToTopic={}}};t.default=e}),Cr=Le((t,e)=>{Pe(),Ie(),Ce(),e.exports={ArrayIsArray(r){return Array.isArray(r)},ArrayPrototypeIncludes(r,n){return r.includes(n)},ArrayPrototypeIndexOf(r,n){return r.indexOf(n)},ArrayPrototypeJoin(r,n){return r.join(n)},ArrayPrototypeMap(r,n){return r.map(n)},ArrayPrototypePop(r,n){return r.pop(n)},ArrayPrototypePush(r,n){return r.push(n)},ArrayPrototypeSlice(r,n,i){return r.slice(n,i)},Error,FunctionPrototypeCall(r,n,...i){return r.call(n,...i)},FunctionPrototypeSymbolHasInstance(r,n){return Function.prototype[Symbol.hasInstance].call(r,n)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(r,n){return Object.defineProperties(r,n)},ObjectDefineProperty(r,n,i){return Object.defineProperty(r,n,i)},ObjectGetOwnPropertyDescriptor(r,n){return Object.getOwnPropertyDescriptor(r,n)},ObjectKeys(r){return Object.keys(r)},ObjectSetPrototypeOf(r,n){return Object.setPrototypeOf(r,n)},Promise,PromisePrototypeCatch(r,n){return r.catch(n)},PromisePrototypeThen(r,n,i){return r.then(n,i)},PromiseReject(r){return Promise.reject(r)},ReflectApply:Reflect.apply,RegExpPrototypeTest(r,n){return r.test(n)},SafeSet:Set,String,StringPrototypeSlice(r,n,i){return r.slice(n,i)},StringPrototypeToLowerCase(r){return r.toLowerCase()},StringPrototypeToUpperCase(r){return r.toUpperCase()},StringPrototypeTrim(r){return r.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(r,n,i){return r.set(n,i)},Uint8Array}}),to=Le((t,e)=>{Pe(),Ie(),Ce();var r=(ln(),Nt(an)),n=Object.getPrototypeOf(async function(){}).constructor,i=globalThis.Blob||r.Blob,s=typeof i<"u"?function(a){return a instanceof i}:function(a){return!1},o=class extends Error{constructor(a){if(!Array.isArray(a))throw new TypeError(`Expected input to be an Array, got ${typeof a}`);let l="";for(let u=0;u<a.length;u++)l+=`    ${a[u].stack}
`;super(l),this.name="AggregateError",this.errors=a}};e.exports={AggregateError:o,kEmptyObject:Object.freeze({}),once(a){let l=!1;return function(...u){l||(l=!0,a.apply(this,u))}},createDeferredPromise:function(){let a,l;return{promise:new Promise((u,d)=>{a=u,l=d}),resolve:a,reject:l}},promisify(a){return new Promise((l,u)=>{a((d,...f)=>d?u(d):l(...f))})},debuglog(){return function(){}},format(a,...l){return a.replace(/%([sdifj])/g,function(...[u,d]){let f=l.shift();return d==="f"?f.toFixed(6):d==="j"?JSON.stringify(f):d==="s"&&typeof f=="object"?`${f.constructor!==Object?f.constructor.name:""} {}`.trim():f.toString()})},inspect(a){switch(typeof a){case"string":if(a.includes("'"))if(a.includes('"')){if(!a.includes("`")&&!a.includes("${"))return`\`${a}\``}else return`"${a}"`;return`'${a}'`;case"number":return isNaN(a)?"NaN":Object.is(a,-0)?String(a):a;case"bigint":return`${String(a)}n`;case"boolean":case"undefined":return String(a);case"object":return"{}"}},types:{isAsyncFunction(a){return a instanceof n},isArrayBufferView(a){return ArrayBuffer.isView(a)}},isBlob:s},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}),mw=Le((t,e)=>{Pe(),Ie(),Ce();var{AbortController:r,AbortSignal:n}=typeof self<"u"?self:typeof window<"u"?window:void 0;e.exports=r,e.exports.AbortSignal=n,e.exports.default=r}),Pn=Le((t,e)=>{Pe(),Ie(),Ce();var{format:r,inspect:n,AggregateError:i}=to(),s=globalThis.AggregateError||i,o=Symbol("kIsNodeError"),a=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,u="__node_internal_",d={};function f(x,b){if(!x)throw new d.ERR_INTERNAL_ASSERTION(b)}function p(x){let b="",I=x.length,O=x[0]==="-"?1:0;for(;I>=O+4;I-=3)b=`_${x.slice(I-3,I)}${b}`;return`${x.slice(0,I)}${b}`}function m(x,b,I){if(typeof b=="function")return f(b.length<=I.length,`Code: ${x}; The provided arguments length (${I.length}) does not match the required ones (${b.length}).`),b(...I);let O=(b.match(/%[dfijoOs]/g)||[]).length;return f(O===I.length,`Code: ${x}; The provided arguments length (${I.length}) does not match the required ones (${O}).`),I.length===0?b:r(b,...I)}function g(x,b,I){I||(I=Error);class O extends I{constructor(...R){super(m(x,b,R))}toString(){return`${this.name} [${x}]: ${this.message}`}}Object.defineProperties(O.prototype,{name:{value:I.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${x}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),O.prototype.code=x,O.prototype[o]=!0,d[x]=O}function v(x){let b=u+x.name;return Object.defineProperty(x,"name",{value:b}),x}function C(x,b){if(x&&b&&x!==b){if(Array.isArray(b.errors))return b.errors.push(x),b;let I=new s([b,x],b.message);return I.code=b.code,I}return x||b}var S=class extends Error{constructor(x="The operation was aborted",b=void 0){if(b!==void 0&&typeof b!="object")throw new d.ERR_INVALID_ARG_TYPE("options","Object",b);super(x,b),this.code="ABORT_ERR",this.name="AbortError"}};g("ERR_ASSERTION","%s",Error),g("ERR_INVALID_ARG_TYPE",(x,b,I)=>{f(typeof x=="string","'name' must be a string"),Array.isArray(b)||(b=[b]);let O="The ";x.endsWith(" argument")?O+=`${x} `:O+=`"${x}" ${x.includes(".")?"property":"argument"} `,O+="must be ";let k=[],R=[],M=[];for(let Y of b)f(typeof Y=="string","All expected entries have to be of type string"),a.includes(Y)?k.push(Y.toLowerCase()):l.test(Y)?R.push(Y):(f(Y!=="object",'The value "object" should be written as "Object"'),M.push(Y));if(R.length>0){let Y=k.indexOf("object");Y!==-1&&(k.splice(k,Y,1),R.push("Object"))}if(k.length>0){switch(k.length){case 1:O+=`of type ${k[0]}`;break;case 2:O+=`one of type ${k[0]} or ${k[1]}`;break;default:{let Y=k.pop();O+=`one of type ${k.join(", ")}, or ${Y}`}}(R.length>0||M.length>0)&&(O+=" or ")}if(R.length>0){switch(R.length){case 1:O+=`an instance of ${R[0]}`;break;case 2:O+=`an instance of ${R[0]} or ${R[1]}`;break;default:{let Y=R.pop();O+=`an instance of ${R.join(", ")}, or ${Y}`}}M.length>0&&(O+=" or ")}switch(M.length){case 0:break;case 1:M[0].toLowerCase()!==M[0]&&(O+="an "),O+=`${M[0]}`;break;case 2:O+=`one of ${M[0]} or ${M[1]}`;break;default:{let Y=M.pop();O+=`one of ${M.join(", ")}, or ${Y}`}}if(I==null)O+=`. Received ${I}`;else if(typeof I=="function"&&I.name)O+=`. Received function ${I.name}`;else if(typeof I=="object"){var $;if(($=I.constructor)!==null&&$!==void 0&&$.name)O+=`. Received an instance of ${I.constructor.name}`;else{let Y=n(I,{depth:-1});O+=`. Received ${Y}`}}else{let Y=n(I,{colors:!1});Y.length>25&&(Y=`${Y.slice(0,25)}...`),O+=`. Received type ${typeof I} (${Y})`}return O},TypeError),g("ERR_INVALID_ARG_VALUE",(x,b,I="is invalid")=>{let O=n(b);return O.length>128&&(O=O.slice(0,128)+"..."),`The ${x.includes(".")?"property":"argument"} '${x}' ${I}. Received ${O}`},TypeError),g("ERR_INVALID_RETURN_VALUE",(x,b,I)=>{var O;let k=I!=null&&(O=I.constructor)!==null&&O!==void 0&&O.name?`instance of ${I.constructor.name}`:`type ${typeof I}`;return`Expected ${x} to be returned from the "${b}" function but got ${k}.`},TypeError),g("ERR_MISSING_ARGS",(...x)=>{f(x.length>0,"At least one arg needs to be specified");let b,I=x.length;switch(x=(Array.isArray(x)?x:[x]).map(O=>`"${O}"`).join(" or "),I){case 1:b+=`The ${x[0]} argument`;break;case 2:b+=`The ${x[0]} and ${x[1]} arguments`;break;default:{let O=x.pop();b+=`The ${x.join(", ")}, and ${O} arguments`}break}return`${b} must be specified`},TypeError),g("ERR_OUT_OF_RANGE",(x,b,I)=>{f(b,'Missing "range" argument');let O;return Number.isInteger(I)&&Math.abs(I)>2**32?O=p(String(I)):typeof I=="bigint"?(O=String(I),(I>2n**32n||I<-(2n**32n))&&(O=p(O)),O+="n"):O=n(I),`The value of "${x}" is out of range. It must be ${b}. Received ${O}`},RangeError),g("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),g("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),g("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),g("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),g("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),g("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),g("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),g("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),g("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),g("ERR_STREAM_WRITE_AFTER_END","write after end",Error),g("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:S,aggregateTwoErrors:v(C),hideStackFrames:v,codes:d}}),Rm=Le((t,e)=>{Pe(),Ie(),Ce();var{ArrayIsArray:r,ArrayPrototypeIncludes:n,ArrayPrototypeJoin:i,ArrayPrototypeMap:s,NumberIsInteger:o,NumberIsNaN:a,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:u,NumberParseInt:d,ObjectPrototypeHasOwnProperty:f,RegExpPrototypeExec:p,String:m,StringPrototypeToUpperCase:g,StringPrototypeTrim:v}=Cr(),{hideStackFrames:C,codes:{ERR_SOCKET_BAD_PORT:S,ERR_INVALID_ARG_TYPE:x,ERR_INVALID_ARG_VALUE:b,ERR_OUT_OF_RANGE:I,ERR_UNKNOWN_SIGNAL:O}}=Pn(),{normalizeEncoding:k}=to(),{isAsyncFunction:R,isArrayBufferView:M}=to().types,$={};function Y(Q){return Q===(Q|0)}function se(Q){return Q===Q>>>0}var B=/^[0-7]+$/,F="must be a 32-bit unsigned integer or an octal string";function K(Q,me,Fe){if(typeof Q>"u"&&(Q=Fe),typeof Q=="string"){if(p(B,Q)===null)throw new b(me,Q,F);Q=d(Q,8)}return oe(Q,me),Q}var Z=C((Q,me,Fe=u,He=l)=>{if(typeof Q!="number")throw new x(me,"number",Q);if(!o(Q))throw new I(me,"an integer",Q);if(Q<Fe||Q>He)throw new I(me,`>= ${Fe} && <= ${He}`,Q)}),de=C((Q,me,Fe=-2147483648,He=2147483647)=>{if(typeof Q!="number")throw new x(me,"number",Q);if(!o(Q))throw new I(me,"an integer",Q);if(Q<Fe||Q>He)throw new I(me,`>= ${Fe} && <= ${He}`,Q)}),oe=C((Q,me,Fe=!1)=>{if(typeof Q!="number")throw new x(me,"number",Q);if(!o(Q))throw new I(me,"an integer",Q);let He=Fe?1:0,Qe=4294967295;if(Q<He||Q>Qe)throw new I(me,`>= ${He} && <= ${Qe}`,Q)});function D(Q,me){if(typeof Q!="string")throw new x(me,"string",Q)}function J(Q,me,Fe=void 0,He){if(typeof Q!="number")throw new x(me,"number",Q);if(Fe!=null&&Q<Fe||He!=null&&Q>He||(Fe!=null||He!=null)&&a(Q))throw new I(me,`${Fe!=null?`>= ${Fe}`:""}${Fe!=null&&He!=null?" && ":""}${He!=null?`<= ${He}`:""}`,Q)}var W=C((Q,me,Fe)=>{if(!n(Fe,Q)){let He="must be one of: "+i(s(Fe,Qe=>typeof Qe=="string"?`'${Qe}'`:m(Qe)),", ");throw new b(me,Q,He)}});function te(Q,me){if(typeof Q!="boolean")throw new x(me,"boolean",Q)}function N(Q,me,Fe){return Q==null||!f(Q,me)?Fe:Q[me]}var ie=C((Q,me,Fe=null)=>{let He=N(Fe,"allowArray",!1),Qe=N(Fe,"allowFunction",!1);if(!N(Fe,"nullable",!1)&&Q===null||!He&&r(Q)||typeof Q!="object"&&(!Qe||typeof Q!="function"))throw new x(me,"Object",Q)}),pe=C((Q,me)=>{if(Q!=null&&typeof Q!="object"&&typeof Q!="function")throw new x(me,"a dictionary",Q)}),Be=C((Q,me,Fe=0)=>{if(!r(Q))throw new x(me,"Array",Q);if(Q.length<Fe){let He=`must be longer than ${Fe}`;throw new b(me,Q,He)}});function ge(Q,me){Be(Q,me);for(let Fe=0;Fe<Q.length;Fe++)D(Q[Fe],`${me}[${Fe}]`)}function H(Q,me){Be(Q,me);for(let Fe=0;Fe<Q.length;Fe++)te(Q[Fe],`${me}[${Fe}]`)}function U(Q,me="signal"){if(D(Q,me),$[Q]===void 0)throw $[g(Q)]!==void 0?new O(Q+" (signals must use all capital letters)"):new O(Q)}var le=C((Q,me="buffer")=>{if(!M(Q))throw new x(me,["Buffer","TypedArray","DataView"],Q)});function _e(Q,me){let Fe=k(me),He=Q.length;if(Fe==="hex"&&He%2!==0)throw new b("encoding",me,`is invalid for data of length ${He}`)}function ue(Q,me="Port",Fe=!0){if(typeof Q!="number"&&typeof Q!="string"||typeof Q=="string"&&v(Q).length===0||+Q!==+Q>>>0||Q>65535||Q===0&&!Fe)throw new S(me,Q,Fe);return Q|0}var he=C((Q,me)=>{if(Q!==void 0&&(Q===null||typeof Q!="object"||!("aborted"in Q)))throw new x(me,"AbortSignal",Q)}),ye=C((Q,me)=>{if(typeof Q!="function")throw new x(me,"Function",Q)}),Ee=C((Q,me)=>{if(typeof Q!="function"||R(Q))throw new x(me,"Function",Q)}),G=C((Q,me)=>{if(Q!==void 0)throw new x(me,"undefined",Q)});function ee(Q,me,Fe){if(!n(Fe,Q))throw new x(me,`('${i(Fe,"|")}')`,Q)}var re=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function xe(Q,me){if(typeof Q>"u"||!p(re,Q))throw new b(me,Q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function ve(Q){if(typeof Q=="string")return xe(Q,"hints"),Q;if(r(Q)){let me=Q.length,Fe="";if(me===0)return Fe;for(let He=0;He<me;He++){let Qe=Q[He];xe(Qe,"hints"),Fe+=Qe,He!==me-1&&(Fe+=", ")}return Fe}throw new b("hints",Q,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:Y,isUint32:se,parseFileMode:K,validateArray:Be,validateStringArray:ge,validateBooleanArray:H,validateBoolean:te,validateBuffer:le,validateDictionary:pe,validateEncoding:_e,validateFunction:ye,validateInt32:de,validateInteger:Z,validateNumber:J,validateObject:ie,validateOneOf:W,validatePlainFunction:Ee,validatePort:ue,validateSignalName:U,validateString:D,validateUint32:oe,validateUndefined:G,validateUnion:ee,validateAbortSignal:he,validateLinkHeaderValue:ve}}),cl=Le((t,e)=>{Pe(),Ie(),Ce();var r=e.exports={},n,i;function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?n=setTimeout:n=s}catch{n=s}try{typeof clearTimeout=="function"?i=clearTimeout:i=o}catch{i=o}})();function a(S){if(n===setTimeout)return setTimeout(S,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(S,0);try{return n(S,0)}catch{try{return n.call(null,S,0)}catch{return n.call(this,S,0)}}}function l(S){if(i===clearTimeout)return clearTimeout(S);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(S);try{return i(S)}catch{try{return i.call(null,S)}catch{return i.call(this,S)}}}var u=[],d=!1,f,p=-1;function m(){!d||!f||(d=!1,f.length?u=f.concat(u):p=-1,u.length&&g())}function g(){if(!d){var S=a(m);d=!0;for(var x=u.length;x;){for(f=u,u=[];++p<x;)f&&f[p].run();p=-1,x=u.length}f=null,d=!1,l(S)}}r.nextTick=function(S){var x=new Array(arguments.length-1);if(arguments.length>1)for(var b=1;b<arguments.length;b++)x[b-1]=arguments[b];u.push(new v(S,x)),u.length===1&&!d&&a(g)};function v(S,x){this.fun=S,this.array=x}v.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={};function C(){}r.on=C,r.addListener=C,r.once=C,r.off=C,r.removeListener=C,r.removeAllListeners=C,r.emit=C,r.prependListener=C,r.prependOnceListener=C,r.listeners=function(S){return[]},r.binding=function(S){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(S){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}),lo=Le((t,e)=>{Pe(),Ie(),Ce();var{Symbol:r,SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:s}=Cr(),o=r("kDestroyed"),a=r("kIsErrored"),l=r("kIsReadable"),u=r("kIsDisturbed"),d=s("nodejs.webstream.isClosedPromise"),f=s("nodejs.webstream.controllerErrorFunction");function p(N,ie=!1){var pe;return!!(N&&typeof N.pipe=="function"&&typeof N.on=="function"&&(!ie||typeof N.pause=="function"&&typeof N.resume=="function")&&(!N._writableState||((pe=N._readableState)===null||pe===void 0?void 0:pe.readable)!==!1)&&(!N._writableState||N._readableState))}function m(N){var ie;return!!(N&&typeof N.write=="function"&&typeof N.on=="function"&&(!N._readableState||((ie=N._writableState)===null||ie===void 0?void 0:ie.writable)!==!1))}function g(N){return!!(N&&typeof N.pipe=="function"&&N._readableState&&typeof N.on=="function"&&typeof N.write=="function")}function v(N){return N&&(N._readableState||N._writableState||typeof N.write=="function"&&typeof N.on=="function"||typeof N.pipe=="function"&&typeof N.on=="function")}function C(N){return!!(N&&!v(N)&&typeof N.pipeThrough=="function"&&typeof N.getReader=="function"&&typeof N.cancel=="function")}function S(N){return!!(N&&!v(N)&&typeof N.getWriter=="function"&&typeof N.abort=="function")}function x(N){return!!(N&&!v(N)&&typeof N.readable=="object"&&typeof N.writable=="object")}function b(N){return C(N)||S(N)||x(N)}function I(N,ie){return N==null?!1:ie===!0?typeof N[n]=="function":ie===!1?typeof N[i]=="function":typeof N[n]=="function"||typeof N[i]=="function"}function O(N){if(!v(N))return null;let ie=N._writableState,pe=N._readableState,Be=ie||pe;return!!(N.destroyed||N[o]||Be!=null&&Be.destroyed)}function k(N){if(!m(N))return null;if(N.writableEnded===!0)return!0;let ie=N._writableState;return ie!=null&&ie.errored?!1:typeof(ie==null?void 0:ie.ended)!="boolean"?null:ie.ended}function R(N,ie){if(!m(N))return null;if(N.writableFinished===!0)return!0;let pe=N._writableState;return pe!=null&&pe.errored?!1:typeof(pe==null?void 0:pe.finished)!="boolean"?null:!!(pe.finished||ie===!1&&pe.ended===!0&&pe.length===0)}function M(N){if(!p(N))return null;if(N.readableEnded===!0)return!0;let ie=N._readableState;return!ie||ie.errored?!1:typeof(ie==null?void 0:ie.ended)!="boolean"?null:ie.ended}function $(N,ie){if(!p(N))return null;let pe=N._readableState;return pe!=null&&pe.errored?!1:typeof(pe==null?void 0:pe.endEmitted)!="boolean"?null:!!(pe.endEmitted||ie===!1&&pe.ended===!0&&pe.length===0)}function Y(N){return N&&N[l]!=null?N[l]:typeof(N==null?void 0:N.readable)!="boolean"?null:O(N)?!1:p(N)&&N.readable&&!$(N)}function se(N){return typeof(N==null?void 0:N.writable)!="boolean"?null:O(N)?!1:m(N)&&N.writable&&!k(N)}function B(N,ie){return v(N)?O(N)?!0:!((ie==null?void 0:ie.readable)!==!1&&Y(N)||(ie==null?void 0:ie.writable)!==!1&&se(N)):null}function F(N){var ie,pe;return v(N)?N.writableErrored?N.writableErrored:(ie=(pe=N._writableState)===null||pe===void 0?void 0:pe.errored)!==null&&ie!==void 0?ie:null:null}function K(N){var ie,pe;return v(N)?N.readableErrored?N.readableErrored:(ie=(pe=N._readableState)===null||pe===void 0?void 0:pe.errored)!==null&&ie!==void 0?ie:null:null}function Z(N){if(!v(N))return null;if(typeof N.closed=="boolean")return N.closed;let ie=N._writableState,pe=N._readableState;return typeof(ie==null?void 0:ie.closed)=="boolean"||typeof(pe==null?void 0:pe.closed)=="boolean"?(ie==null?void 0:ie.closed)||(pe==null?void 0:pe.closed):typeof N._closed=="boolean"&&de(N)?N._closed:null}function de(N){return typeof N._closed=="boolean"&&typeof N._defaultKeepAlive=="boolean"&&typeof N._removedConnection=="boolean"&&typeof N._removedContLen=="boolean"}function oe(N){return typeof N._sent100=="boolean"&&de(N)}function D(N){var ie;return typeof N._consuming=="boolean"&&typeof N._dumped=="boolean"&&((ie=N.req)===null||ie===void 0?void 0:ie.upgradeOrConnect)===void 0}function J(N){if(!v(N))return null;let ie=N._writableState,pe=N._readableState,Be=ie||pe;return!Be&&oe(N)||!!(Be&&Be.autoDestroy&&Be.emitClose&&Be.closed===!1)}function W(N){var ie;return!!(N&&((ie=N[u])!==null&&ie!==void 0?ie:N.readableDidRead||N.readableAborted))}function te(N){var ie,pe,Be,ge,H,U,le,_e,ue,he;return!!(N&&((ie=(pe=(Be=(ge=(H=(U=N[a])!==null&&U!==void 0?U:N.readableErrored)!==null&&H!==void 0?H:N.writableErrored)!==null&&ge!==void 0?ge:(le=N._readableState)===null||le===void 0?void 0:le.errorEmitted)!==null&&Be!==void 0?Be:(_e=N._writableState)===null||_e===void 0?void 0:_e.errorEmitted)!==null&&pe!==void 0?pe:(ue=N._readableState)===null||ue===void 0?void 0:ue.errored)!==null&&ie!==void 0?ie:!((he=N._writableState)===null||he===void 0)&&he.errored))}e.exports={kDestroyed:o,isDisturbed:W,kIsDisturbed:u,isErrored:te,kIsErrored:a,isReadable:Y,kIsReadable:l,kIsClosedPromise:d,kControllerErrorFunction:f,isClosed:Z,isDestroyed:O,isDuplexNodeStream:g,isFinished:B,isIterable:I,isReadableNodeStream:p,isReadableStream:C,isReadableEnded:M,isReadableFinished:$,isReadableErrored:K,isNodeStream:v,isWebStream:b,isWritable:se,isWritableNodeStream:m,isWritableStream:S,isWritableEnded:k,isWritableFinished:R,isWritableErrored:F,isServerRequest:D,isServerResponse:oe,willEmitClose:J,isTransformStream:x}}),aa=Le((t,e)=>{Pe(),Ie(),Ce();var r=cl(),{AbortError:n,codes:i}=Pn(),{ERR_INVALID_ARG_TYPE:s,ERR_STREAM_PREMATURE_CLOSE:o}=i,{kEmptyObject:a,once:l}=to(),{validateAbortSignal:u,validateFunction:d,validateObject:f,validateBoolean:p}=Rm(),{Promise:m,PromisePrototypeThen:g}=Cr(),{isClosed:v,isReadable:C,isReadableNodeStream:S,isReadableStream:x,isReadableFinished:b,isReadableErrored:I,isWritable:O,isWritableNodeStream:k,isWritableStream:R,isWritableFinished:M,isWritableErrored:$,isNodeStream:Y,willEmitClose:se,kIsClosedPromise:B}=lo();function F(D){return D.setHeader&&typeof D.abort=="function"}var K=()=>{};function Z(D,J,W){var te,N;if(arguments.length===2?(W=J,J=a):J==null?J=a:f(J,"options"),d(W,"callback"),u(J.signal,"options.signal"),W=l(W),x(D)||R(D))return de(D,J,W);if(!Y(D))throw new s("stream",["ReadableStream","WritableStream","Stream"],D);let ie=(te=J.readable)!==null&&te!==void 0?te:S(D),pe=(N=J.writable)!==null&&N!==void 0?N:k(D),Be=D._writableState,ge=D._readableState,H=()=>{D.writable||_e()},U=se(D)&&S(D)===ie&&k(D)===pe,le=M(D,!1),_e=()=>{le=!0,D.destroyed&&(U=!1),!(U&&(!D.readable||ie))&&(!ie||ue)&&W.call(D)},ue=b(D,!1),he=()=>{ue=!0,D.destroyed&&(U=!1),!(U&&(!D.writable||pe))&&(!pe||le)&&W.call(D)},ye=ve=>{W.call(D,ve)},Ee=v(D),G=()=>{Ee=!0;let ve=$(D)||I(D);if(ve&&typeof ve!="boolean")return W.call(D,ve);if(ie&&!ue&&S(D,!0)&&!b(D,!1))return W.call(D,new o);if(pe&&!le&&!M(D,!1))return W.call(D,new o);W.call(D)},ee=()=>{Ee=!0;let ve=$(D)||I(D);if(ve&&typeof ve!="boolean")return W.call(D,ve);W.call(D)},re=()=>{D.req.on("finish",_e)};F(D)?(D.on("complete",_e),U||D.on("abort",G),D.req?re():D.on("request",re)):pe&&!Be&&(D.on("end",H),D.on("close",H)),!U&&typeof D.aborted=="boolean"&&D.on("aborted",G),D.on("end",he),D.on("finish",_e),J.error!==!1&&D.on("error",ye),D.on("close",G),Ee?r.nextTick(G):Be!=null&&Be.errorEmitted||ge!=null&&ge.errorEmitted?U||r.nextTick(ee):(!ie&&(!U||C(D))&&(le||O(D)===!1)||!pe&&(!U||O(D))&&(ue||C(D)===!1)||ge&&D.req&&D.aborted)&&r.nextTick(ee);let xe=()=>{W=K,D.removeListener("aborted",G),D.removeListener("complete",_e),D.removeListener("abort",G),D.removeListener("request",re),D.req&&D.req.removeListener("finish",_e),D.removeListener("end",H),D.removeListener("close",H),D.removeListener("finish",_e),D.removeListener("end",he),D.removeListener("error",ye),D.removeListener("close",G)};if(J.signal&&!Ee){let ve=()=>{let Q=W;xe(),Q.call(D,new n(void 0,{cause:J.signal.reason}))};if(J.signal.aborted)r.nextTick(ve);else{let Q=W;W=l((...me)=>{J.signal.removeEventListener("abort",ve),Q.apply(D,me)}),J.signal.addEventListener("abort",ve)}}return xe}function de(D,J,W){let te=!1,N=K;if(J.signal)if(N=()=>{te=!0,W.call(D,new n(void 0,{cause:J.signal.reason}))},J.signal.aborted)r.nextTick(N);else{let pe=W;W=l((...Be)=>{J.signal.removeEventListener("abort",N),pe.apply(D,Be)}),J.signal.addEventListener("abort",N)}let ie=(...pe)=>{te||r.nextTick(()=>W.apply(D,pe))};return g(D[B].promise,ie,ie),K}function oe(D,J){var W;let te=!1;return J===null&&(J=a),(W=J)!==null&&W!==void 0&&W.cleanup&&(p(J.cleanup,"cleanup"),te=J.cleanup),new m((N,ie)=>{let pe=Z(D,J,Be=>{te&&pe(),Be?ie(Be):N()})})}e.exports=Z,e.exports.finished=oe}),ju=Le((t,e)=>{Pe(),Ie(),Ce();var r=cl(),{aggregateTwoErrors:n,codes:{ERR_MULTIPLE_CALLBACK:i},AbortError:s}=Pn(),{Symbol:o}=Cr(),{kDestroyed:a,isDestroyed:l,isFinished:u,isServerRequest:d}=lo(),f=o("kDestroy"),p=o("kConstruct");function m(B,F,K){B&&(B.stack,F&&!F.errored&&(F.errored=B),K&&!K.errored&&(K.errored=B))}function g(B,F){let K=this._readableState,Z=this._writableState,de=Z||K;return Z!=null&&Z.destroyed||K!=null&&K.destroyed?(typeof F=="function"&&F(),this):(m(B,Z,K),Z&&(Z.destroyed=!0),K&&(K.destroyed=!0),de.constructed?v(this,B,F):this.once(f,function(oe){v(this,n(oe,B),F)}),this)}function v(B,F,K){let Z=!1;function de(oe){if(Z)return;Z=!0;let D=B._readableState,J=B._writableState;m(oe,J,D),J&&(J.closed=!0),D&&(D.closed=!0),typeof K=="function"&&K(oe),oe?r.nextTick(C,B,oe):r.nextTick(S,B)}try{B._destroy(F||null,de)}catch(oe){de(oe)}}function C(B,F){x(B,F),S(B)}function S(B){let F=B._readableState,K=B._writableState;K&&(K.closeEmitted=!0),F&&(F.closeEmitted=!0),(K!=null&&K.emitClose||F!=null&&F.emitClose)&&B.emit("close")}function x(B,F){let K=B._readableState,Z=B._writableState;Z!=null&&Z.errorEmitted||K!=null&&K.errorEmitted||(Z&&(Z.errorEmitted=!0),K&&(K.errorEmitted=!0),B.emit("error",F))}function b(){let B=this._readableState,F=this._writableState;B&&(B.constructed=!0,B.closed=!1,B.closeEmitted=!1,B.destroyed=!1,B.errored=null,B.errorEmitted=!1,B.reading=!1,B.ended=B.readable===!1,B.endEmitted=B.readable===!1),F&&(F.constructed=!0,F.destroyed=!1,F.closed=!1,F.closeEmitted=!1,F.errored=null,F.errorEmitted=!1,F.finalCalled=!1,F.prefinished=!1,F.ended=F.writable===!1,F.ending=F.writable===!1,F.finished=F.writable===!1)}function I(B,F,K){let Z=B._readableState,de=B._writableState;if(de!=null&&de.destroyed||Z!=null&&Z.destroyed)return this;Z!=null&&Z.autoDestroy||de!=null&&de.autoDestroy?B.destroy(F):F&&(F.stack,de&&!de.errored&&(de.errored=F),Z&&!Z.errored&&(Z.errored=F),K?r.nextTick(x,B,F):x(B,F))}function O(B,F){if(typeof B._construct!="function")return;let K=B._readableState,Z=B._writableState;K&&(K.constructed=!1),Z&&(Z.constructed=!1),B.once(p,F),!(B.listenerCount(p)>1)&&r.nextTick(k,B)}function k(B){let F=!1;function K(Z){if(F){I(B,Z??new i);return}F=!0;let de=B._readableState,oe=B._writableState,D=oe||de;de&&(de.constructed=!0),oe&&(oe.constructed=!0),D.destroyed?B.emit(f,Z):Z?I(B,Z,!0):r.nextTick(R,B)}try{B._construct(Z=>{r.nextTick(K,Z)})}catch(Z){r.nextTick(K,Z)}}function R(B){B.emit(p)}function M(B){return(B==null?void 0:B.setHeader)&&typeof B.abort=="function"}function $(B){B.emit("close")}function Y(B,F){B.emit("error",F),r.nextTick($,B)}function se(B,F){!B||l(B)||(!F&&!u(B)&&(F=new s),d(B)?(B.socket=null,B.destroy(F)):M(B)?B.abort():M(B.req)?B.req.abort():typeof B.destroy=="function"?B.destroy(F):typeof B.close=="function"?B.close():F?r.nextTick(Y,B,F):r.nextTick($,B),B.destroyed||(B[a]=!0))}e.exports={construct:O,destroyer:se,destroy:g,undestroy:b,errorOrDestroy:I}});function kt(){kt.init.call(this)}function Qf(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function cR(t){return t._maxListeners===void 0?kt.defaultMaxListeners:t._maxListeners}function zS(t,e,r,n){var i,s,o,a;if(Qf(r),(s=t._events)===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,r.listener?r.listener:r),s=t._events),o=s[e]),o===void 0)o=s[e]=r,++t._eventsCount;else if(typeof o=="function"?o=s[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=cR(t))>0&&o.length>i&&!o.warned){o.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=t,l.type=e,l.count=o.length,a=l,console&&console.warn&&console.warn(a)}return t}function V3(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function HS(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=V3.bind(n);return i.listener=r,n.wrapFn=i,i}function GS(t,e,r){var n=t._events;if(n===void 0)return[];var i=n[e];return i===void 0?[]:typeof i=="function"?r?[i.listener||i]:[i]:r?function(s){for(var o=new Array(s.length),a=0;a<o.length;++a)o[a]=s[a].listener||s[a];return o}(i):dR(i,i.length)}function WS(t){var e=this._events;if(e!==void 0){var r=e[t];if(typeof r=="function")return 1;if(r!==void 0)return r.length}return 0}function dR(t,e){for(var r=new Array(e),n=0;n<e;++n)r[n]=t[n];return r}var VS,XS,ba,z0,H0,G0,Un,qS=Xr(()=>{Pe(),Ie(),Ce(),ba=typeof Reflect=="object"?Reflect:null,z0=ba&&typeof ba.apply=="function"?ba.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)},XS=ba&&typeof ba.ownKeys=="function"?ba.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)},H0=Number.isNaN||function(t){return t!=t},VS=kt,kt.EventEmitter=kt,kt.prototype._events=void 0,kt.prototype._eventsCount=0,kt.prototype._maxListeners=void 0,G0=10,Object.defineProperty(kt,"defaultMaxListeners",{enumerable:!0,get:function(){return G0},set:function(t){if(typeof t!="number"||t<0||H0(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");G0=t}}),kt.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},kt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||H0(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},kt.prototype.getMaxListeners=function(){return cR(this)},kt.prototype.emit=function(t){for(var e=[],r=1;r<arguments.length;r++)e.push(arguments[r]);var n=t==="error",i=this._events;if(i!==void 0)n=n&&i.error===void 0;else if(!n)return!1;if(n){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var a=i[t];if(a===void 0)return!1;if(typeof a=="function")z0(a,this,e);else{var l=a.length,u=dR(a,l);for(r=0;r<l;++r)z0(u[r],this,e)}return!0},kt.prototype.addListener=function(t,e){return zS(this,t,e,!1)},kt.prototype.on=kt.prototype.addListener,kt.prototype.prependListener=function(t,e){return zS(this,t,e,!0)},kt.prototype.once=function(t,e){return Qf(e),this.on(t,HS(this,t,e)),this},kt.prototype.prependOnceListener=function(t,e){return Qf(e),this.prependListener(t,HS(this,t,e)),this},kt.prototype.removeListener=function(t,e){var r,n,i,s,o;if(Qf(e),(n=this._events)===void 0)return this;if((r=n[t])===void 0)return this;if(r===e||r.listener===e)--this._eventsCount==0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,r.listener||e));else if(typeof r!="function"){for(i=-1,s=r.length-1;s>=0;s--)if(r[s]===e||r[s].listener===e){o=r[s].listener,i=s;break}if(i<0)return this;i===0?r.shift():function(a,l){for(;l+1<a.length;l++)a[l]=a[l+1];a.pop()}(r,i),r.length===1&&(n[t]=r[0]),n.removeListener!==void 0&&this.emit("removeListener",t,o||e)}return this},kt.prototype.off=kt.prototype.removeListener,kt.prototype.removeAllListeners=function(t){var e,r,n;if((r=this._events)===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[t]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete r[t]),this;if(arguments.length===0){var i,s=Object.keys(r);for(n=0;n<s.length;++n)(i=s[n])!=="removeListener"&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(e=r[t])=="function")this.removeListener(t,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this},kt.prototype.listeners=function(t){return GS(this,t,!0)},kt.prototype.rawListeners=function(t){return GS(this,t,!1)},kt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):WS.call(t,e)},kt.prototype.listenerCount=WS,kt.prototype.eventNames=function(){return this._eventsCount>0?XS(this._events):[]},Un=VS,Un.EventEmitter,Un.defaultMaxListeners,Un.init,Un.listenerCount,Un.EventEmitter,Un.defaultMaxListeners,Un.init,Un.listenerCount}),dl={};hl(dl,{EventEmitter:()=>fR,default:()=>Un,defaultMaxListeners:()=>pR,init:()=>mR,listenerCount:()=>gR,on:()=>yR,once:()=>vR});var fR,pR,mR,gR,yR,vR,$u=Xr(()=>{Pe(),Ie(),Ce(),qS(),qS(),Un.once=function(t,e){return new Promise((r,n)=>{function i(...o){s!==void 0&&t.removeListener("error",s),r(o)}let s;e!=="error"&&(s=o=>{t.removeListener(name,i),n(o)},t.once("error",s)),t.once(e,i)})},Un.on=function(t,e){let r=[],n=[],i=null,s=!1,o={async next(){let u=r.shift();if(u)return createIterResult(u,!1);if(i){let d=Promise.reject(i);return i=null,d}return s?createIterResult(void 0,!0):new Promise((d,f)=>n.push({resolve:d,reject:f}))},async return(){t.removeListener(e,a),t.removeListener("error",l),s=!0;for(let u of n)u.resolve(createIterResult(void 0,!0));return createIterResult(void 0,!0)},throw(u){i=u,t.removeListener(e,a),t.removeListener("error",l)},[Symbol.asyncIterator](){return this}};return t.on(e,a),t.on("error",l),o;function a(...u){let d=n.shift();d?d.resolve(createIterResult(u,!1)):r.push(u)}function l(u){s=!0;let d=n.shift();d?d.reject(u):i=u,o.return()}},{EventEmitter:fR,defaultMaxListeners:pR,init:mR,listenerCount:gR,on:yR,once:vR}=Un}),gw=Le((t,e)=>{Pe(),Ie(),Ce();var{ArrayIsArray:r,ObjectSetPrototypeOf:n}=Cr(),{EventEmitter:i}=($u(),Nt(dl));function s(a){i.call(this,a)}n(s.prototype,i.prototype),n(s,i),s.prototype.pipe=function(a,l){let u=this;function d(S){a.writable&&a.write(S)===!1&&u.pause&&u.pause()}u.on("data",d);function f(){u.readable&&u.resume&&u.resume()}a.on("drain",f),!a._isStdio&&(!l||l.end!==!1)&&(u.on("end",m),u.on("close",g));let p=!1;function m(){p||(p=!0,a.end())}function g(){p||(p=!0,typeof a.destroy=="function"&&a.destroy())}function v(S){C(),i.listenerCount(this,"error")===0&&this.emit("error",S)}o(u,"error",v),o(a,"error",v);function C(){u.removeListener("data",d),a.removeListener("drain",f),u.removeListener("end",m),u.removeListener("close",g),u.removeListener("error",v),a.removeListener("error",v),u.removeListener("end",C),u.removeListener("close",C),a.removeListener("close",C)}return u.on("end",C),u.on("close",C),a.on("close",C),a.emit("pipe",u),a};function o(a,l,u){if(typeof a.prependListener=="function")return a.prependListener(l,u);!a._events||!a._events[l]?a.on(l,u):r(a._events[l])?a._events[l].unshift(u):a._events[l]=[u,a._events[l]]}e.exports={Stream:s,prependListener:o}}),km=Le((t,e)=>{Pe(),Ie(),Ce();var{AbortError:r,codes:n}=Pn(),{isNodeStream:i,isWebStream:s,kControllerErrorFunction:o}=lo(),a=aa(),{ERR_INVALID_ARG_TYPE:l}=n,u=(d,f)=>{if(typeof d!="object"||!("aborted"in d))throw new l(f,"AbortSignal",d)};e.exports.addAbortSignal=function(d,f){if(u(d,"signal"),!i(f)&&!s(f))throw new l("stream",["ReadableStream","WritableStream","Stream"],f);return e.exports.addAbortSignalNoValidate(d,f)},e.exports.addAbortSignalNoValidate=function(d,f){if(typeof d!="object"||!("aborted"in d))return f;let p=i(f)?()=>{f.destroy(new r(void 0,{cause:d.reason}))}:()=>{f[o](new r(void 0,{cause:d.reason}))};return d.aborted?p():(d.addEventListener("abort",p),a(f,()=>d.removeEventListener("abort",p))),f}}),X3=Le((t,e)=>{Pe(),Ie(),Ce();var{StringPrototypeSlice:r,SymbolIterator:n,TypedArrayPrototypeSet:i,Uint8Array:s}=Cr(),{Buffer:o}=(ln(),Nt(an)),{inspect:a}=to();e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(l){let u={data:l,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length}unshift(l){let u={data:l,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length}shift(){if(this.length===0)return;let l=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,l}clear(){this.head=this.tail=null,this.length=0}join(l){if(this.length===0)return"";let u=this.head,d=""+u.data;for(;(u=u.next)!==null;)d+=l+u.data;return d}concat(l){if(this.length===0)return o.alloc(0);let u=o.allocUnsafe(l>>>0),d=this.head,f=0;for(;d;)i(u,d.data,f),f+=d.data.length,d=d.next;return u}consume(l,u){let d=this.head.data;if(l<d.length){let f=d.slice(0,l);return this.head.data=d.slice(l),f}return l===d.length?this.shift():u?this._getString(l):this._getBuffer(l)}first(){return this.head.data}*[n](){for(let l=this.head;l;l=l.next)yield l.data}_getString(l){let u="",d=this.head,f=0;do{let p=d.data;if(l>p.length)u+=p,l-=p.length;else{l===p.length?(u+=p,++f,d.next?this.head=d.next:this.head=this.tail=null):(u+=r(p,0,l),this.head=d,d.data=r(p,l));break}++f}while((d=d.next)!==null);return this.length-=f,u}_getBuffer(l){let u=o.allocUnsafe(l),d=l,f=this.head,p=0;do{let m=f.data;if(l>m.length)i(u,m,d-l),l-=m.length;else{l===m.length?(i(u,m,d-l),++p,f.next?this.head=f.next:this.head=this.tail=null):(i(u,new s(m.buffer,m.byteOffset,l),d-l),this.head=f,f.data=m.slice(l));break}++p}while((f=f.next)!==null);return this.length-=p,u}[Symbol.for("nodejs.util.inspect.custom")](l,u){return a(this,{...u,depth:0,customInspect:!1})}}}),yw=Le((t,e)=>{Pe(),Ie(),Ce();var{MathFloor:r,NumberIsInteger:n}=Cr(),{ERR_INVALID_ARG_VALUE:i}=Pn().codes;function s(l,u,d){return l.highWaterMark!=null?l.highWaterMark:u?l[d]:null}function o(l){return l?16:16*1024}function a(l,u,d,f){let p=s(u,f,d);if(p!=null){if(!n(p)||p<0){let m=f?`options.${d}`:"options.highWaterMark";throw new i(m,p)}return r(p)}return o(l.objectMode)}e.exports={getHighWaterMark:a,getDefaultHighWaterMark:o}});function YS(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=t.indexOf("=");return r===-1&&(r=e),[r,r===e?0:4-r%4]}function q3(t,e,r){for(var n,i,s=[],o=e;o<r;o+=3)n=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),s.push(Ii[(i=n)>>18&63]+Ii[i>>12&63]+Ii[i>>6&63]+Ii[63&i]);return s.join("")}function zs(t){if(t>2147483647)throw new RangeError('The value "'+t+'" is invalid for option "size"');var e=new Uint8Array(t);return Object.setPrototypeOf(e,Me.prototype),e}function Me(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return X1(t)}return _R(t,e,r)}function _R(t,e,r){if(typeof t=="string")return function(s,o){if(typeof o=="string"&&o!==""||(o="utf8"),!Me.isEncoding(o))throw new TypeError("Unknown encoding: "+o);var a=0|wR(s,o),l=zs(a),u=l.write(s,o);return u!==a&&(l=l.slice(0,u)),l}(t,e);if(ArrayBuffer.isView(t))return W0(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(Hs(t,ArrayBuffer)||t&&Hs(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Hs(t,SharedArrayBuffer)||t&&Hs(t.buffer,SharedArrayBuffer)))return Y3(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var n=t.valueOf&&t.valueOf();if(n!=null&&n!==t)return Me.from(n,e,r);var i=function(s){if(Me.isBuffer(s)){var o=0|vw(s.length),a=zs(o);return a.length===0||s.copy(a,0,0,o),a}if(s.length!==void 0)return typeof s.length!="number"||_w(s.length)?zs(0):W0(s);if(s.type==="Buffer"&&Array.isArray(s.data))return W0(s.data)}(t);if(i)return i;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return Me.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}function bR(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function X1(t){return bR(t),zs(t<0?0:0|vw(t))}function W0(t){for(var e=t.length<0?0:0|vw(t.length),r=zs(e),n=0;n<e;n+=1)r[n]=255&t[n];return r}function Y3(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=e===void 0&&r===void 0?new Uint8Array(t):r===void 0?new Uint8Array(t,e):new Uint8Array(t,e,r),Object.setPrototypeOf(n,Me.prototype),n}function vw(t){if(t>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|t}function wR(t,e){if(Me.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||Hs(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length>2&&arguments[2]===!0;if(!n&&r===0)return 0;for(var i=!1;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return q1(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return TR(t).length;default:if(i)return n?-1:q1(t).length;e=(""+e).toLowerCase(),i=!0}}function K3(t,e,r){var n=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return sD(this,e,r);case"utf8":case"utf-8":return ER(this,e,r);case"ascii":return nD(this,e,r);case"latin1":case"binary":return iD(this,e,r);case"base64":return rD(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oD(this,e,r);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function wa(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function KS(t,e,r,n,i){if(t.length===0)return-1;if(typeof r=="string"?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),_w(r=+r)&&(r=i?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(i)return-1;r=t.length-1}else if(r<0){if(!i)return-1;r=0}if(typeof e=="string"&&(e=Me.from(e,n)),Me.isBuffer(e))return e.length===0?-1:QS(t,e,r,n,i);if(typeof e=="number")return e&=255,typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):QS(t,[e],r,n,i);throw new TypeError("val must be string, number or Buffer")}function QS(t,e,r,n,i){var s,o=1,a=t.length,l=e.length;if(n!==void 0&&((n=String(n).toLowerCase())==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(t.length<2||e.length<2)return-1;o=2,a/=2,l/=2,r/=2}function u(m,g){return o===1?m[g]:m.readUInt16BE(g*o)}if(i){var d=-1;for(s=r;s<a;s++)if(u(t,s)===u(e,d===-1?0:s-d)){if(d===-1&&(d=s),s-d+1===l)return d*o}else d!==-1&&(s-=s-d),d=-1}else for(r+l>a&&(r=a-l),s=r;s>=0;s--){for(var f=!0,p=0;p<l;p++)if(u(t,s+p)!==u(e,p)){f=!1;break}if(f)return s}return-1}function Q3(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=e.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(_w(a))return o;t[r+o]=a}return o}function Z3(t,e,r,n){return Om(q1(e,t.length-r),t,r,n)}function xR(t,e,r,n){return Om(function(i){for(var s=[],o=0;o<i.length;++o)s.push(255&i.charCodeAt(o));return s}(e),t,r,n)}function J3(t,e,r,n){return xR(t,e,r,n)}function eD(t,e,r,n){return Om(TR(e),t,r,n)}function tD(t,e,r,n){return Om(function(i,s){for(var o,a,l,u=[],d=0;d<i.length&&!((s-=2)<0);++d)o=i.charCodeAt(d),a=o>>8,l=o%256,u.push(l),u.push(a);return u}(e,t.length-r),t,r,n)}function rD(t,e,r){return e===0&&r===t.length?jp.fromByteArray(t):jp.fromByteArray(t.slice(e,r))}function ER(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i<r;){var s,o,a,l,u=t[i],d=null,f=u>239?4:u>223?3:u>191?2:1;if(i+f<=r)switch(f){case 1:u<128&&(d=u);break;case 2:(192&(s=t[i+1]))==128&&(l=(31&u)<<6|63&s)>127&&(d=l);break;case 3:s=t[i+1],o=t[i+2],(192&s)==128&&(192&o)==128&&(l=(15&u)<<12|(63&s)<<6|63&o)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:s=t[i+1],o=t[i+2],a=t[i+3],(192&s)==128&&(192&o)==128&&(192&a)==128&&(l=(15&u)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(d=l)}d===null?(d=65533,f=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),i+=f}return function(p){var m=p.length;if(m<=4096)return String.fromCharCode.apply(String,p);for(var g="",v=0;v<m;)g+=String.fromCharCode.apply(String,p.slice(v,v+=4096));return g}(n)}function nD(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(127&t[i]);return n}function iD(t,e,r){var n="";r=Math.min(t.length,r);for(var i=e;i<r;++i)n+=String.fromCharCode(t[i]);return n}function sD(t,e,r){var n=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=e;s<r;++s)i+=CR[t[s]];return i}function oD(t,e,r){for(var n=t.slice(e,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function Mr(t,e,r){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}function xn(t,e,r,n,i,s){if(!Me.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<s)throw new RangeError('"value" argument is out of bounds');if(r+n>t.length)throw new RangeError("Index out of range")}function SR(t,e,r,n,i,s){if(r+n>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function ZS(t,e,r,n,i){return e=+e,r>>>=0,i||SR(t,0,r,4),Fa.write(t,e,r,n,23,4),r+4}function JS(t,e,r,n,i){return e=+e,r>>>=0,i||SR(t,0,r,8),Fa.write(t,e,r,n,52,8),r+8}function q1(t,e){var r;e=e||1/0;for(var n=t.length,i=null,s=[],o=0;o<n;++o){if((r=t.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(e-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(e-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((e-=1)<0)break;s.push(r)}else if(r<2048){if((e-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((e-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function TR(t){return jp.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(AR,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(t))}function Om(t,e,r,n){for(var i=0;i<n&&!(i+r>=e.length||i>=t.length);++i)e[i+r]=t[i];return i}function Hs(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function _w(t){return t!=t}function eT(t,e){for(var r in t)e[r]=t[r]}function xa(t,e,r){return xi(t,e,r)}function _h(t){var e;switch(this.encoding=function(r){var n=function(i){if(!i)return"utf8";for(var s;;)switch(i){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return i;default:if(s)return;i=(""+i).toLowerCase(),s=!0}}(r);if(typeof n!="string"&&($p.isEncoding===Y1||!Y1(r)))throw new Error("Unknown encoding: "+r);return n||r}(t),this.encoding){case"utf16le":this.text=lD,this.end=uD,e=4;break;case"utf8":this.fillLast=aD,e=4;break;case"base64":this.text=hD,this.end=cD,e=3;break;default:return this.write=dD,this.end=fD,void 0}this.lastNeed=0,this.lastTotal=0,this.lastChar=$p.allocUnsafe(e)}function V0(t){return t<=127?0:t>>5==6?2:t>>4==14?3:t>>3==30?4:t>>6==2?-1:-2}function aD(t){var e=this.lastTotal-this.lastNeed,r=function(n,i,s){if((192&i[0])!=128)return n.lastNeed=0,"�";if(n.lastNeed>1&&i.length>1){if((192&i[1])!=128)return n.lastNeed=1,"�";if(n.lastNeed>2&&i.length>2&&(192&i[2])!=128)return n.lastNeed=2,"�"}}(this,t);return r!==void 0?r:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),this.lastNeed-=t.length,void 0)}function lD(t,e){if((t.length-e)%2==0){var r=t.toString("utf16le",e);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function uD(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,r)}return e}function hD(t,e){var r=(t.length-e)%3;return r===0?t.toString("base64",e):(this.lastNeed=3-r,this.lastTotal=3,r===1?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-r))}function cD(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function dD(t){return t.toString(this.encoding)}function fD(t){return t&&t.length?this.write(t):""}var tT,Ii,Dn,rT,ef,Ea,nT,iT,Ki,jp,Fa,X0,AR,CR,bh,wh,xi,sT,ou,$p,Y1,oT=Xr(()=>{for(Pe(),Ie(),Ce(),tT={byteLength:function(t){var e=YS(t),r=e[0],n=e[1];return 3*(r+n)/4-n},toByteArray:function(t){var e,r,n=YS(t),i=n[0],s=n[1],o=new rT(function(u,d,f){return 3*(d+f)/4-f}(0,i,s)),a=0,l=s>0?i-4:i;for(r=0;r<l;r+=4)e=Dn[t.charCodeAt(r)]<<18|Dn[t.charCodeAt(r+1)]<<12|Dn[t.charCodeAt(r+2)]<<6|Dn[t.charCodeAt(r+3)],o[a++]=e>>16&255,o[a++]=e>>8&255,o[a++]=255&e;return s===2&&(e=Dn[t.charCodeAt(r)]<<2|Dn[t.charCodeAt(r+1)]>>4,o[a++]=255&e),s===1&&(e=Dn[t.charCodeAt(r)]<<10|Dn[t.charCodeAt(r+1)]<<4|Dn[t.charCodeAt(r+2)]>>2,o[a++]=e>>8&255,o[a++]=255&e),o},fromByteArray:function(t){for(var e,r=t.length,n=r%3,i=[],s=0,o=r-n;s<o;s+=16383)i.push(q3(t,s,s+16383>o?o:s+16383));return n===1?(e=t[r-1],i.push(Ii[e>>2]+Ii[e<<4&63]+"==")):n===2&&(e=(t[r-2]<<8)+t[r-1],i.push(Ii[e>>10]+Ii[e>>4&63]+Ii[e<<2&63]+"=")),i.join("")}},Ii=[],Dn=[],rT=typeof Uint8Array<"u"?Uint8Array:Array,ef="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ea=0,nT=ef.length;Ea<nT;++Ea)Ii[Ea]=ef[Ea],Dn[ef.charCodeAt(Ea)]=Ea;Dn[45]=62,Dn[95]=63,iT={read:function(t,e,r,n,i){var s,o,a=8*i-n-1,l=(1<<a)-1,u=l>>1,d=-7,f=r?i-1:0,p=r?-1:1,m=t[e+f];for(f+=p,s=m&(1<<-d)-1,m>>=-d,d+=a;d>0;s=256*s+t[e+f],f+=p,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=256*o+t[e+f],f+=p,d-=8);if(s===0)s=1-u;else{if(s===l)return o?NaN:1/0*(m?-1:1);o+=Math.pow(2,n),s-=u}return(m?-1:1)*o*Math.pow(2,s-n)},write:function(t,e,r,n,i,s){var o,a,l,u=8*s-i-1,d=(1<<u)-1,f=d>>1,p=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:s-1,g=n?1:-1,v=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),(e+=o+f>=1?p/l:p*Math.pow(2,1-f))*l>=2&&(o++,l/=2),o+f>=d?(a=0,o=d):o+f>=1?(a=(e*l-1)*Math.pow(2,i),o+=f):(a=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[r+m]=255&a,m+=g,a/=256,i-=8);for(o=o<<i|a,u+=i;u>0;t[r+m]=255&o,m+=g,o/=256,u-=8);t[r+m-g]|=128*v}},Ki={},jp=tT,Fa=iT,X0=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,Ki.Buffer=Me,Ki.SlowBuffer=function(t){return+t!=t&&(t=0),Me.alloc(+t)},Ki.INSPECT_MAX_BYTES=50,Ki.kMaxLength=2147483647,Me.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}(),Me.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Me.prototype,"parent",{enumerable:!0,get:function(){if(Me.isBuffer(this))return this.buffer}}),Object.defineProperty(Me.prototype,"offset",{enumerable:!0,get:function(){if(Me.isBuffer(this))return this.byteOffset}}),Me.poolSize=8192,Me.from=function(t,e,r){return _R(t,e,r)},Object.setPrototypeOf(Me.prototype,Uint8Array.prototype),Object.setPrototypeOf(Me,Uint8Array),Me.alloc=function(t,e,r){return function(n,i,s){return bR(n),n<=0?zs(n):i!==void 0?typeof s=="string"?zs(n).fill(i,s):zs(n).fill(i):zs(n)}(t,e,r)},Me.allocUnsafe=function(t){return X1(t)},Me.allocUnsafeSlow=function(t){return X1(t)},Me.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==Me.prototype},Me.compare=function(t,e){if(Hs(t,Uint8Array)&&(t=Me.from(t,t.offset,t.byteLength)),Hs(e,Uint8Array)&&(e=Me.from(e,e.offset,e.byteLength)),!Me.isBuffer(t)||!Me.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,s=Math.min(r,n);i<s;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r<n?-1:n<r?1:0},Me.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Me.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return Me.alloc(0);var r;if(e===void 0)for(e=0,r=0;r<t.length;++r)e+=t[r].length;var n=Me.allocUnsafe(e),i=0;for(r=0;r<t.length;++r){var s=t[r];if(Hs(s,Uint8Array)&&(s=Me.from(s)),!Me.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},Me.byteLength=wR,Me.prototype._isBuffer=!0,Me.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)wa(this,e,e+1);return this},Me.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)wa(this,e,e+3),wa(this,e+1,e+2);return this},Me.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)wa(this,e,e+7),wa(this,e+1,e+6),wa(this,e+2,e+5),wa(this,e+3,e+4);return this},Me.prototype.toString=function(){var t=this.length;return t===0?"":arguments.length===0?ER(this,0,t):K3.apply(this,arguments)},Me.prototype.toLocaleString=Me.prototype.toString,Me.prototype.equals=function(t){if(!Me.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||Me.compare(this,t)===0},Me.prototype.inspect=function(){var t="",e=Ki.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},X0&&(Me.prototype[X0]=Me.prototype.inspect),Me.prototype.compare=function(t,e,r,n,i){if(Hs(t,Uint8Array)&&(t=Me.from(t,t.offset,t.byteLength)),!Me.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),r===void 0&&(r=t?t.length:0),n===void 0&&(n=0),i===void 0&&(i=this.length),e<0||r>t.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&e>=r)return 0;if(n>=i)return-1;if(e>=r)return 1;if(this===t)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(e>>>=0),a=Math.min(s,o),l=this.slice(n,i),u=t.slice(e,r),d=0;d<a;++d)if(l[d]!==u[d]){s=l[d],o=u[d];break}return s<o?-1:o<s?1:0},Me.prototype.includes=function(t,e,r){return this.indexOf(t,e,r)!==-1},Me.prototype.indexOf=function(t,e,r){return KS(this,t,e,r,!0)},Me.prototype.lastIndexOf=function(t,e,r){return KS(this,t,e,r,!1)},Me.prototype.write=function(t,e,r,n){if(e===void 0)n="utf8",r=this.length,e=0;else if(r===void 0&&typeof e=="string")n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e>>>=0,isFinite(r)?(r>>>=0,n===void 0&&(n="utf8")):(n=r,r=void 0)}var i=this.length-e;if((r===void 0||r>i)&&(r=i),t.length>0&&(r<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return Q3(this,t,e,r);case"utf8":case"utf-8":return Z3(this,t,e,r);case"ascii":return xR(this,t,e,r);case"latin1":case"binary":return J3(this,t,e,r);case"base64":return eD(this,t,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return tD(this,t,e,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},Me.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},Me.prototype.slice=function(t,e){var r=this.length;(t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t);var n=this.subarray(t,e);return Object.setPrototypeOf(n,Me.prototype),n},Me.prototype.readUIntLE=function(t,e,r){t>>>=0,e>>>=0,r||Mr(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n},Me.prototype.readUIntBE=function(t,e,r){t>>>=0,e>>>=0,r||Mr(t,e,this.length);for(var n=this[t+--e],i=1;e>0&&(i*=256);)n+=this[t+--e]*i;return n},Me.prototype.readUInt8=function(t,e){return t>>>=0,e||Mr(t,1,this.length),this[t]},Me.prototype.readUInt16LE=function(t,e){return t>>>=0,e||Mr(t,2,this.length),this[t]|this[t+1]<<8},Me.prototype.readUInt16BE=function(t,e){return t>>>=0,e||Mr(t,2,this.length),this[t]<<8|this[t+1]},Me.prototype.readUInt32LE=function(t,e){return t>>>=0,e||Mr(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},Me.prototype.readUInt32BE=function(t,e){return t>>>=0,e||Mr(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},Me.prototype.readIntLE=function(t,e,r){t>>>=0,e>>>=0,r||Mr(t,e,this.length);for(var n=this[t],i=1,s=0;++s<e&&(i*=256);)n+=this[t+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*e)),n},Me.prototype.readIntBE=function(t,e,r){t>>>=0,e>>>=0,r||Mr(t,e,this.length);for(var n=e,i=1,s=this[t+--n];n>0&&(i*=256);)s+=this[t+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*e)),s},Me.prototype.readInt8=function(t,e){return t>>>=0,e||Mr(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},Me.prototype.readInt16LE=function(t,e){t>>>=0,e||Mr(t,2,this.length);var r=this[t]|this[t+1]<<8;return 32768&r?4294901760|r:r},Me.prototype.readInt16BE=function(t,e){t>>>=0,e||Mr(t,2,this.length);var r=this[t+1]|this[t]<<8;return 32768&r?4294901760|r:r},Me.prototype.readInt32LE=function(t,e){return t>>>=0,e||Mr(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},Me.prototype.readInt32BE=function(t,e){return t>>>=0,e||Mr(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},Me.prototype.readFloatLE=function(t,e){return t>>>=0,e||Mr(t,4,this.length),Fa.read(this,t,!0,23,4)},Me.prototype.readFloatBE=function(t,e){return t>>>=0,e||Mr(t,4,this.length),Fa.read(this,t,!1,23,4)},Me.prototype.readDoubleLE=function(t,e){return t>>>=0,e||Mr(t,8,this.length),Fa.read(this,t,!0,52,8)},Me.prototype.readDoubleBE=function(t,e){return t>>>=0,e||Mr(t,8,this.length),Fa.read(this,t,!1,52,8)},Me.prototype.writeUIntLE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||xn(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[e]=255&t;++s<r&&(i*=256);)this[e+s]=t/i&255;return e+r},Me.prototype.writeUIntBE=function(t,e,r,n){t=+t,e>>>=0,r>>>=0,n||xn(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[e+i]=255&t;--i>=0&&(s*=256);)this[e+i]=t/s&255;return e+r},Me.prototype.writeUInt8=function(t,e,r){return t=+t,e>>>=0,r||xn(this,t,e,1,255,0),this[e]=255&t,e+1},Me.prototype.writeUInt16LE=function(t,e,r){return t=+t,e>>>=0,r||xn(this,t,e,2,65535,0),this[e]=255&t,this[e+1]=t>>>8,e+2},Me.prototype.writeUInt16BE=function(t,e,r){return t=+t,e>>>=0,r||xn(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=255&t,e+2},Me.prototype.writeUInt32LE=function(t,e,r){return t=+t,e>>>=0,r||xn(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t,e+4},Me.prototype.writeUInt32BE=function(t,e,r){return t=+t,e>>>=0,r||xn(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},Me.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);xn(this,t,e,r,i-1,-i)}var s=0,o=1,a=0;for(this[e]=255&t;++s<r&&(o*=256);)t<0&&a===0&&this[e+s-1]!==0&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},Me.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e>>>=0,!n){var i=Math.pow(2,8*r-1);xn(this,t,e,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[e+s]=255&t;--s>=0&&(o*=256);)t<0&&a===0&&this[e+s+1]!==0&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+r},Me.prototype.writeInt8=function(t,e,r){return t=+t,e>>>=0,r||xn(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=255&t,e+1},Me.prototype.writeInt16LE=function(t,e,r){return t=+t,e>>>=0,r||xn(this,t,e,2,32767,-32768),this[e]=255&t,this[e+1]=t>>>8,e+2},Me.prototype.writeInt16BE=function(t,e,r){return t=+t,e>>>=0,r||xn(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=255&t,e+2},Me.prototype.writeInt32LE=function(t,e,r){return t=+t,e>>>=0,r||xn(this,t,e,4,2147483647,-2147483648),this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},Me.prototype.writeInt32BE=function(t,e,r){return t=+t,e>>>=0,r||xn(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t,e+4},Me.prototype.writeFloatLE=function(t,e,r){return ZS(this,t,e,!0,r)},Me.prototype.writeFloatBE=function(t,e,r){return ZS(this,t,e,!1,r)},Me.prototype.writeDoubleLE=function(t,e,r){return JS(this,t,e,!0,r)},Me.prototype.writeDoubleBE=function(t,e,r){return JS(this,t,e,!1,r)},Me.prototype.copy=function(t,e,r,n){if(!Me.isBuffer(t))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||n===0||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<r&&(n=r),n===r||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-r&&(n=t.length-e+r);var i=n-r;if(this===t&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(e,r,n);else if(this===t&&r<e&&e<n)for(var s=i-1;s>=0;--s)t[s+e]=this[s+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return i},Me.prototype.fill=function(t,e,r,n){if(typeof t=="string"){if(typeof e=="string"?(n=e,e=0,r=this.length):typeof r=="string"&&(n=r,r=this.length),n!==void 0&&typeof n!="string")throw new TypeError("encoding must be a string");if(typeof n=="string"&&!Me.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(t.length===1){var i=t.charCodeAt(0);(n==="utf8"&&i<128||n==="latin1")&&(t=i)}}else typeof t=="number"?t&=255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<r)throw new RangeError("Out of range index");if(r<=e)return this;var s;if(e>>>=0,r=r===void 0?this.length:r>>>0,t||(t=0),typeof t=="number")for(s=e;s<r;++s)this[s]=t;else{var o=Me.isBuffer(t)?t:Me.from(t,n),a=o.length;if(a===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(s=0;s<r-e;++s)this[s+e]=o[s%a]}return this},AR=/[^+/0-9A-Za-z-_]/g,CR=function(){for(var t=new Array(256),e=0;e<16;++e)for(var r=16*e,n=0;n<16;++n)t[r+n]="0123456789abcdef"[e]+"0123456789abcdef"[n];return t}(),Ki.Buffer,Ki.INSPECT_MAX_BYTES,Ki.kMaxLength,bh={},wh=Ki,xi=wh.Buffer,xi.from&&xi.alloc&&xi.allocUnsafe&&xi.allocUnsafeSlow?bh=wh:(eT(wh,bh),bh.Buffer=xa),xa.prototype=Object.create(xi.prototype),eT(xi,xa),xa.from=function(t,e,r){if(typeof t=="number")throw new TypeError("Argument must not be a number");return xi(t,e,r)},xa.alloc=function(t,e,r){if(typeof t!="number")throw new TypeError("Argument must be a number");var n=xi(t);return e!==void 0?typeof r=="string"?n.fill(e,r):n.fill(e):n.fill(0),n},xa.allocUnsafe=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return xi(t)},xa.allocUnsafeSlow=function(t){if(typeof t!="number")throw new TypeError("Argument must be a number");return wh.SlowBuffer(t)},sT=bh,ou={},$p=sT.Buffer,Y1=$p.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},ou.StringDecoder=_h,_h.prototype.write=function(t){if(t.length===0)return"";var e,r;if(this.lastNeed){if((e=this.fillLast(t))===void 0)return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<t.length?e?e+this.text(t,r):this.text(t,r):e||""},_h.prototype.end=function(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"�":e},_h.prototype.text=function(t,e){var r=function(i,s,o){var a=s.length-1;if(a<o)return 0;var l=V0(s[a]);return l>=0?(l>0&&(i.lastNeed=l-1),l):--a<o||l===-2?0:(l=V0(s[a]))>=0?(l>0&&(i.lastNeed=l-2),l):--a<o||l===-2?0:(l=V0(s[a]))>=0?(l>0&&(l===2?l=0:i.lastNeed=l-3),l):0}(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=r;var n=t.length-(r-this.lastNeed);return t.copy(this.lastChar,0,n),t.toString("utf8",e,n)},_h.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length},ou.StringDecoder,ou.StringDecoder}),IR={};hl(IR,{StringDecoder:()=>PR,default:()=>ou});var PR,pD=Xr(()=>{Pe(),Ie(),Ce(),oT(),oT(),PR=ou.StringDecoder}),RR=Le((t,e)=>{Pe(),Ie(),Ce();var r=cl(),{PromisePrototypeThen:n,SymbolAsyncIterator:i,SymbolIterator:s}=Cr(),{Buffer:o}=(ln(),Nt(an)),{ERR_INVALID_ARG_TYPE:a,ERR_STREAM_NULL_VALUES:l}=Pn().codes;function u(d,f,p){let m;if(typeof f=="string"||f instanceof o)return new d({objectMode:!0,...p,read(){this.push(f),this.push(null)}});let g;if(f&&f[i])g=!0,m=f[i]();else if(f&&f[s])g=!1,m=f[s]();else throw new a("iterable",["Iterable"],f);let v=new d({objectMode:!0,highWaterMark:1,...p}),C=!1;v._read=function(){C||(C=!0,x())},v._destroy=function(b,I){n(S(b),()=>r.nextTick(I,b),O=>r.nextTick(I,O||b))};async function S(b){let I=b!=null,O=typeof m.throw=="function";if(I&&O){let{value:k,done:R}=await m.throw(b);if(await k,R)return}if(typeof m.return=="function"){let{value:k}=await m.return();await k}}async function x(){for(;;){try{let{value:b,done:I}=g?await m.next():m.next();if(I)v.push(null);else{let O=b&&typeof b.then=="function"?await b:b;if(O===null)throw C=!1,new l;if(v.push(O))continue;C=!1}}catch(b){v.destroy(b)}break}}return v}e.exports=u}),Mm=Le((t,e)=>{Pe(),Ie(),Ce();var r=cl(),{ArrayPrototypeIndexOf:n,NumberIsInteger:i,NumberIsNaN:s,NumberParseInt:o,ObjectDefineProperties:a,ObjectKeys:l,ObjectSetPrototypeOf:u,Promise:d,SafeSet:f,SymbolAsyncIterator:p,Symbol:m}=Cr();e.exports=N,N.ReadableState=te;var{EventEmitter:g}=($u(),Nt(dl)),{Stream:v,prependListener:C}=gw(),{Buffer:S}=(ln(),Nt(an)),{addAbortSignal:x}=km(),b=aa(),I=to().debuglog("stream",_=>{I=_}),O=X3(),k=ju(),{getHighWaterMark:R,getDefaultHighWaterMark:M}=yw(),{aggregateTwoErrors:$,codes:{ERR_INVALID_ARG_TYPE:Y,ERR_METHOD_NOT_IMPLEMENTED:se,ERR_OUT_OF_RANGE:B,ERR_STREAM_PUSH_AFTER_EOF:F,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:K}}=Pn(),{validateObject:Z}=Rm(),de=m("kPaused"),{StringDecoder:oe}=(pD(),Nt(IR)),D=RR();u(N.prototype,v.prototype),u(N,v);var J=()=>{},{errorOrDestroy:W}=k;function te(_,T,j){typeof j!="boolean"&&(j=T instanceof ro()),this.objectMode=!!(_&&_.objectMode),j&&(this.objectMode=this.objectMode||!!(_&&_.readableObjectMode)),this.highWaterMark=_?R(this,_,"readableHighWaterMark",j):M(!1),this.buffer=new O,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[de]=null,this.errorEmitted=!1,this.emitClose=!_||_.emitClose!==!1,this.autoDestroy=!_||_.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=_&&_.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,_&&_.encoding&&(this.decoder=new oe(_.encoding),this.encoding=_.encoding)}function N(_){if(!(this instanceof N))return new N(_);let T=this instanceof ro();this._readableState=new te(_,this,T),_&&(typeof _.read=="function"&&(this._read=_.read),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.construct=="function"&&(this._construct=_.construct),_.signal&&!T&&x(_.signal,this)),v.call(this,_),k.construct(this,()=>{this._readableState.needReadable&&ue(this,this._readableState)})}N.prototype.destroy=k.destroy,N.prototype._undestroy=k.undestroy,N.prototype._destroy=function(_,T){T(_)},N.prototype[g.captureRejectionSymbol]=function(_){this.destroy(_)},N.prototype.push=function(_,T){return ie(this,_,T,!1)},N.prototype.unshift=function(_,T){return ie(this,_,T,!0)};function ie(_,T,j,V){I("readableAddChunk",T);let L=_._readableState,X;if(L.objectMode||(typeof T=="string"?(j=j||L.defaultEncoding,L.encoding!==j&&(V&&L.encoding?T=S.from(T,j).toString(L.encoding):(T=S.from(T,j),j=""))):T instanceof S?j="":v._isUint8Array(T)?(T=v._uint8ArrayToBuffer(T),j=""):T!=null&&(X=new Y("chunk",["string","Buffer","Uint8Array"],T))),X)W(_,X);else if(T===null)L.reading=!1,U(_,L);else if(L.objectMode||T&&T.length>0)if(V)if(L.endEmitted)W(_,new K);else{if(L.destroyed||L.errored)return!1;pe(_,L,T,!0)}else if(L.ended)W(_,new F);else{if(L.destroyed||L.errored)return!1;L.reading=!1,L.decoder&&!j?(T=L.decoder.write(T),L.objectMode||T.length!==0?pe(_,L,T,!1):ue(_,L)):pe(_,L,T,!1)}else V||(L.reading=!1,ue(_,L));return!L.ended&&(L.length<L.highWaterMark||L.length===0)}function pe(_,T,j,V){T.flowing&&T.length===0&&!T.sync&&_.listenerCount("data")>0?(T.multiAwaitDrain?T.awaitDrainWriters.clear():T.awaitDrainWriters=null,T.dataEmitted=!0,_.emit("data",j)):(T.length+=T.objectMode?1:j.length,V?T.buffer.unshift(j):T.buffer.push(j),T.needReadable&&le(_)),ue(_,T)}N.prototype.isPaused=function(){let _=this._readableState;return _[de]===!0||_.flowing===!1},N.prototype.setEncoding=function(_){let T=new oe(_);this._readableState.decoder=T,this._readableState.encoding=this._readableState.decoder.encoding;let j=this._readableState.buffer,V="";for(let L of j)V+=T.write(L);return j.clear(),V!==""&&j.push(V),this._readableState.length=V.length,this};var Be=1073741824;function ge(_){if(_>Be)throw new B("size","<= 1GiB",_);return _--,_|=_>>>1,_|=_>>>2,_|=_>>>4,_|=_>>>8,_|=_>>>16,_++,_}function H(_,T){return _<=0||T.length===0&&T.ended?0:T.objectMode?1:s(_)?T.flowing&&T.length?T.buffer.first().length:T.length:_<=T.length?_:T.ended?T.length:0}N.prototype.read=function(_){I("read",_),_===void 0?_=NaN:i(_)||(_=o(_,10));let T=this._readableState,j=_;if(_>T.highWaterMark&&(T.highWaterMark=ge(_)),_!==0&&(T.emittedReadable=!1),_===0&&T.needReadable&&((T.highWaterMark!==0?T.length>=T.highWaterMark:T.length>0)||T.ended))return I("read: emitReadable",T.length,T.ended),T.length===0&&T.ended?Fe(this):le(this),null;if(_=H(_,T),_===0&&T.ended)return T.length===0&&Fe(this),null;let V=T.needReadable;if(I("need readable",V),(T.length===0||T.length-_<T.highWaterMark)&&(V=!0,I("length less than watermark",V)),T.ended||T.reading||T.destroyed||T.errored||!T.constructed)V=!1,I("reading, ended or constructing",V);else if(V){I("do read"),T.reading=!0,T.sync=!0,T.length===0&&(T.needReadable=!0);try{this._read(T.highWaterMark)}catch(X){W(this,X)}T.sync=!1,T.reading||(_=H(j,T))}let L;return _>0?L=me(_,T):L=null,L===null?(T.needReadable=T.length<=T.highWaterMark,_=0):(T.length-=_,T.multiAwaitDrain?T.awaitDrainWriters.clear():T.awaitDrainWriters=null),T.length===0&&(T.ended||(T.needReadable=!0),j!==_&&T.ended&&Fe(this)),L!==null&&!T.errorEmitted&&!T.closeEmitted&&(T.dataEmitted=!0,this.emit("data",L)),L};function U(_,T){if(I("onEofChunk"),!T.ended){if(T.decoder){let j=T.decoder.end();j&&j.length&&(T.buffer.push(j),T.length+=T.objectMode?1:j.length)}T.ended=!0,T.sync?le(_):(T.needReadable=!1,T.emittedReadable=!0,_e(_))}}function le(_){let T=_._readableState;I("emitReadable",T.needReadable,T.emittedReadable),T.needReadable=!1,T.emittedReadable||(I("emitReadable",T.flowing),T.emittedReadable=!0,r.nextTick(_e,_))}function _e(_){let T=_._readableState;I("emitReadable_",T.destroyed,T.length,T.ended),!T.destroyed&&!T.errored&&(T.length||T.ended)&&(_.emit("readable"),T.emittedReadable=!1),T.needReadable=!T.flowing&&!T.ended&&T.length<=T.highWaterMark,xe(_)}function ue(_,T){!T.readingMore&&T.constructed&&(T.readingMore=!0,r.nextTick(he,_,T))}function he(_,T){for(;!T.reading&&!T.ended&&(T.length<T.highWaterMark||T.flowing&&T.length===0);){let j=T.length;if(I("maybeReadMore read 0"),_.read(0),j===T.length)break}T.readingMore=!1}N.prototype._read=function(_){throw new se("_read()")},N.prototype.pipe=function(_,T){let j=this,V=this._readableState;V.pipes.length===1&&(V.multiAwaitDrain||(V.multiAwaitDrain=!0,V.awaitDrainWriters=new f(V.awaitDrainWriters?[V.awaitDrainWriters]:[]))),V.pipes.push(_),I("pipe count=%d opts=%j",V.pipes.length,T);let L=(!T||T.end!==!1)&&_!==r.stdout&&_!==r.stderr?ce:Yr;V.endEmitted?r.nextTick(L):j.once("end",L),_.on("unpipe",X);function X(or,Qt){I("onunpipe"),or===j&&Qt&&Qt.hasUnpiped===!1&&(Qt.hasUnpiped=!0,Ne())}function ce(){I("onend"),_.end()}let Oe,Se=!1;function Ne(){I("cleanup"),_.removeListener("close",qr),_.removeListener("finish",Ct),Oe&&_.removeListener("drain",Oe),_.removeListener("error",Kt),_.removeListener("unpipe",X),j.removeListener("end",ce),j.removeListener("end",Yr),j.removeListener("data",st),Se=!0,Oe&&V.awaitDrainWriters&&(!_._writableState||_._writableState.needDrain)&&Oe()}function Ve(){Se||(V.pipes.length===1&&V.pipes[0]===_?(I("false write response, pause",0),V.awaitDrainWriters=_,V.multiAwaitDrain=!1):V.pipes.length>1&&V.pipes.includes(_)&&(I("false write response, pause",V.awaitDrainWriters.size),V.awaitDrainWriters.add(_)),j.pause()),Oe||(Oe=ye(j,_),_.on("drain",Oe))}j.on("data",st);function st(or){I("ondata");let Qt=_.write(or);I("dest.write",Qt),Qt===!1&&Ve()}function Kt(or){if(I("onerror",or),Yr(),_.removeListener("error",Kt),_.listenerCount("error")===0){let Qt=_._writableState||_._readableState;Qt&&!Qt.errorEmitted?W(_,or):_.emit("error",or)}}C(_,"error",Kt);function qr(){_.removeListener("finish",Ct),Yr()}_.once("close",qr);function Ct(){I("onfinish"),_.removeListener("close",qr),Yr()}_.once("finish",Ct);function Yr(){I("unpipe"),j.unpipe(_)}return _.emit("pipe",j),_.writableNeedDrain===!0?V.flowing&&Ve():V.flowing||(I("pipe resume"),j.resume()),_};function ye(_,T){return function(){let j=_._readableState;j.awaitDrainWriters===T?(I("pipeOnDrain",1),j.awaitDrainWriters=null):j.multiAwaitDrain&&(I("pipeOnDrain",j.awaitDrainWriters.size),j.awaitDrainWriters.delete(T)),(!j.awaitDrainWriters||j.awaitDrainWriters.size===0)&&_.listenerCount("data")&&_.resume()}}N.prototype.unpipe=function(_){let T=this._readableState,j={hasUnpiped:!1};if(T.pipes.length===0)return this;if(!_){let L=T.pipes;T.pipes=[],this.pause();for(let X=0;X<L.length;X++)L[X].emit("unpipe",this,{hasUnpiped:!1});return this}let V=n(T.pipes,_);return V===-1?this:(T.pipes.splice(V,1),T.pipes.length===0&&this.pause(),_.emit("unpipe",this,j),this)},N.prototype.on=function(_,T){let j=v.prototype.on.call(this,_,T),V=this._readableState;return _==="data"?(V.readableListening=this.listenerCount("readable")>0,V.flowing!==!1&&this.resume()):_==="readable"&&!V.endEmitted&&!V.readableListening&&(V.readableListening=V.needReadable=!0,V.flowing=!1,V.emittedReadable=!1,I("on readable",V.length,V.reading),V.length?le(this):V.reading||r.nextTick(G,this)),j},N.prototype.addListener=N.prototype.on,N.prototype.removeListener=function(_,T){let j=v.prototype.removeListener.call(this,_,T);return _==="readable"&&r.nextTick(Ee,this),j},N.prototype.off=N.prototype.removeListener,N.prototype.removeAllListeners=function(_){let T=v.prototype.removeAllListeners.apply(this,arguments);return(_==="readable"||_===void 0)&&r.nextTick(Ee,this),T};function Ee(_){let T=_._readableState;T.readableListening=_.listenerCount("readable")>0,T.resumeScheduled&&T[de]===!1?T.flowing=!0:_.listenerCount("data")>0?_.resume():T.readableListening||(T.flowing=null)}function G(_){I("readable nexttick read 0"),_.read(0)}N.prototype.resume=function(){let _=this._readableState;return _.flowing||(I("resume"),_.flowing=!_.readableListening,ee(this,_)),_[de]=!1,this};function ee(_,T){T.resumeScheduled||(T.resumeScheduled=!0,r.nextTick(re,_,T))}function re(_,T){I("resume",T.reading),T.reading||_.read(0),T.resumeScheduled=!1,_.emit("resume"),xe(_),T.flowing&&!T.reading&&_.read(0)}N.prototype.pause=function(){return I("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(I("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[de]=!0,this};function xe(_){let T=_._readableState;for(I("flow",T.flowing);T.flowing&&_.read()!==null;);}N.prototype.wrap=function(_){let T=!1;_.on("data",V=>{!this.push(V)&&_.pause&&(T=!0,_.pause())}),_.on("end",()=>{this.push(null)}),_.on("error",V=>{W(this,V)}),_.on("close",()=>{this.destroy()}),_.on("destroy",()=>{this.destroy()}),this._read=()=>{T&&_.resume&&(T=!1,_.resume())};let j=l(_);for(let V=1;V<j.length;V++){let L=j[V];this[L]===void 0&&typeof _[L]=="function"&&(this[L]=_[L].bind(_))}return this},N.prototype[p]=function(){return ve(this)},N.prototype.iterator=function(_){return _!==void 0&&Z(_,"options"),ve(this,_)};function ve(_,T){typeof _.read!="function"&&(_=N.wrap(_,{objectMode:!0}));let j=Q(_,T);return j.stream=_,j}async function*Q(_,T){let j=J;function V(ce){this===_?(j(),j=J):j=ce}_.on("readable",V);let L,X=b(_,{writable:!1},ce=>{L=ce?$(L,ce):null,j(),j=J});try{for(;;){let ce=_.destroyed?null:_.read();if(ce!==null)yield ce;else{if(L)throw L;if(L===null)return;await new d(V)}}}catch(ce){throw L=$(L,ce),L}finally{(L||(T==null?void 0:T.destroyOnReturn)!==!1)&&(L===void 0||_._readableState.autoDestroy)?k.destroyer(_,null):(_.off("readable",V),X())}}a(N.prototype,{readable:{__proto__:null,get(){let _=this._readableState;return!!_&&_.readable!==!1&&!_.destroyed&&!_.errorEmitted&&!_.endEmitted},set(_){this._readableState&&(this._readableState.readable=!!_)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(_){this._readableState&&(this._readableState.flowing=_)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(_){this._readableState&&(this._readableState.destroyed=_)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),a(te.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[de]!==!1},set(_){this[de]=!!_}}}),N._fromList=me;function me(_,T){if(T.length===0)return null;let j;return T.objectMode?j=T.buffer.shift():!_||_>=T.length?(T.decoder?j=T.buffer.join(""):T.buffer.length===1?j=T.buffer.first():j=T.buffer.concat(T.length),T.buffer.clear()):j=T.buffer.consume(_,T.decoder),j}function Fe(_){let T=_._readableState;I("endReadable",T.endEmitted),T.endEmitted||(T.ended=!0,r.nextTick(He,T,_))}function He(_,T){if(I("endReadableNT",_.endEmitted,_.length),!_.errored&&!_.closeEmitted&&!_.endEmitted&&_.length===0){if(_.endEmitted=!0,T.emit("end"),T.writable&&T.allowHalfOpen===!1)r.nextTick(Qe,T);else if(_.autoDestroy){let j=T._writableState;(!j||j.autoDestroy&&(j.finished||j.writable===!1))&&T.destroy()}}}function Qe(_){_.writable&&!_.writableEnded&&!_.destroyed&&_.end()}N.from=function(_,T){return D(N,_,T)};var ft;function E(){return ft===void 0&&(ft={}),ft}N.fromWeb=function(_,T){return E().newStreamReadableFromReadableStream(_,T)},N.toWeb=function(_,T){return E().newReadableStreamFromStreamReadable(_,T)},N.wrap=function(_,T){var j,V;return new N({objectMode:(j=(V=_.readableObjectMode)!==null&&V!==void 0?V:_.objectMode)!==null&&j!==void 0?j:!0,...T,destroy(L,X){k.destroyer(_,L),X(L)}}).wrap(_)}}),kR=Le((t,e)=>{Pe(),Ie(),Ce();var r=cl(),{ArrayPrototypeSlice:n,Error:i,FunctionPrototypeSymbolHasInstance:s,ObjectDefineProperty:o,ObjectDefineProperties:a,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:u,Symbol:d,SymbolHasInstance:f}=Cr();e.exports=oe,oe.WritableState=Z;var{EventEmitter:p}=($u(),Nt(dl)),m=gw().Stream,{Buffer:g}=(ln(),Nt(an)),v=ju(),{addAbortSignal:C}=km(),{getHighWaterMark:S,getDefaultHighWaterMark:x}=yw(),{ERR_INVALID_ARG_TYPE:b,ERR_METHOD_NOT_IMPLEMENTED:I,ERR_MULTIPLE_CALLBACK:O,ERR_STREAM_CANNOT_PIPE:k,ERR_STREAM_DESTROYED:R,ERR_STREAM_ALREADY_FINISHED:M,ERR_STREAM_NULL_VALUES:$,ERR_STREAM_WRITE_AFTER_END:Y,ERR_UNKNOWN_ENCODING:se}=Pn().codes,{errorOrDestroy:B}=v;l(oe.prototype,m.prototype),l(oe,m);function F(){}var K=d("kOnFinished");function Z(G,ee,re){typeof re!="boolean"&&(re=ee instanceof ro()),this.objectMode=!!(G&&G.objectMode),re&&(this.objectMode=this.objectMode||!!(G&&G.writableObjectMode)),this.highWaterMark=G?S(this,G,"writableHighWaterMark",re):x(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;let xe=!!(G&&G.decodeStrings===!1);this.decodeStrings=!xe,this.defaultEncoding=G&&G.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=N.bind(void 0,ee),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,de(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!G||G.emitClose!==!1,this.autoDestroy=!G||G.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[K]=[]}function de(G){G.buffered=[],G.bufferedIndex=0,G.allBuffers=!0,G.allNoop=!0}Z.prototype.getBuffer=function(){return n(this.buffered,this.bufferedIndex)},o(Z.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function oe(G){let ee=this instanceof ro();if(!ee&&!s(oe,this))return new oe(G);this._writableState=new Z(G,this,ee),G&&(typeof G.write=="function"&&(this._write=G.write),typeof G.writev=="function"&&(this._writev=G.writev),typeof G.destroy=="function"&&(this._destroy=G.destroy),typeof G.final=="function"&&(this._final=G.final),typeof G.construct=="function"&&(this._construct=G.construct),G.signal&&C(G.signal,this)),m.call(this,G),v.construct(this,()=>{let re=this._writableState;re.writing||ge(this,re),_e(this,re)})}o(oe,f,{__proto__:null,value:function(G){return s(this,G)?!0:this!==oe?!1:G&&G._writableState instanceof Z}}),oe.prototype.pipe=function(){B(this,new k)};function D(G,ee,re,xe){let ve=G._writableState;if(typeof re=="function")xe=re,re=ve.defaultEncoding;else{if(!re)re=ve.defaultEncoding;else if(re!=="buffer"&&!g.isEncoding(re))throw new se(re);typeof xe!="function"&&(xe=F)}if(ee===null)throw new $;if(!ve.objectMode)if(typeof ee=="string")ve.decodeStrings!==!1&&(ee=g.from(ee,re),re="buffer");else if(ee instanceof g)re="buffer";else if(m._isUint8Array(ee))ee=m._uint8ArrayToBuffer(ee),re="buffer";else throw new b("chunk",["string","Buffer","Uint8Array"],ee);let Q;return ve.ending?Q=new Y:ve.destroyed&&(Q=new R("write")),Q?(r.nextTick(xe,Q),B(G,Q,!0),Q):(ve.pendingcb++,J(G,ve,ee,re,xe))}oe.prototype.write=function(G,ee,re){return D(this,G,ee,re)===!0},oe.prototype.cork=function(){this._writableState.corked++},oe.prototype.uncork=function(){let G=this._writableState;G.corked&&(G.corked--,G.writing||ge(this,G))},oe.prototype.setDefaultEncoding=function(G){if(typeof G=="string"&&(G=u(G)),!g.isEncoding(G))throw new se(G);return this._writableState.defaultEncoding=G,this};function J(G,ee,re,xe,ve){let Q=ee.objectMode?1:re.length;ee.length+=Q;let me=ee.length<ee.highWaterMark;return me||(ee.needDrain=!0),ee.writing||ee.corked||ee.errored||!ee.constructed?(ee.buffered.push({chunk:re,encoding:xe,callback:ve}),ee.allBuffers&&xe!=="buffer"&&(ee.allBuffers=!1),ee.allNoop&&ve!==F&&(ee.allNoop=!1)):(ee.writelen=Q,ee.writecb=ve,ee.writing=!0,ee.sync=!0,G._write(re,xe,ee.onwrite),ee.sync=!1),me&&!ee.errored&&!ee.destroyed}function W(G,ee,re,xe,ve,Q,me){ee.writelen=xe,ee.writecb=me,ee.writing=!0,ee.sync=!0,ee.destroyed?ee.onwrite(new R("write")):re?G._writev(ve,ee.onwrite):G._write(ve,Q,ee.onwrite),ee.sync=!1}function te(G,ee,re,xe){--ee.pendingcb,xe(re),Be(ee),B(G,re)}function N(G,ee){let re=G._writableState,xe=re.sync,ve=re.writecb;if(typeof ve!="function"){B(G,new O);return}re.writing=!1,re.writecb=null,re.length-=re.writelen,re.writelen=0,ee?(ee.stack,re.errored||(re.errored=ee),G._readableState&&!G._readableState.errored&&(G._readableState.errored=ee),xe?r.nextTick(te,G,re,ee,ve):te(G,re,ee,ve)):(re.buffered.length>re.bufferedIndex&&ge(G,re),xe?re.afterWriteTickInfo!==null&&re.afterWriteTickInfo.cb===ve?re.afterWriteTickInfo.count++:(re.afterWriteTickInfo={count:1,cb:ve,stream:G,state:re},r.nextTick(ie,re.afterWriteTickInfo)):pe(G,re,1,ve))}function ie({stream:G,state:ee,count:re,cb:xe}){return ee.afterWriteTickInfo=null,pe(G,ee,re,xe)}function pe(G,ee,re,xe){for(!ee.ending&&!G.destroyed&&ee.length===0&&ee.needDrain&&(ee.needDrain=!1,G.emit("drain"));re-- >0;)ee.pendingcb--,xe();ee.destroyed&&Be(ee),_e(G,ee)}function Be(G){if(G.writing)return;for(let ve=G.bufferedIndex;ve<G.buffered.length;++ve){var ee;let{chunk:Q,callback:me}=G.buffered[ve],Fe=G.objectMode?1:Q.length;G.length-=Fe,me((ee=G.errored)!==null&&ee!==void 0?ee:new R("write"))}let re=G[K].splice(0);for(let ve=0;ve<re.length;ve++){var xe;re[ve]((xe=G.errored)!==null&&xe!==void 0?xe:new R("end"))}de(G)}function ge(G,ee){if(ee.corked||ee.bufferProcessing||ee.destroyed||!ee.constructed)return;let{buffered:re,bufferedIndex:xe,objectMode:ve}=ee,Q=re.length-xe;if(!Q)return;let me=xe;if(ee.bufferProcessing=!0,Q>1&&G._writev){ee.pendingcb-=Q-1;let Fe=ee.allNoop?F:Qe=>{for(let ft=me;ft<re.length;++ft)re[ft].callback(Qe)},He=ee.allNoop&&me===0?re:n(re,me);He.allBuffers=ee.allBuffers,W(G,ee,!0,ee.length,He,"",Fe),de(ee)}else{do{let{chunk:Fe,encoding:He,callback:Qe}=re[me];re[me++]=null;let ft=ve?1:Fe.length;W(G,ee,!1,ft,Fe,He,Qe)}while(me<re.length&&!ee.writing);me===re.length?de(ee):me>256?(re.splice(0,me),ee.bufferedIndex=0):ee.bufferedIndex=me}ee.bufferProcessing=!1}oe.prototype._write=function(G,ee,re){if(this._writev)this._writev([{chunk:G,encoding:ee}],re);else throw new I("_write()")},oe.prototype._writev=null,oe.prototype.end=function(G,ee,re){let xe=this._writableState;typeof G=="function"?(re=G,G=null,ee=null):typeof ee=="function"&&(re=ee,ee=null);let ve;if(G!=null){let Q=D(this,G,ee);Q instanceof i&&(ve=Q)}return xe.corked&&(xe.corked=1,this.uncork()),ve||(!xe.errored&&!xe.ending?(xe.ending=!0,_e(this,xe,!0),xe.ended=!0):xe.finished?ve=new M("end"):xe.destroyed&&(ve=new R("end"))),typeof re=="function"&&(ve||xe.finished?r.nextTick(re,ve):xe[K].push(re)),this};function H(G){return G.ending&&!G.destroyed&&G.constructed&&G.length===0&&!G.errored&&G.buffered.length===0&&!G.finished&&!G.writing&&!G.errorEmitted&&!G.closeEmitted}function U(G,ee){let re=!1;function xe(ve){if(re){B(G,ve??O());return}if(re=!0,ee.pendingcb--,ve){let Q=ee[K].splice(0);for(let me=0;me<Q.length;me++)Q[me](ve);B(G,ve,ee.sync)}else H(ee)&&(ee.prefinished=!0,G.emit("prefinish"),ee.pendingcb++,r.nextTick(ue,G,ee))}ee.sync=!0,ee.pendingcb++;try{G._final(xe)}catch(ve){xe(ve)}ee.sync=!1}function le(G,ee){!ee.prefinished&&!ee.finalCalled&&(typeof G._final=="function"&&!ee.destroyed?(ee.finalCalled=!0,U(G,ee)):(ee.prefinished=!0,G.emit("prefinish")))}function _e(G,ee,re){H(ee)&&(le(G,ee),ee.pendingcb===0&&(re?(ee.pendingcb++,r.nextTick((xe,ve)=>{H(ve)?ue(xe,ve):ve.pendingcb--},G,ee)):H(ee)&&(ee.pendingcb++,ue(G,ee))))}function ue(G,ee){ee.pendingcb--,ee.finished=!0;let re=ee[K].splice(0);for(let xe=0;xe<re.length;xe++)re[xe]();if(G.emit("finish"),ee.autoDestroy){let xe=G._readableState;(!xe||xe.autoDestroy&&(xe.endEmitted||xe.readable===!1))&&G.destroy()}}a(oe.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(G){this._writableState&&(this._writableState.destroyed=G)}},writable:{__proto__:null,get(){let G=this._writableState;return!!G&&G.writable!==!1&&!G.destroyed&&!G.errored&&!G.ending&&!G.ended},set(G){this._writableState&&(this._writableState.writable=!!G)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){let G=this._writableState;return G?!G.destroyed&&!G.ending&&G.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});var he=v.destroy;oe.prototype.destroy=function(G,ee){let re=this._writableState;return!re.destroyed&&(re.bufferedIndex<re.buffered.length||re[K].length)&&r.nextTick(Be,re),he.call(this,G,ee),this},oe.prototype._undestroy=v.undestroy,oe.prototype._destroy=function(G,ee){ee(G)},oe.prototype[p.captureRejectionSymbol]=function(G){this.destroy(G)};var ye;function Ee(){return ye===void 0&&(ye={}),ye}oe.fromWeb=function(G,ee){return Ee().newStreamWritableFromWritableStream(G,ee)},oe.toWeb=function(G){return Ee().newWritableStreamFromStreamWritable(G)}}),mD=Le((t,e)=>{Pe(),Ie(),Ce();var r=cl(),n=(ln(),Nt(an)),{isReadable:i,isWritable:s,isIterable:o,isNodeStream:a,isReadableNodeStream:l,isWritableNodeStream:u,isDuplexNodeStream:d}=lo(),f=aa(),{AbortError:p,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:g}}=Pn(),{destroyer:v}=ju(),C=ro(),S=Mm(),{createDeferredPromise:x}=to(),b=RR(),I=globalThis.Blob||n.Blob,O=typeof I<"u"?function(se){return se instanceof I}:function(se){return!1},k=globalThis.AbortController||mw().AbortController,{FunctionPrototypeCall:R}=Cr(),M=class extends C{constructor(se){super(se),(se==null?void 0:se.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(se==null?void 0:se.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}};e.exports=function se(B,F){if(d(B))return B;if(l(B))return Y({readable:B});if(u(B))return Y({writable:B});if(a(B))return Y({writable:!1,readable:!1});if(typeof B=="function"){let{value:Z,write:de,final:oe,destroy:D}=$(B);if(o(Z))return b(M,Z,{objectMode:!0,write:de,final:oe,destroy:D});let J=Z==null?void 0:Z.then;if(typeof J=="function"){let W,te=R(J,Z,N=>{if(N!=null)throw new g("nully","body",N)},N=>{v(W,N)});return W=new M({objectMode:!0,readable:!1,write:de,final(N){oe(async()=>{try{await te,r.nextTick(N,null)}catch(ie){r.nextTick(N,ie)}})},destroy:D})}throw new g("Iterable, AsyncIterable or AsyncFunction",F,Z)}if(O(B))return se(B.arrayBuffer());if(o(B))return b(M,B,{objectMode:!0,writable:!1});if(typeof(B==null?void 0:B.writable)=="object"||typeof(B==null?void 0:B.readable)=="object"){let Z=B!=null&&B.readable?l(B==null?void 0:B.readable)?B==null?void 0:B.readable:se(B.readable):void 0,de=B!=null&&B.writable?u(B==null?void 0:B.writable)?B==null?void 0:B.writable:se(B.writable):void 0;return Y({readable:Z,writable:de})}let K=B==null?void 0:B.then;if(typeof K=="function"){let Z;return R(K,B,de=>{de!=null&&Z.push(de),Z.push(null)},de=>{v(Z,de)}),Z=new M({objectMode:!0,writable:!1,read(){}})}throw new m(F,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],B)};function $(se){let{promise:B,resolve:F}=x(),K=new k,Z=K.signal;return{value:se(async function*(){for(;;){let de=B;B=null;let{chunk:oe,done:D,cb:J}=await de;if(r.nextTick(J),D)return;if(Z.aborted)throw new p(void 0,{cause:Z.reason});({promise:B,resolve:F}=x()),yield oe}}(),{signal:Z}),write(de,oe,D){let J=F;F=null,J({chunk:de,done:!1,cb:D})},final(de){let oe=F;F=null,oe({done:!0,cb:de})},destroy(de,oe){K.abort(),oe(de)}}}function Y(se){let B=se.readable&&typeof se.readable.read!="function"?S.wrap(se.readable):se.readable,F=se.writable,K=!!i(B),Z=!!s(F),de,oe,D,J,W;function te(N){let ie=J;J=null,ie?ie(N):N&&W.destroy(N)}return W=new M({readableObjectMode:!!(B!=null&&B.readableObjectMode),writableObjectMode:!!(F!=null&&F.writableObjectMode),readable:K,writable:Z}),Z&&(f(F,N=>{Z=!1,N&&v(B,N),te(N)}),W._write=function(N,ie,pe){F.write(N,ie)?pe():de=pe},W._final=function(N){F.end(),oe=N},F.on("drain",function(){if(de){let N=de;de=null,N()}}),F.on("finish",function(){if(oe){let N=oe;oe=null,N()}})),K&&(f(B,N=>{K=!1,N&&v(B,N),te(N)}),B.on("readable",function(){if(D){let N=D;D=null,N()}}),B.on("end",function(){W.push(null)}),W._read=function(){for(;;){let N=B.read();if(N===null){D=W._read;return}if(!W.push(N))return}}),W._destroy=function(N,ie){!N&&J!==null&&(N=new p),D=null,de=null,oe=null,J===null?ie(N):(J=ie,v(F,N),v(B,N))},W}}),ro=Le((t,e)=>{Pe(),Ie(),Ce();var{ObjectDefineProperties:r,ObjectGetOwnPropertyDescriptor:n,ObjectKeys:i,ObjectSetPrototypeOf:s}=Cr();e.exports=l;var o=Mm(),a=kR();s(l.prototype,o.prototype),s(l,o);{let p=i(a.prototype);for(let m=0;m<p.length;m++){let g=p[m];l.prototype[g]||(l.prototype[g]=a.prototype[g])}}function l(p){if(!(this instanceof l))return new l(p);o.call(this,p),a.call(this,p),p?(this.allowHalfOpen=p.allowHalfOpen!==!1,p.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),p.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}r(l.prototype,{writable:{__proto__:null,...n(a.prototype,"writable")},writableHighWaterMark:{__proto__:null,...n(a.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...n(a.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...n(a.prototype,"writableBuffer")},writableLength:{__proto__:null,...n(a.prototype,"writableLength")},writableFinished:{__proto__:null,...n(a.prototype,"writableFinished")},writableCorked:{__proto__:null,...n(a.prototype,"writableCorked")},writableEnded:{__proto__:null,...n(a.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...n(a.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(p){this._readableState&&this._writableState&&(this._readableState.destroyed=p,this._writableState.destroyed=p)}}});var u;function d(){return u===void 0&&(u={}),u}l.fromWeb=function(p,m){return d().newStreamDuplexFromReadableWritablePair(p,m)},l.toWeb=function(p){return d().newReadableWritablePairFromDuplex(p)};var f;l.from=function(p){return f||(f=mD()),f(p,"body")}}),OR=Le((t,e)=>{Pe(),Ie(),Ce();var{ObjectSetPrototypeOf:r,Symbol:n}=Cr();e.exports=l;var{ERR_METHOD_NOT_IMPLEMENTED:i}=Pn().codes,s=ro(),{getHighWaterMark:o}=yw();r(l.prototype,s.prototype),r(l,s);var a=n("kCallback");function l(f){if(!(this instanceof l))return new l(f);let p=f?o(this,f,"readableHighWaterMark",!0):null;p===0&&(f={...f,highWaterMark:null,readableHighWaterMark:p,writableHighWaterMark:f.writableHighWaterMark||0}),s.call(this,f),this._readableState.sync=!1,this[a]=null,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",d)}function u(f){typeof this._flush=="function"&&!this.destroyed?this._flush((p,m)=>{if(p){f?f(p):this.destroy(p);return}m!=null&&this.push(m),this.push(null),f&&f()}):(this.push(null),f&&f())}function d(){this._final!==u&&u.call(this)}l.prototype._final=u,l.prototype._transform=function(f,p,m){throw new i("_transform()")},l.prototype._write=function(f,p,m){let g=this._readableState,v=this._writableState,C=g.length;this._transform(f,p,(S,x)=>{if(S){m(S);return}x!=null&&this.push(x),v.ended||C===g.length||g.length<g.highWaterMark?m():this[a]=m})},l.prototype._read=function(){if(this[a]){let f=this[a];this[a]=null,f()}}}),MR=Le((t,e)=>{Pe(),Ie(),Ce();var{ObjectSetPrototypeOf:r}=Cr();e.exports=i;var n=OR();r(i.prototype,n.prototype),r(i,n);function i(s){if(!(this instanceof i))return new i(s);n.call(this,s)}i.prototype._transform=function(s,o,a){a(null,s)}}),bw=Le((t,e)=>{Pe(),Ie(),Ce();var r=cl(),{ArrayIsArray:n,Promise:i,SymbolAsyncIterator:s}=Cr(),o=aa(),{once:a}=to(),l=ju(),u=ro(),{aggregateTwoErrors:d,codes:{ERR_INVALID_ARG_TYPE:f,ERR_INVALID_RETURN_VALUE:p,ERR_MISSING_ARGS:m,ERR_STREAM_DESTROYED:g,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:C}=Pn(),{validateFunction:S,validateAbortSignal:x}=Rm(),{isIterable:b,isReadable:I,isReadableNodeStream:O,isNodeStream:k,isTransformStream:R,isWebStream:M,isReadableStream:$,isReadableEnded:Y}=lo(),se=globalThis.AbortController||mw().AbortController,B,F;function K(ie,pe,Be){let ge=!1;ie.on("close",()=>{ge=!0});let H=o(ie,{readable:pe,writable:Be},U=>{ge=!U});return{destroy:U=>{ge||(ge=!0,l.destroyer(ie,U||new g("pipe")))},cleanup:H}}function Z(ie){return S(ie[ie.length-1],"streams[stream.length - 1]"),ie.pop()}function de(ie){if(b(ie))return ie;if(O(ie))return oe(ie);throw new f("val",["Readable","Iterable","AsyncIterable"],ie)}async function*oe(ie){F||(F=Mm()),yield*F.prototype[s].call(ie)}async function D(ie,pe,Be,{end:ge}){let H,U=null,le=he=>{if(he&&(H=he),U){let ye=U;U=null,ye()}},_e=()=>new i((he,ye)=>{H?ye(H):U=()=>{H?ye(H):he()}});pe.on("drain",le);let ue=o(pe,{readable:!1},le);try{pe.writableNeedDrain&&await _e();for await(let he of ie)pe.write(he)||await _e();ge&&pe.end(),await _e(),Be()}catch(he){Be(H!==he?d(H,he):he)}finally{ue(),pe.off("drain",le)}}async function J(ie,pe,Be,{end:ge}){R(pe)&&(pe=pe.writable);let H=pe.getWriter();try{for await(let U of ie)await H.ready,H.write(U).catch(()=>{});await H.ready,ge&&await H.close(),Be()}catch(U){try{await H.abort(U),Be(U)}catch(le){Be(le)}}}function W(...ie){return te(ie,a(Z(ie)))}function te(ie,pe,Be){if(ie.length===1&&n(ie[0])&&(ie=ie[0]),ie.length<2)throw new m("streams");let ge=new se,H=ge.signal,U=Be==null?void 0:Be.signal,le=[];x(U,"options.signal");function _e(){ee(new C)}U==null||U.addEventListener("abort",_e);let ue,he,ye=[],Ee=0;function G(Q){ee(Q,--Ee===0)}function ee(Q,me){if(Q&&(!ue||ue.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ue=Q),!(!ue&&!me)){for(;ye.length;)ye.shift()(ue);U==null||U.removeEventListener("abort",_e),ge.abort(),me&&(ue||le.forEach(Fe=>Fe()),r.nextTick(pe,ue,he))}}let re;for(let Q=0;Q<ie.length;Q++){let me=ie[Q],Fe=Q<ie.length-1,He=Q>0,Qe=Fe||(Be==null?void 0:Be.end)!==!1,ft=Q===ie.length-1;if(k(me)){let E=function(_){_&&_.name!=="AbortError"&&_.code!=="ERR_STREAM_PREMATURE_CLOSE"&&G(_)};if(Qe){let{destroy:_,cleanup:T}=K(me,Fe,He);ye.push(_),I(me)&&ft&&le.push(T)}me.on("error",E),I(me)&&ft&&le.push(()=>{me.removeListener("error",E)})}if(Q===0)if(typeof me=="function"){if(re=me({signal:H}),!b(re))throw new p("Iterable, AsyncIterable or Stream","source",re)}else b(me)||O(me)||R(me)?re=me:re=u.from(me);else if(typeof me=="function"){if(R(re)){var xe;re=de((xe=re)===null||xe===void 0?void 0:xe.readable)}else re=de(re);if(re=me(re,{signal:H}),Fe){if(!b(re,!0))throw new p("AsyncIterable",`transform[${Q-1}]`,re)}else{var ve;B||(B=MR());let E=new B({objectMode:!0}),_=(ve=re)===null||ve===void 0?void 0:ve.then;if(typeof _=="function")Ee++,_.call(re,V=>{he=V,V!=null&&E.write(V),Qe&&E.end(),r.nextTick(G)},V=>{E.destroy(V),r.nextTick(G,V)});else if(b(re,!0))Ee++,D(re,E,G,{end:Qe});else if($(re)||R(re)){let V=re.readable||re;Ee++,D(V,E,G,{end:Qe})}else throw new p("AsyncIterable or Promise","destination",re);re=E;let{destroy:T,cleanup:j}=K(re,!1,!0);ye.push(T),ft&&le.push(j)}}else if(k(me)){if(O(re)){Ee+=2;let E=N(re,me,G,{end:Qe});I(me)&&ft&&le.push(E)}else if(R(re)||$(re)){let E=re.readable||re;Ee++,D(E,me,G,{end:Qe})}else if(b(re))Ee++,D(re,me,G,{end:Qe});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],re);re=me}else if(M(me)){if(O(re))Ee++,J(de(re),me,G,{end:Qe});else if($(re)||b(re))Ee++,J(re,me,G,{end:Qe});else if(R(re))Ee++,J(re.readable,me,G,{end:Qe});else throw new f("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],re);re=me}else re=u.from(me)}return(H!=null&&H.aborted||U!=null&&U.aborted)&&r.nextTick(_e),re}function N(ie,pe,Be,{end:ge}){let H=!1;if(pe.on("close",()=>{H||Be(new v)}),ie.pipe(pe,{end:!1}),ge){let U=function(){H=!0,pe.end()};Y(ie)?r.nextTick(U):ie.once("end",U)}else Be();return o(ie,{readable:!0,writable:!1},U=>{let le=ie._readableState;U&&U.code==="ERR_STREAM_PREMATURE_CLOSE"&&le&&le.ended&&!le.errored&&!le.errorEmitted?ie.once("end",Be).once("error",Be):Be(U)}),o(pe,{readable:!1,writable:!0},Be)}e.exports={pipelineImpl:te,pipeline:W}}),BR=Le((t,e)=>{Pe(),Ie(),Ce();var{pipeline:r}=bw(),n=ro(),{destroyer:i}=ju(),{isNodeStream:s,isReadable:o,isWritable:a,isWebStream:l,isTransformStream:u,isWritableStream:d,isReadableStream:f}=lo(),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:m,ERR_MISSING_ARGS:g}}=Pn(),v=aa();e.exports=function(...C){if(C.length===0)throw new g("streams");if(C.length===1)return n.from(C[0]);let S=[...C];if(typeof C[0]=="function"&&(C[0]=n.from(C[0])),typeof C[C.length-1]=="function"){let B=C.length-1;C[B]=n.from(C[B])}for(let B=0;B<C.length;++B)if(!(!s(C[B])&&!l(C[B]))){if(B<C.length-1&&!(o(C[B])||f(C[B])||u(C[B])))throw new m(`streams[${B}]`,S[B],"must be readable");if(B>0&&!(a(C[B])||d(C[B])||u(C[B])))throw new m(`streams[${B}]`,S[B],"must be writable")}let x,b,I,O,k;function R(B){let F=O;O=null,F?F(B):B?k.destroy(B):!se&&!Y&&k.destroy()}let M=C[0],$=r(C,R),Y=!!(a(M)||d(M)||u(M)),se=!!(o($)||f($)||u($));if(k=new n({writableObjectMode:!!(M!=null&&M.writableObjectMode),readableObjectMode:!!($!=null&&$.writableObjectMode),writable:Y,readable:se}),Y){if(s(M))k._write=function(F,K,Z){M.write(F,K)?Z():x=Z},k._final=function(F){M.end(),b=F},M.on("drain",function(){if(x){let F=x;x=null,F()}});else if(l(M)){let F=(u(M)?M.writable:M).getWriter();k._write=async function(K,Z,de){try{await F.ready,F.write(K).catch(()=>{}),de()}catch(oe){de(oe)}},k._final=async function(K){try{await F.ready,F.close().catch(()=>{}),b=K}catch(Z){K(Z)}}}let B=u($)?$.readable:$;v(B,()=>{if(b){let F=b;b=null,F()}})}if(se){if(s($))$.on("readable",function(){if(I){let B=I;I=null,B()}}),$.on("end",function(){k.push(null)}),k._read=function(){for(;;){let B=$.read();if(B===null){I=k._read;return}if(!k.push(B))return}};else if(l($)){let B=(u($)?$.readable:$).getReader();k._read=async function(){for(;;)try{let{value:F,done:K}=await B.read();if(!k.push(F))return;if(K){k.push(null);return}}catch{return}}}}return k._destroy=function(B,F){!B&&O!==null&&(B=new p),I=null,x=null,b=null,O===null?F(B):(O=F,s($)&&i($,B))},k}}),gD=Le((t,e)=>{Pe(),Ie(),Ce();var r=globalThis.AbortController||mw().AbortController,{codes:{ERR_INVALID_ARG_VALUE:n,ERR_INVALID_ARG_TYPE:i,ERR_MISSING_ARGS:s,ERR_OUT_OF_RANGE:o},AbortError:a}=Pn(),{validateAbortSignal:l,validateInteger:u,validateObject:d}=Rm(),f=Cr().Symbol("kWeak"),{finished:p}=aa(),m=BR(),{addAbortSignalNoValidate:g}=km(),{isWritable:v,isNodeStream:C}=lo(),{ArrayPrototypePush:S,MathFloor:x,Number:b,NumberIsNaN:I,Promise:O,PromiseReject:k,PromisePrototypeThen:R,Symbol:M}=Cr(),$=M("kEmpty"),Y=M("kEof");function se(ge,H){if(H!=null&&d(H,"options"),(H==null?void 0:H.signal)!=null&&l(H.signal,"options.signal"),C(ge)&&!v(ge))throw new n("stream",ge,"must be writable");let U=m(this,ge);return H!=null&&H.signal&&g(H.signal,U),U}function B(ge,H){if(typeof ge!="function")throw new i("fn",["Function","AsyncFunction"],ge);H!=null&&d(H,"options"),(H==null?void 0:H.signal)!=null&&l(H.signal,"options.signal");let U=1;return(H==null?void 0:H.concurrency)!=null&&(U=x(H.concurrency)),u(U,"concurrency",1),(async function*(){var le,_e;let ue=new r,he=this,ye=[],Ee=ue.signal,G={signal:Ee},ee=()=>ue.abort();H!=null&&(le=H.signal)!==null&&le!==void 0&&le.aborted&&ee(),H==null||(_e=H.signal)===null||_e===void 0||_e.addEventListener("abort",ee);let re,xe,ve=!1;function Q(){ve=!0}async function me(){try{for await(let Qe of he){var Fe;if(ve)return;if(Ee.aborted)throw new a;try{Qe=ge(Qe,G)}catch(ft){Qe=k(ft)}Qe!==$&&(typeof((Fe=Qe)===null||Fe===void 0?void 0:Fe.catch)=="function"&&Qe.catch(Q),ye.push(Qe),re&&(re(),re=null),!ve&&ye.length&&ye.length>=U&&await new O(ft=>{xe=ft}))}ye.push(Y)}catch(Qe){let ft=k(Qe);R(ft,void 0,Q),ye.push(ft)}finally{var He;ve=!0,re&&(re(),re=null),H==null||(He=H.signal)===null||He===void 0||He.removeEventListener("abort",ee)}}me();try{for(;;){for(;ye.length>0;){let Fe=await ye[0];if(Fe===Y)return;if(Ee.aborted)throw new a;Fe!==$&&(yield Fe),ye.shift(),xe&&(xe(),xe=null)}await new O(Fe=>{re=Fe})}}finally{ue.abort(),ve=!0,xe&&(xe(),xe=null)}}).call(this)}function F(ge=void 0){return ge!=null&&d(ge,"options"),(ge==null?void 0:ge.signal)!=null&&l(ge.signal,"options.signal"),(async function*(){let H=0;for await(let le of this){var U;if(ge!=null&&(U=ge.signal)!==null&&U!==void 0&&U.aborted)throw new a({cause:ge.signal.reason});yield[H++,le]}}).call(this)}async function K(ge,H=void 0){for await(let U of D.call(this,ge,H))return!0;return!1}async function Z(ge,H=void 0){if(typeof ge!="function")throw new i("fn",["Function","AsyncFunction"],ge);return!await K.call(this,async(...U)=>!await ge(...U),H)}async function de(ge,H){for await(let U of D.call(this,ge,H))return U}async function oe(ge,H){if(typeof ge!="function")throw new i("fn",["Function","AsyncFunction"],ge);async function U(le,_e){return await ge(le,_e),$}for await(let le of B.call(this,U,H));}function D(ge,H){if(typeof ge!="function")throw new i("fn",["Function","AsyncFunction"],ge);async function U(le,_e){return await ge(le,_e)?le:$}return B.call(this,U,H)}var J=class extends s{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}};async function W(ge,H,U){var le;if(typeof ge!="function")throw new i("reducer",["Function","AsyncFunction"],ge);U!=null&&d(U,"options"),(U==null?void 0:U.signal)!=null&&l(U.signal,"options.signal");let _e=arguments.length>1;if(U!=null&&(le=U.signal)!==null&&le!==void 0&&le.aborted){let G=new a(void 0,{cause:U.signal.reason});throw this.once("error",()=>{}),await p(this.destroy(G)),G}let ue=new r,he=ue.signal;if(U!=null&&U.signal){let G={once:!0,[f]:this};U.signal.addEventListener("abort",()=>ue.abort(),G)}let ye=!1;try{for await(let G of this){var Ee;if(ye=!0,U!=null&&(Ee=U.signal)!==null&&Ee!==void 0&&Ee.aborted)throw new a;_e?H=await ge(H,G,{signal:he}):(H=G,_e=!0)}if(!ye&&!_e)throw new J}finally{ue.abort()}return H}async function te(ge){ge!=null&&d(ge,"options"),(ge==null?void 0:ge.signal)!=null&&l(ge.signal,"options.signal");let H=[];for await(let le of this){var U;if(ge!=null&&(U=ge.signal)!==null&&U!==void 0&&U.aborted)throw new a(void 0,{cause:ge.signal.reason});S(H,le)}return H}function N(ge,H){let U=B.call(this,ge,H);return(async function*(){for await(let le of U)yield*le}).call(this)}function ie(ge){if(ge=b(ge),I(ge))return 0;if(ge<0)throw new o("number",">= 0",ge);return ge}function pe(ge,H=void 0){return H!=null&&d(H,"options"),(H==null?void 0:H.signal)!=null&&l(H.signal,"options.signal"),ge=ie(ge),(async function*(){var U;if(H!=null&&(U=H.signal)!==null&&U!==void 0&&U.aborted)throw new a;for await(let _e of this){var le;if(H!=null&&(le=H.signal)!==null&&le!==void 0&&le.aborted)throw new a;ge--<=0&&(yield _e)}}).call(this)}function Be(ge,H=void 0){return H!=null&&d(H,"options"),(H==null?void 0:H.signal)!=null&&l(H.signal,"options.signal"),ge=ie(ge),(async function*(){var U;if(H!=null&&(U=H.signal)!==null&&U!==void 0&&U.aborted)throw new a;for await(let _e of this){var le;if(H!=null&&(le=H.signal)!==null&&le!==void 0&&le.aborted)throw new a;if(ge-- >0)yield _e;else return}}).call(this)}e.exports.streamReturningOperators={asIndexedPairs:F,drop:pe,filter:D,flatMap:N,map:B,take:Be,compose:se},e.exports.promiseReturningOperators={every:Z,forEach:oe,reduce:W,toArray:te,some:K,find:de}}),NR=Le((t,e)=>{Pe(),Ie(),Ce();var{ArrayPrototypePop:r,Promise:n}=Cr(),{isIterable:i,isNodeStream:s,isWebStream:o}=lo(),{pipelineImpl:a}=bw(),{finished:l}=aa();DR();function u(...d){return new n((f,p)=>{let m,g,v=d[d.length-1];if(v&&typeof v=="object"&&!s(v)&&!i(v)&&!o(v)){let C=r(d);m=C.signal,g=C.end}a(d,(C,S)=>{C?p(C):f(S)},{signal:m,end:g})})}e.exports={finished:l,pipeline:u}}),DR=Le((t,e)=>{Pe(),Ie(),Ce();var{Buffer:r}=(ln(),Nt(an)),{ObjectDefineProperty:n,ObjectKeys:i,ReflectApply:s}=Cr(),{promisify:{custom:o}}=to(),{streamReturningOperators:a,promiseReturningOperators:l}=gD(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=Pn(),d=BR(),{pipeline:f}=bw(),{destroyer:p}=ju(),m=aa(),g=NR(),v=lo(),C=e.exports=gw().Stream;C.isDisturbed=v.isDisturbed,C.isErrored=v.isErrored,C.isReadable=v.isReadable,C.Readable=Mm();for(let x of i(a)){let b=function(...O){if(new.target)throw u();return C.Readable.from(s(I,this,O))},I=a[x];n(b,"name",{__proto__:null,value:I.name}),n(b,"length",{__proto__:null,value:I.length}),n(C.Readable.prototype,x,{__proto__:null,value:b,enumerable:!1,configurable:!0,writable:!0})}for(let x of i(l)){let b=function(...O){if(new.target)throw u();return s(I,this,O)},I=l[x];n(b,"name",{__proto__:null,value:I.name}),n(b,"length",{__proto__:null,value:I.length}),n(C.Readable.prototype,x,{__proto__:null,value:b,enumerable:!1,configurable:!0,writable:!0})}C.Writable=kR(),C.Duplex=ro(),C.Transform=OR(),C.PassThrough=MR(),C.pipeline=f;var{addAbortSignal:S}=km();C.addAbortSignal=S,C.finished=m,C.destroy=p,C.compose=d,n(C,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return g}}),n(f,o,{__proto__:null,enumerable:!0,get(){return g.pipeline}}),n(m,o,{__proto__:null,enumerable:!0,get(){return g.finished}}),C.Stream=C,C._isUint8Array=function(x){return x instanceof Uint8Array},C._uint8ArrayToBuffer=function(x){return r.from(x.buffer,x.byteOffset,x.byteLength)}}),fl=Le((t,e)=>{Pe(),Ie(),Ce();var r=DR(),n=NR(),i=r.Readable.destroy;e.exports=r.Readable,e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.destroy=i,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get(){return n}}),e.exports.Stream=r.Stream,e.exports.default=e.exports}),yD=Le((t,e)=>{Pe(),Ie(),Ce(),typeof Object.create=="function"?e.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),vD=Le((t,e)=>{Pe(),Ie(),Ce();var{Buffer:r}=(ln(),Nt(an)),n=Symbol.for("BufferList");function i(s){if(!(this instanceof i))return new i(s);i._init.call(this,s)}i._init=function(s){Object.defineProperty(this,n,{value:!0}),this._bufs=[],this.length=0,s&&this.append(s)},i.prototype._new=function(s){return new i(s)},i.prototype._offset=function(s){if(s===0)return[0,0];let o=0;for(let a=0;a<this._bufs.length;a++){let l=o+this._bufs[a].length;if(s<l||a===this._bufs.length-1)return[a,s-o];o=l}},i.prototype._reverseOffset=function(s){let o=s[0],a=s[1];for(let l=0;l<o;l++)a+=this._bufs[l].length;return a},i.prototype.get=function(s){if(s>this.length||s<0)return;let o=this._offset(s);return this._bufs[o[0]][o[1]]},i.prototype.slice=function(s,o){return typeof s=="number"&&s<0&&(s+=this.length),typeof o=="number"&&o<0&&(o+=this.length),this.copy(null,0,s,o)},i.prototype.copy=function(s,o,a,l){if((typeof a!="number"||a<0)&&(a=0),(typeof l!="number"||l>this.length)&&(l=this.length),a>=this.length||l<=0)return s||r.alloc(0);let u=!!s,d=this._offset(a),f=l-a,p=f,m=u&&o||0,g=d[1];if(a===0&&l===this.length){if(!u)return this._bufs.length===1?this._bufs[0]:r.concat(this._bufs,this.length);for(let v=0;v<this._bufs.length;v++)this._bufs[v].copy(s,m),m+=this._bufs[v].length;return s}if(p<=this._bufs[d[0]].length-g)return u?this._bufs[d[0]].copy(s,o,g,g+p):this._bufs[d[0]].slice(g,g+p);u||(s=r.allocUnsafe(f));for(let v=d[0];v<this._bufs.length;v++){let C=this._bufs[v].length-g;if(p>C)this._bufs[v].copy(s,m,g),m+=C;else{this._bufs[v].copy(s,m,g,g+p),m+=C;break}p-=C,g&&(g=0)}return s.length>m?s.slice(0,m):s},i.prototype.shallowSlice=function(s,o){if(s=s||0,o=typeof o!="number"?this.length:o,s<0&&(s+=this.length),o<0&&(o+=this.length),s===o)return this._new();let a=this._offset(s),l=this._offset(o),u=this._bufs.slice(a[0],l[0]+1);return l[1]===0?u.pop():u[u.length-1]=u[u.length-1].slice(0,l[1]),a[1]!==0&&(u[0]=u[0].slice(a[1])),this._new(u)},i.prototype.toString=function(s,o,a){return this.slice(o,a).toString(s)},i.prototype.consume=function(s){if(s=Math.trunc(s),Number.isNaN(s)||s<=0)return this;for(;this._bufs.length;)if(s>=this._bufs[0].length)s-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(s),this.length-=s;break}return this},i.prototype.duplicate=function(){let s=this._new();for(let o=0;o<this._bufs.length;o++)s.append(this._bufs[o]);return s},i.prototype.append=function(s){if(s==null)return this;if(s.buffer)this._appendBuffer(r.from(s.buffer,s.byteOffset,s.byteLength));else if(Array.isArray(s))for(let o=0;o<s.length;o++)this.append(s[o]);else if(this._isBufferList(s))for(let o=0;o<s._bufs.length;o++)this.append(s._bufs[o]);else typeof s=="number"&&(s=s.toString()),this._appendBuffer(r.from(s));return this},i.prototype._appendBuffer=function(s){this._bufs.push(s),this.length+=s.length},i.prototype.indexOf=function(s,o,a){if(a===void 0&&typeof o=="string"&&(a=o,o=void 0),typeof s=="function"||Array.isArray(s))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof s=="number"?s=r.from([s]):typeof s=="string"?s=r.from(s,a):this._isBufferList(s)?s=s.slice():Array.isArray(s.buffer)?s=r.from(s.buffer,s.byteOffset,s.byteLength):r.isBuffer(s)||(s=r.from(s)),o=Number(o||0),isNaN(o)&&(o=0),o<0&&(o=this.length+o),o<0&&(o=0),s.length===0)return o>this.length?this.length:o;let l=this._offset(o),u=l[0],d=l[1];for(;u<this._bufs.length;u++){let f=this._bufs[u];for(;d<f.length;)if(f.length-d>=s.length){let p=f.indexOf(s,d);if(p!==-1)return this._reverseOffset([u,p]);d=f.length-s.length+1}else{let p=this._reverseOffset([u,d]);if(this._match(p,s))return p;d++}d=0}return-1},i.prototype._match=function(s,o){if(this.length-s<o.length)return!1;for(let a=0;a<o.length;a++)if(this.get(s+a)!==o[a])return!1;return!0},function(){let s={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readBigInt64BE:8,readBigInt64LE:8,readBigUInt64BE:8,readBigUInt64LE:8,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(let o in s)(function(a){s[a]===null?i.prototype[a]=function(l,u){return this.slice(l,l+u)[a](0,u)}:i.prototype[a]=function(l=0){return this.slice(l,l+s[a])[a](0)}})(o)}(),i.prototype._isBufferList=function(s){return s instanceof i||i.isBufferList(s)},i.isBufferList=function(s){return s!=null&&s[n]},e.exports=i}),_D=Le((t,e)=>{Pe(),Ie(),Ce();var r=fl().Duplex,n=yD(),i=vD();function s(o){if(!(this instanceof s))return new s(o);if(typeof o=="function"){this._callback=o;let a=(function(l){this._callback&&(this._callback(l),this._callback=null)}).bind(this);this.on("pipe",function(l){l.on("error",a)}),this.on("unpipe",function(l){l.removeListener("error",a)}),o=null}i._init.call(this,o),r.call(this)}n(s,r),Object.assign(s.prototype,i.prototype),s.prototype._new=function(o){return new s(o)},s.prototype._write=function(o,a,l){this._appendBuffer(o),typeof l=="function"&&l()},s.prototype._read=function(o){if(!this.length)return this.push(null);o=Math.min(o,this.length),this.push(this.slice(0,o)),this.consume(o)},s.prototype.end=function(o){r.prototype.end.call(this,o),this._callback&&(this._callback(null,this.slice()),this._callback=null)},s.prototype._destroy=function(o,a){this._bufs.length=0,this.length=0,a(o)},s.prototype._isBufferList=function(o){return o instanceof s||o instanceof i||s.isBufferList(o)},s.isBufferList=i.isBufferList,e.exports=s,e.exports.BufferListStream=s,e.exports.BufferList=i}),bD=Le((t,e)=>{Pe(),Ie(),Ce();var r=class{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}};e.exports=r}),LR=Le((t,e)=>{Pe(),Ie(),Ce();var r=e.exports,{Buffer:n}=(ln(),Nt(an));r.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},r.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},r.requiredHeaderFlagsErrors={};for(let s in r.requiredHeaderFlags){let o=r.requiredHeaderFlags[s];r.requiredHeaderFlagsErrors[s]="Invalid header flag bits, must be 0x"+o.toString(16)+" for "+r.types[s]+" packet"}r.codes={};for(let s in r.types){let o=r.types[s];r.codes[o]=s}r.CMD_SHIFT=4,r.CMD_MASK=240,r.DUP_MASK=8,r.QOS_MASK=3,r.QOS_SHIFT=1,r.RETAIN_MASK=1,r.VARBYTEINT_MASK=127,r.VARBYTEINT_FIN_MASK=128,r.VARBYTEINT_MAX=268435455,r.SESSIONPRESENT_MASK=1,r.SESSIONPRESENT_HEADER=n.from([r.SESSIONPRESENT_MASK]),r.CONNACK_HEADER=n.from([r.codes.connack<<r.CMD_SHIFT]),r.USERNAME_MASK=128,r.PASSWORD_MASK=64,r.WILL_RETAIN_MASK=32,r.WILL_QOS_MASK=24,r.WILL_QOS_SHIFT=3,r.WILL_FLAG_MASK=4,r.CLEAN_SESSION_MASK=2,r.CONNECT_HEADER=n.from([r.codes.connect<<r.CMD_SHIFT]),r.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},r.propertiesCodes={};for(let s in r.properties){let o=r.properties[s];r.propertiesCodes[o]=s}r.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function i(s){return[0,1,2].map(o=>[0,1].map(a=>[0,1].map(l=>{let u=n.alloc(1);return u.writeUInt8(r.codes[s]<<r.CMD_SHIFT|(a?r.DUP_MASK:0)|o<<r.QOS_SHIFT|l,0,!0),u})))}r.PUBLISH_HEADER=i("publish"),r.SUBSCRIBE_HEADER=i("subscribe"),r.SUBSCRIBE_OPTIONS_QOS_MASK=3,r.SUBSCRIBE_OPTIONS_NL_MASK=1,r.SUBSCRIBE_OPTIONS_NL_SHIFT=2,r.SUBSCRIBE_OPTIONS_RAP_MASK=1,r.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,r.SUBSCRIBE_OPTIONS_RH_MASK=3,r.SUBSCRIBE_OPTIONS_RH_SHIFT=4,r.SUBSCRIBE_OPTIONS_RH=[0,16,32],r.SUBSCRIBE_OPTIONS_NL=4,r.SUBSCRIBE_OPTIONS_RAP=8,r.SUBSCRIBE_OPTIONS_QOS=[0,1,2],r.UNSUBSCRIBE_HEADER=i("unsubscribe"),r.ACKS={unsuback:i("unsuback"),puback:i("puback"),pubcomp:i("pubcomp"),pubrel:i("pubrel"),pubrec:i("pubrec")},r.SUBACK_HEADER=n.from([r.codes.suback<<r.CMD_SHIFT]),r.VERSION3=n.from([3]),r.VERSION4=n.from([4]),r.VERSION5=n.from([5]),r.VERSION131=n.from([131]),r.VERSION132=n.from([132]),r.QOS=[0,1,2].map(s=>n.from([s])),r.EMPTY={pingreq:n.from([r.codes.pingreq<<4,0]),pingresp:n.from([r.codes.pingresp<<4,0]),disconnect:n.from([r.codes.disconnect<<4,0])},r.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},r.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},r.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},r.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},r.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}}),wD=Le((t,e)=>{Pe(),Ie(),Ce();var r=1e3,n=r*60,i=n*60,s=i*24,o=s*7,a=s*365.25;e.exports=function(p,m){m=m||{};var g=typeof p;if(g==="string"&&p.length>0)return l(p);if(g==="number"&&isFinite(p))return m.long?d(p):u(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))};function l(p){if(p=String(p),!(p.length>100)){var m=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(p);if(m){var g=parseFloat(m[1]),v=(m[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return g*a;case"weeks":case"week":case"w":return g*o;case"days":case"day":case"d":return g*s;case"hours":case"hour":case"hrs":case"hr":case"h":return g*i;case"minutes":case"minute":case"mins":case"min":case"m":return g*n;case"seconds":case"second":case"secs":case"sec":case"s":return g*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function u(p){var m=Math.abs(p);return m>=s?Math.round(p/s)+"d":m>=i?Math.round(p/i)+"h":m>=n?Math.round(p/n)+"m":m>=r?Math.round(p/r)+"s":p+"ms"}function d(p){var m=Math.abs(p);return m>=s?f(p,m,s,"day"):m>=i?f(p,m,i,"hour"):m>=n?f(p,m,n,"minute"):m>=r?f(p,m,r,"second"):p+" ms"}function f(p,m,g,v){var C=m>=g*1.5;return Math.round(p/g)+" "+v+(C?"s":"")}}),xD=Le((t,e)=>{Pe(),Ie(),Ce();function r(n){s.debug=s,s.default=s,s.coerce=f,s.disable=l,s.enable=a,s.enabled=u,s.humanize=wD(),s.destroy=p,Object.keys(n).forEach(m=>{s[m]=n[m]}),s.names=[],s.skips=[],s.formatters={};function i(m){let g=0;for(let v=0;v<m.length;v++)g=(g<<5)-g+m.charCodeAt(v),g|=0;return s.colors[Math.abs(g)%s.colors.length]}s.selectColor=i;function s(m){let g,v=null,C,S;function x(...b){if(!x.enabled)return;let I=x,O=Number(new Date),k=O-(g||O);I.diff=k,I.prev=g,I.curr=O,g=O,b[0]=s.coerce(b[0]),typeof b[0]!="string"&&b.unshift("%O");let R=0;b[0]=b[0].replace(/%([a-zA-Z%])/g,(M,$)=>{if(M==="%%")return"%";R++;let Y=s.formatters[$];if(typeof Y=="function"){let se=b[R];M=Y.call(I,se),b.splice(R,1),R--}return M}),s.formatArgs.call(I,b),(I.log||s.log).apply(I,b)}return x.namespace=m,x.useColors=s.useColors(),x.color=s.selectColor(m),x.extend=o,x.destroy=s.destroy,Object.defineProperty(x,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(C!==s.namespaces&&(C=s.namespaces,S=s.enabled(m)),S),set:b=>{v=b}}),typeof s.init=="function"&&s.init(x),x}function o(m,g){let v=s(this.namespace+(typeof g>"u"?":":g)+m);return v.log=this.log,v}function a(m){s.save(m),s.namespaces=m,s.names=[],s.skips=[];let g,v=(typeof m=="string"?m:"").split(/[\s,]+/),C=v.length;for(g=0;g<C;g++)v[g]&&(m=v[g].replace(/\*/g,".*?"),m[0]==="-"?s.skips.push(new RegExp("^"+m.slice(1)+"$")):s.names.push(new RegExp("^"+m+"$")))}function l(){let m=[...s.names.map(d),...s.skips.map(d).map(g=>"-"+g)].join(",");return s.enable(""),m}function u(m){if(m[m.length-1]==="*")return!0;let g,v;for(g=0,v=s.skips.length;g<v;g++)if(s.skips[g].test(m))return!1;for(g=0,v=s.names.length;g<v;g++)if(s.names[g].test(m))return!0;return!1}function d(m){return m.toString().substring(2,m.toString().length-2).replace(/\.\*\?$/,"*")}function f(m){return m instanceof Error?m.stack||m.message:m}function p(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return s.enable(s.load()),s}e.exports=r}),no=Le((t,e)=>{Pe(),Ie(),Ce(),t.formatArgs=n,t.save=i,t.load=s,t.useColors=r,t.storage=o(),t.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function r(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof Fn<"u"&&Fn.userAgent&&Fn.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof Fn<"u"&&Fn.userAgent&&Fn.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof Fn<"u"&&Fn.userAgent&&Fn.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;let u="color: "+this.color;l.splice(1,0,u,"color: inherit");let d=0,f=0;l[0].replace(/%[a-zA-Z%]/g,p=>{p!=="%%"&&(d++,p==="%c"&&(f=d))}),l.splice(f,0,u)}t.log=console.debug||console.log||(()=>{});function i(l){try{l?t.storage.setItem("debug",l):t.storage.removeItem("debug")}catch{}}function s(){let l;try{l=t.storage.getItem("debug")}catch{}return!l&&typeof gr<"u"&&"env"in gr&&(l=gr.env.DEBUG),l}function o(){try{return localStorage}catch{}}e.exports=xD()(t);var{formatters:a}=e.exports;a.j=function(l){try{return JSON.stringify(l)}catch(u){return"[UnexpectedJSONParseError]: "+u.message}}}),ED=Le((t,e)=>{Pe(),Ie(),Ce();var r=_D(),{EventEmitter:n}=($u(),Nt(dl)),i=bD(),s=LR(),o=no()("mqtt-packet:parser"),a=class K1 extends n{constructor(){super(),this.parser=this.constructor.parser}static parser(u){return this instanceof K1?(this.settings=u||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new K1().parser(u)}_resetState(){o("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new i,this.error=null,this._list=r(),this._stateCounter=0}parse(u){for(this.error&&this._resetState(),this._list.append(u),o("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,o("parse: state complete. _stateCounter is now: %d",this._stateCounter),o("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return o("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){let u=this._list.readUInt8(0),d=u>>s.CMD_SHIFT;this.packet.cmd=s.types[d];let f=u&15,p=s.requiredHeaderFlags[d];return p!=null&&f!==p?this._emitError(new Error(s.requiredHeaderFlagsErrors[d])):(this.packet.retain=(u&s.RETAIN_MASK)!==0,this.packet.qos=u>>s.QOS_SHIFT&s.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(u&s.DUP_MASK)!==0,o("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){let u=this._parseVarByteNum(!0);return u&&(this.packet.length=u.value,this._list.consume(u.bytes)),o("_parseLength %d",u.value),!!u}_parsePayload(){o("_parsePayload: payload %O",this._list);let u=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}u=!0}return o("_parsePayload complete result: %s",u),u}_parseConnect(){o("_parseConnect");let u,d,f,p,m={},g=this.packet,v=this._parseString();if(v===null)return this._emitError(new Error("Cannot parse protocolId"));if(v!=="MQTT"&&v!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(g.protocolId=v,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(g.protocolVersion=this._list.readUInt8(this._pos),g.protocolVersion>=128&&(g.bridgeMode=!0,g.protocolVersion=g.protocolVersion-128),g.protocolVersion!==3&&g.protocolVersion!==4&&g.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));m.username=this._list.readUInt8(this._pos)&s.USERNAME_MASK,m.password=this._list.readUInt8(this._pos)&s.PASSWORD_MASK,m.will=this._list.readUInt8(this._pos)&s.WILL_FLAG_MASK;let C=!!(this._list.readUInt8(this._pos)&s.WILL_RETAIN_MASK),S=(this._list.readUInt8(this._pos)&s.WILL_QOS_MASK)>>s.WILL_QOS_SHIFT;if(m.will)g.will={},g.will.retain=C,g.will.qos=S;else{if(C)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(S)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(g.clean=(this._list.readUInt8(this._pos)&s.CLEAN_SESSION_MASK)!==0,this._pos++,g.keepalive=this._parseNum(),g.keepalive===-1)return this._emitError(new Error("Packet too short"));if(g.protocolVersion===5){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(g.properties=b)}let x=this._parseString();if(x===null)return this._emitError(new Error("Packet too short"));if(g.clientId=x,o("_parseConnect: packet.clientId: %s",g.clientId),m.will){if(g.protocolVersion===5){let b=this._parseProperties();Object.getOwnPropertyNames(b).length&&(g.will.properties=b)}if(u=this._parseString(),u===null)return this._emitError(new Error("Cannot parse will topic"));if(g.will.topic=u,o("_parseConnect: packet.will.topic: %s",g.will.topic),d=this._parseBuffer(),d===null)return this._emitError(new Error("Cannot parse will payload"));g.will.payload=d,o("_parseConnect: packet.will.paylaod: %s",g.will.payload)}if(m.username){if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse username"));g.username=p,o("_parseConnect: packet.username: %s",g.username)}if(m.password){if(f=this._parseBuffer(),f===null)return this._emitError(new Error("Cannot parse password"));g.password=f}return this.settings=g,o("_parseConnect: complete"),g}_parseConnack(){o("_parseConnack");let u=this.packet;if(this._list.length<1)return null;let d=this._list.readUInt8(this._pos++);if(d>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(u.sessionPresent=!!(d&s.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?u.reasonCode=this._list.readUInt8(this._pos++):u.reasonCode=0;else{if(this._list.length<2)return null;u.returnCode=this._list.readUInt8(this._pos++)}if(u.returnCode===-1||u.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){let f=this._parseProperties();Object.getOwnPropertyNames(f).length&&(u.properties=f)}o("_parseConnack: complete")}_parsePublish(){o("_parsePublish");let u=this.packet;if(u.topic=this._parseString(),u.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(u.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(u.properties=d)}u.payload=this._list.slice(this._pos,u.length),o("_parsePublish: payload from buffer list: %o",u.payload)}}_parseSubscribe(){o("_parseSubscribe");let u=this.packet,d,f,p,m,g,v,C;if(u.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let S=this._parseProperties();Object.getOwnPropertyNames(S).length&&(u.properties=S)}if(u.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<u.length;){if(d=this._parseString(),d===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=u.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(f=this._parseByte(),this.settings.protocolVersion===5){if(f&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(f&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(p=f&s.SUBSCRIBE_OPTIONS_QOS_MASK,p>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(v=(f>>s.SUBSCRIBE_OPTIONS_NL_SHIFT&s.SUBSCRIBE_OPTIONS_NL_MASK)!==0,g=(f>>s.SUBSCRIBE_OPTIONS_RAP_SHIFT&s.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,m=f>>s.SUBSCRIBE_OPTIONS_RH_SHIFT&s.SUBSCRIBE_OPTIONS_RH_MASK,m>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));C={topic:d,qos:p},this.settings.protocolVersion===5?(C.nl=v,C.rap=g,C.rh=m):this.settings.bridgeMode&&(C.rh=0,C.rap=!0,C.nl=!0),o("_parseSubscribe: push subscription `%s` to subscription",C),u.subscriptions.push(C)}}}_parseSuback(){o("_parseSuback");let u=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(u.properties=d)}if(u.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){let d=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!s.MQTT5_SUBACK_CODES[d])return this._emitError(new Error("Invalid suback code"))}else if(d>2&&d!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(d)}}}_parseUnsubscribe(){o("_parseUnsubscribe");let u=this.packet;if(u.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(u.properties=d)}if(u.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<u.length;){let d=this._parseString();if(d===null)return this._emitError(new Error("Cannot parse topic"));o("_parseUnsubscribe: push topic `%s` to unsubscriptions",d),u.unsubscriptions.push(d)}}}_parseUnsuback(){o("_parseUnsuback");let u=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&u.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(u.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){let d=this._parseProperties();for(Object.getOwnPropertyNames(d).length&&(u.properties=d),u.granted=[];this._pos<this.packet.length;){let f=this._list.readUInt8(this._pos++);if(!s.MQTT5_UNSUBACK_CODES[f])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(f)}}}_parseConfirmation(){o("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);let u=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(u.length>2){switch(u.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!s.MQTT5_PUBACK_PUBREC_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!s.MQTT5_PUBREL_PUBCOMP_CODES[u.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}o("_parseConfirmation: packet.reasonCode `%d`",u.reasonCode)}else u.reasonCode=0;if(u.length>3){let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(u.properties=d)}}return!0}_parseDisconnect(){let u=this.packet;if(o("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(u.reasonCode=this._parseByte(),s.MQTT5_DISCONNECT_CODES[u.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):u.reasonCode=0;let d=this._parseProperties();Object.getOwnPropertyNames(d).length&&(u.properties=d)}return o("_parseDisconnect result: true"),!0}_parseAuth(){o("_parseAuth");let u=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(u.reasonCode=this._parseByte(),!s.MQTT5_AUTH_CODES[u.reasonCode])return this._emitError(new Error("Invalid auth reason code"));let d=this._parseProperties();return Object.getOwnPropertyNames(d).length&&(u.properties=d),o("_parseAuth: result: true"),!0}_parseMessageId(){let u=this.packet;return u.messageId=this._parseNum(),u.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(o("_parseMessageId: packet.messageId %d",u.messageId),!0)}_parseString(u){let d=this._parseNum(),f=d+this._pos;if(d===-1||f>this._list.length||f>this.packet.length)return null;let p=this._list.toString("utf8",this._pos,f);return this._pos+=d,o("_parseString: result: %s",p),p}_parseStringPair(){return o("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){let u=this._parseNum(),d=u+this._pos;if(u===-1||d>this._list.length||d>this.packet.length)return null;let f=this._list.slice(this._pos,d);return this._pos+=u,o("_parseBuffer: result: %o",f),f}_parseNum(){if(this._list.length-this._pos<2)return-1;let u=this._list.readUInt16BE(this._pos);return this._pos+=2,o("_parseNum: result: %s",u),u}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;let u=this._list.readUInt32BE(this._pos);return this._pos+=4,o("_parse4ByteNum: result: %s",u),u}_parseVarByteNum(u){o("_parseVarByteNum");let d=4,f=0,p=1,m=0,g=!1,v,C=this._pos?this._pos:0;for(;f<d&&C+f<this._list.length;){if(v=this._list.readUInt8(C+f++),m+=p*(v&s.VARBYTEINT_MASK),p*=128,!(v&s.VARBYTEINT_FIN_MASK)){g=!0;break}if(this._list.length<=f)break}return!g&&f===d&&this._list.length>=f&&this._emitError(new Error("Invalid variable byte integer")),C&&(this._pos+=f),g?u?g={bytes:f,value:m}:g=m:g=!1,o("_parseVarByteNum: result: %o",g),g}_parseByte(){let u;return this._pos<this._list.length&&(u=this._list.readUInt8(this._pos),this._pos++),o("_parseByte: result: %o",u),u}_parseByType(u){switch(o("_parseByType: type: %s",u),u){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){o("_parseProperties");let u=this._parseVarByteNum(),d=this._pos+u,f={};for(;this._pos<d;){let p=this._parseByte();if(!p)return this._emitError(new Error("Cannot parse property code type")),!1;let m=s.propertiesCodes[p];if(!m)return this._emitError(new Error("Unknown property")),!1;if(m==="userProperties"){f[m]||(f[m]=Object.create(null));let g=this._parseByType(s.propertiesTypes[m]);if(f[m][g.name])if(Array.isArray(f[m][g.name]))f[m][g.name].push(g.value);else{let v=f[m][g.name];f[m][g.name]=[v],f[m][g.name].push(g.value)}else f[m][g.name]=g.value;continue}f[m]?Array.isArray(f[m])?f[m].push(this._parseByType(s.propertiesTypes[m])):(f[m]=[f[m]],f[m].push(this._parseByType(s.propertiesTypes[m]))):f[m]=this._parseByType(s.propertiesTypes[m])}return f}_newPacket(){return o("_newPacket"),this.packet&&(this._list.consume(this.packet.length),o("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),o("_newPacket: new packet"),this.packet=new i,this._pos=0,!0}_emitError(u){o("_emitError",u),this.error=u,this.emit("error",u)}};e.exports=a}),SD=Le((t,e)=>{Pe(),Ie(),Ce();var{Buffer:r}=(ln(),Nt(an)),n=65536,i={},s=r.isBuffer(r.from([1,2]).subarray(0,1));function o(d){let f=r.allocUnsafe(2);return f.writeUInt8(d>>8,0),f.writeUInt8(d&255,1),f}function a(){for(let d=0;d<n;d++)i[d]=o(d)}function l(d){let f=0,p=0,m=r.allocUnsafe(4);do f=d%128|0,d=d/128|0,d>0&&(f=f|128),m.writeUInt8(f,p++);while(d>0&&p<4);return d>0&&(p=0),s?m.subarray(0,p):m.slice(0,p)}function u(d){let f=r.allocUnsafe(4);return f.writeUInt32BE(d,0),f}e.exports={cache:i,generateCache:a,generateNumber:o,genBufVariableByteInt:l,generate4ByteBuffer:u}}),TD=Le((t,e)=>{Pe(),Ie(),Ce(),typeof gr>"u"||!gr.version||gr.version.indexOf("v0.")===0||gr.version.indexOf("v1.")===0&&gr.version.indexOf("v1.8.")!==0?e.exports={nextTick:r}:e.exports=gr;function r(n,i,s,o){if(typeof n!="function")throw new TypeError('"callback" argument must be a function');var a=arguments.length,l,u;switch(a){case 0:case 1:return gr.nextTick(n);case 2:return gr.nextTick(function(){n.call(null,i)});case 3:return gr.nextTick(function(){n.call(null,i,s)});case 4:return gr.nextTick(function(){n.call(null,i,s,o)});default:for(l=new Array(a-1),u=0;u<l.length;)l[u++]=arguments[u];return gr.nextTick(function(){n.apply(null,l)})}}}),FR=Le((t,e)=>{Pe(),Ie(),Ce();var r=LR(),{Buffer:n}=(ln(),Nt(an)),i=n.allocUnsafe(0),s=n.from([0]),o=SD(),a=TD().nextTick,l=no()("mqtt-packet:writeToStream"),u=o.cache,d=o.generateNumber,f=o.generateCache,p=o.genBufVariableByteInt,m=o.generate4ByteBuffer,g=oe,v=!0;function C(H,U,le){switch(l("generate called"),U.cork&&(U.cork(),a(S,U)),v&&(v=!1,f()),l("generate: packet.cmd: %s",H.cmd),H.cmd){case"connect":return x(H,U);case"connack":return b(H,U,le);case"publish":return I(H,U,le);case"puback":case"pubrec":case"pubrel":case"pubcomp":return O(H,U,le);case"subscribe":return k(H,U,le);case"suback":return R(H,U,le);case"unsubscribe":return M(H,U,le);case"unsuback":return $(H,U,le);case"pingreq":case"pingresp":return Y(H,U);case"disconnect":return se(H,U,le);case"auth":return B(H,U,le);default:return U.destroy(new Error("Unknown command")),!1}}Object.defineProperty(C,"cacheNumbers",{get(){return g===oe},set(H){H?((!u||Object.keys(u).length===0)&&(v=!0),g=oe):(v=!1,g=D)}});function S(H){H.uncork()}function x(H,U,le){let _e=H||{},ue=_e.protocolId||"MQTT",he=_e.protocolVersion||4,ye=_e.will,Ee=_e.clean,G=_e.keepalive||0,ee=_e.clientId||"",re=_e.username,xe=_e.password,ve=_e.properties;Ee===void 0&&(Ee=!0);let Q=0;if(!ue||typeof ue!="string"&&!n.isBuffer(ue))return U.destroy(new Error("Invalid protocolId")),!1;if(Q+=ue.length+2,he!==3&&he!==4&&he!==5)return U.destroy(new Error("Invalid protocol version")),!1;if(Q+=1,(typeof ee=="string"||n.isBuffer(ee))&&(ee||he>=4)&&(ee||Ee))Q+=n.byteLength(ee)+2;else{if(he<4)return U.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(Ee*1===0)return U.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof G!="number"||G<0||G>65535||G%1!==0)return U.destroy(new Error("Invalid keepalive")),!1;Q+=2,Q+=1;let me,Fe;if(he===5){if(me=te(U,ve),!me)return!1;Q+=me.length}if(ye){if(typeof ye!="object")return U.destroy(new Error("Invalid will")),!1;if(!ye.topic||typeof ye.topic!="string")return U.destroy(new Error("Invalid will topic")),!1;if(Q+=n.byteLength(ye.topic)+2,Q+=2,ye.payload)if(ye.payload.length>=0)typeof ye.payload=="string"?Q+=n.byteLength(ye.payload):Q+=ye.payload.length;else return U.destroy(new Error("Invalid will payload")),!1;if(Fe={},he===5){if(Fe=te(U,ye.properties),!Fe)return!1;Q+=Fe.length}}let He=!1;if(re!=null)if(ge(re))He=!0,Q+=n.byteLength(re)+2;else return U.destroy(new Error("Invalid username")),!1;if(xe!=null){if(!He)return U.destroy(new Error("Username is required to use password")),!1;if(ge(xe))Q+=Be(xe)+2;else return U.destroy(new Error("Invalid password")),!1}U.write(r.CONNECT_HEADER),K(U,Q),W(U,ue),_e.bridgeMode&&(he+=128),U.write(he===131?r.VERSION131:he===132?r.VERSION132:he===4?r.VERSION4:he===5?r.VERSION5:r.VERSION3);let Qe=0;return Qe|=re!=null?r.USERNAME_MASK:0,Qe|=xe!=null?r.PASSWORD_MASK:0,Qe|=ye&&ye.retain?r.WILL_RETAIN_MASK:0,Qe|=ye&&ye.qos?ye.qos<<r.WILL_QOS_SHIFT:0,Qe|=ye?r.WILL_FLAG_MASK:0,Qe|=Ee?r.CLEAN_SESSION_MASK:0,U.write(n.from([Qe])),g(U,G),he===5&&me.write(),W(U,ee),ye&&(he===5&&Fe.write(),Z(U,ye.topic),W(U,ye.payload)),re!=null&&W(U,re),xe!=null&&W(U,xe),!0}function b(H,U,le){let _e=le?le.protocolVersion:4,ue=H||{},he=_e===5?ue.reasonCode:ue.returnCode,ye=ue.properties,Ee=2;if(typeof he!="number")return U.destroy(new Error("Invalid return code")),!1;let G=null;if(_e===5){if(G=te(U,ye),!G)return!1;Ee+=G.length}return U.write(r.CONNACK_HEADER),K(U,Ee),U.write(ue.sessionPresent?r.SESSIONPRESENT_HEADER:s),U.write(n.from([he])),G==null||G.write(),!0}function I(H,U,le){l("publish: packet: %o",H);let _e=le?le.protocolVersion:4,ue=H||{},he=ue.qos||0,ye=ue.retain?r.RETAIN_MASK:0,Ee=ue.topic,G=ue.payload||i,ee=ue.messageId,re=ue.properties,xe=0;if(typeof Ee=="string")xe+=n.byteLength(Ee)+2;else if(n.isBuffer(Ee))xe+=Ee.length+2;else return U.destroy(new Error("Invalid topic")),!1;if(n.isBuffer(G)?xe+=G.length:xe+=n.byteLength(G),he&&typeof ee!="number")return U.destroy(new Error("Invalid messageId")),!1;he&&(xe+=2);let ve=null;if(_e===5){if(ve=te(U,re),!ve)return!1;xe+=ve.length}return U.write(r.PUBLISH_HEADER[he][ue.dup?1:0][ye?1:0]),K(U,xe),g(U,Be(Ee)),U.write(Ee),he>0&&g(U,ee),ve==null||ve.write(),l("publish: payload: %o",G),U.write(G)}function O(H,U,le){let _e=le?le.protocolVersion:4,ue=H||{},he=ue.cmd||"puback",ye=ue.messageId,Ee=ue.dup&&he==="pubrel"?r.DUP_MASK:0,G=0,ee=ue.reasonCode,re=ue.properties,xe=_e===5?3:2;if(he==="pubrel"&&(G=1),typeof ye!="number")return U.destroy(new Error("Invalid messageId")),!1;let ve=null;if(_e===5&&typeof re=="object"){if(ve=N(U,re,le,xe),!ve)return!1;xe+=ve.length}return U.write(r.ACKS[he][G][Ee][0]),xe===3&&(xe+=ee!==0?1:-1),K(U,xe),g(U,ye),_e===5&&xe!==2&&U.write(n.from([ee])),ve!==null?ve.write():xe===4&&U.write(n.from([0])),!0}function k(H,U,le){l("subscribe: packet: ");let _e=le?le.protocolVersion:4,ue=H||{},he=ue.dup?r.DUP_MASK:0,ye=ue.messageId,Ee=ue.subscriptions,G=ue.properties,ee=0;if(typeof ye!="number")return U.destroy(new Error("Invalid messageId")),!1;ee+=2;let re=null;if(_e===5){if(re=te(U,G),!re)return!1;ee+=re.length}if(typeof Ee=="object"&&Ee.length)for(let ve=0;ve<Ee.length;ve+=1){let Q=Ee[ve].topic,me=Ee[ve].qos;if(typeof Q!="string")return U.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof me!="number")return U.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(_e===5){if(typeof(Ee[ve].nl||!1)!="boolean")return U.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(Ee[ve].rap||!1)!="boolean")return U.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;let Fe=Ee[ve].rh||0;if(typeof Fe!="number"||Fe>2)return U.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}ee+=n.byteLength(Q)+2+1}else return U.destroy(new Error("Invalid subscriptions")),!1;l("subscribe: writing to stream: %o",r.SUBSCRIBE_HEADER),U.write(r.SUBSCRIBE_HEADER[1][he?1:0][0]),K(U,ee),g(U,ye),re!==null&&re.write();let xe=!0;for(let ve of Ee){let Q=ve.topic,me=ve.qos,Fe=+ve.nl,He=+ve.rap,Qe=ve.rh,ft;Z(U,Q),ft=r.SUBSCRIBE_OPTIONS_QOS[me],_e===5&&(ft|=Fe?r.SUBSCRIBE_OPTIONS_NL:0,ft|=He?r.SUBSCRIBE_OPTIONS_RAP:0,ft|=Qe?r.SUBSCRIBE_OPTIONS_RH[Qe]:0),xe=U.write(n.from([ft]))}return xe}function R(H,U,le){let _e=le?le.protocolVersion:4,ue=H||{},he=ue.messageId,ye=ue.granted,Ee=ue.properties,G=0;if(typeof he!="number")return U.destroy(new Error("Invalid messageId")),!1;if(G+=2,typeof ye=="object"&&ye.length)for(let re=0;re<ye.length;re+=1){if(typeof ye[re]!="number")return U.destroy(new Error("Invalid qos vector")),!1;G+=1}else return U.destroy(new Error("Invalid qos vector")),!1;let ee=null;if(_e===5){if(ee=N(U,Ee,le,G),!ee)return!1;G+=ee.length}return U.write(r.SUBACK_HEADER),K(U,G),g(U,he),ee!==null&&ee.write(),U.write(n.from(ye))}function M(H,U,le){let _e=le?le.protocolVersion:4,ue=H||{},he=ue.messageId,ye=ue.dup?r.DUP_MASK:0,Ee=ue.unsubscriptions,G=ue.properties,ee=0;if(typeof he!="number")return U.destroy(new Error("Invalid messageId")),!1;if(ee+=2,typeof Ee=="object"&&Ee.length)for(let ve=0;ve<Ee.length;ve+=1){if(typeof Ee[ve]!="string")return U.destroy(new Error("Invalid unsubscriptions")),!1;ee+=n.byteLength(Ee[ve])+2}else return U.destroy(new Error("Invalid unsubscriptions")),!1;let re=null;if(_e===5){if(re=te(U,G),!re)return!1;ee+=re.length}U.write(r.UNSUBSCRIBE_HEADER[1][ye?1:0][0]),K(U,ee),g(U,he),re!==null&&re.write();let xe=!0;for(let ve=0;ve<Ee.length;ve++)xe=Z(U,Ee[ve]);return xe}function $(H,U,le){let _e=le?le.protocolVersion:4,ue=H||{},he=ue.messageId,ye=ue.dup?r.DUP_MASK:0,Ee=ue.granted,G=ue.properties,ee=ue.cmd,re=0,xe=2;if(typeof he!="number")return U.destroy(new Error("Invalid messageId")),!1;if(_e===5)if(typeof Ee=="object"&&Ee.length)for(let Q=0;Q<Ee.length;Q+=1){if(typeof Ee[Q]!="number")return U.destroy(new Error("Invalid qos vector")),!1;xe+=1}else return U.destroy(new Error("Invalid qos vector")),!1;let ve=null;if(_e===5){if(ve=N(U,G,le,xe),!ve)return!1;xe+=ve.length}return U.write(r.ACKS[ee][re][ye][0]),K(U,xe),g(U,he),ve!==null&&ve.write(),_e===5&&U.write(n.from(Ee)),!0}function Y(H,U,le){return U.write(r.EMPTY[H.cmd])}function se(H,U,le){let _e=le?le.protocolVersion:4,ue=H||{},he=ue.reasonCode,ye=ue.properties,Ee=_e===5?1:0,G=null;if(_e===5){if(G=N(U,ye,le,Ee),!G)return!1;Ee+=G.length}return U.write(n.from([r.codes.disconnect<<4])),K(U,Ee),_e===5&&U.write(n.from([he])),G!==null&&G.write(),!0}function B(H,U,le){let _e=le?le.protocolVersion:4,ue=H||{},he=ue.reasonCode,ye=ue.properties,Ee=_e===5?1:0;_e!==5&&U.destroy(new Error("Invalid mqtt version for auth packet"));let G=N(U,ye,le,Ee);return G?(Ee+=G.length,U.write(n.from([r.codes.auth<<4])),K(U,Ee),U.write(n.from([he])),G!==null&&G.write(),!0):!1}var F={};function K(H,U){if(U>r.VARBYTEINT_MAX)return H.destroy(new Error(`Invalid variable byte integer: ${U}`)),!1;let le=F[U];return le||(le=p(U),U<16384&&(F[U]=le)),l("writeVarByteInt: writing to stream: %o",le),H.write(le)}function Z(H,U){let le=n.byteLength(U);return g(H,le),l("writeString: %s",U),H.write(U,"utf8")}function de(H,U,le){Z(H,U),Z(H,le)}function oe(H,U){return l("writeNumberCached: number: %d",U),l("writeNumberCached: %o",u[U]),H.write(u[U])}function D(H,U){let le=d(U);return l("writeNumberGenerated: %o",le),H.write(le)}function J(H,U){let le=m(U);return l("write4ByteNumber: %o",le),H.write(le)}function W(H,U){typeof U=="string"?Z(H,U):U?(g(H,U.length),H.write(U)):g(H,0)}function te(H,U){if(typeof U!="object"||U.length!=null)return{length:1,write(){pe(H,{},0)}};let le=0;function _e(ue,he){let ye=r.propertiesTypes[ue],Ee=0;switch(ye){case"byte":{if(typeof he!="boolean")return H.destroy(new Error(`Invalid ${ue}: ${he}`)),!1;Ee+=2;break}case"int8":{if(typeof he!="number"||he<0||he>255)return H.destroy(new Error(`Invalid ${ue}: ${he}`)),!1;Ee+=2;break}case"binary":{if(he&&he===null)return H.destroy(new Error(`Invalid ${ue}: ${he}`)),!1;Ee+=1+n.byteLength(he)+2;break}case"int16":{if(typeof he!="number"||he<0||he>65535)return H.destroy(new Error(`Invalid ${ue}: ${he}`)),!1;Ee+=3;break}case"int32":{if(typeof he!="number"||he<0||he>4294967295)return H.destroy(new Error(`Invalid ${ue}: ${he}`)),!1;Ee+=5;break}case"var":{if(typeof he!="number"||he<0||he>268435455)return H.destroy(new Error(`Invalid ${ue}: ${he}`)),!1;Ee+=1+n.byteLength(p(he));break}case"string":{if(typeof he!="string")return H.destroy(new Error(`Invalid ${ue}: ${he}`)),!1;Ee+=3+n.byteLength(he.toString());break}case"pair":{if(typeof he!="object")return H.destroy(new Error(`Invalid ${ue}: ${he}`)),!1;Ee+=Object.getOwnPropertyNames(he).reduce((G,ee)=>{let re=he[ee];return Array.isArray(re)?G+=re.reduce((xe,ve)=>(xe+=3+n.byteLength(ee.toString())+2+n.byteLength(ve.toString()),xe),0):G+=3+n.byteLength(ee.toString())+2+n.byteLength(he[ee].toString()),G},0);break}default:return H.destroy(new Error(`Invalid property ${ue}: ${he}`)),!1}return Ee}if(U)for(let ue in U){let he=0,ye=0,Ee=U[ue];if(Array.isArray(Ee))for(let G=0;G<Ee.length;G++){if(ye=_e(ue,Ee[G]),!ye)return!1;he+=ye}else{if(ye=_e(ue,Ee),!ye)return!1;he=ye}if(!he)return!1;le+=he}return{length:n.byteLength(p(le))+le,write(){pe(H,U,le)}}}function N(H,U,le,_e){let ue=["reasonString","userProperties"],he=le&&le.properties&&le.properties.maximumPacketSize?le.properties.maximumPacketSize:0,ye=te(H,U);if(he)for(;_e+ye.length>he;){let Ee=ue.shift();if(Ee&&U[Ee])delete U[Ee],ye=te(H,U);else return!1}return ye}function ie(H,U,le){switch(r.propertiesTypes[U]){case"byte":{H.write(n.from([r.properties[U]])),H.write(n.from([+le]));break}case"int8":{H.write(n.from([r.properties[U]])),H.write(n.from([le]));break}case"binary":{H.write(n.from([r.properties[U]])),W(H,le);break}case"int16":{H.write(n.from([r.properties[U]])),g(H,le);break}case"int32":{H.write(n.from([r.properties[U]])),J(H,le);break}case"var":{H.write(n.from([r.properties[U]])),K(H,le);break}case"string":{H.write(n.from([r.properties[U]])),Z(H,le);break}case"pair":{Object.getOwnPropertyNames(le).forEach(_e=>{let ue=le[_e];Array.isArray(ue)?ue.forEach(he=>{H.write(n.from([r.properties[U]])),de(H,_e.toString(),he.toString())}):(H.write(n.from([r.properties[U]])),de(H,_e.toString(),ue.toString()))});break}default:return H.destroy(new Error(`Invalid property ${U} value: ${le}`)),!1}}function pe(H,U,le){K(H,le);for(let _e in U)if(Object.prototype.hasOwnProperty.call(U,_e)&&U[_e]!==null){let ue=U[_e];if(Array.isArray(ue))for(let he=0;he<ue.length;he++)ie(H,_e,ue[he]);else ie(H,_e,ue)}}function Be(H){return H?H instanceof n?H.length:n.byteLength(H):0}function ge(H){return typeof H=="string"||H instanceof n}e.exports=C}),AD=Le((t,e)=>{Pe(),Ie(),Ce();var r=FR(),{EventEmitter:n}=($u(),Nt(dl)),{Buffer:i}=(ln(),Nt(an));function s(a,l){let u=new o;return r(a,u,l),u.concat()}var o=class extends n{constructor(){super(),this._array=new Array(20),this._i=0}write(a){return this._array[this._i++]=a,!0}concat(){let a=0,l=new Array(this._array.length),u=this._array,d=0,f;for(f=0;f<u.length&&u[f]!==void 0;f++)typeof u[f]!="string"?l[f]=u[f].length:l[f]=i.byteLength(u[f]),a+=l[f];let p=i.allocUnsafe(a);for(f=0;f<u.length&&u[f]!==void 0;f++)typeof u[f]!="string"?(u[f].copy(p,d),d+=l[f]):(p.write(u[f],d),d+=l[f]);return p}destroy(a){a&&this.emit("error",a)}};e.exports=s}),CD=Le(t=>{Pe(),Ie(),Ce(),t.parser=ED().parser,t.generate=AD(),t.writeToStream=FR()}),UR=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=class{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){let r=this.nextId++;return this.nextId===65536&&(this.nextId=1),r}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(r){return!0}deallocate(r){}clear(){}};t.default=e}),ID=Le((t,e)=>{Pe(),Ie(),Ce(),e.exports=n;function r(s){return s instanceof ku?ku.from(s):new s.constructor(s.buffer.slice(),s.byteOffset,s.length)}function n(s){if(s=s||{},s.circles)return i(s);return s.proto?l:a;function o(u,d){for(var f=Object.keys(u),p=new Array(f.length),m=0;m<f.length;m++){var g=f[m],v=u[g];typeof v!="object"||v===null?p[g]=v:v instanceof Date?p[g]=new Date(v):ArrayBuffer.isView(v)?p[g]=r(v):p[g]=d(v)}return p}function a(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return o(u,a);if(u instanceof Map)return new Map(o(Array.from(u),a));if(u instanceof Set)return new Set(o(Array.from(u),a));var d={};for(var f in u)if(Object.hasOwnProperty.call(u,f)!==!1){var p=u[f];typeof p!="object"||p===null?d[f]=p:p instanceof Date?d[f]=new Date(p):p instanceof Map?d[f]=new Map(o(Array.from(p),a)):p instanceof Set?d[f]=new Set(o(Array.from(p),a)):ArrayBuffer.isView(p)?d[f]=r(p):d[f]=a(p)}return d}function l(u){if(typeof u!="object"||u===null)return u;if(u instanceof Date)return new Date(u);if(Array.isArray(u))return o(u,l);if(u instanceof Map)return new Map(o(Array.from(u),l));if(u instanceof Set)return new Set(o(Array.from(u),l));var d={};for(var f in u){var p=u[f];typeof p!="object"||p===null?d[f]=p:p instanceof Date?d[f]=new Date(p):p instanceof Map?d[f]=new Map(o(Array.from(p),l)):p instanceof Set?d[f]=new Set(o(Array.from(p),l)):ArrayBuffer.isView(p)?d[f]=r(p):d[f]=l(p)}return d}}function i(s){var o=[],a=[];return s.proto?d:u;function l(f,p){for(var m=Object.keys(f),g=new Array(m.length),v=0;v<m.length;v++){var C=m[v],S=f[C];if(typeof S!="object"||S===null)g[C]=S;else if(S instanceof Date)g[C]=new Date(S);else if(ArrayBuffer.isView(S))g[C]=r(S);else{var x=o.indexOf(S);x!==-1?g[C]=a[x]:g[C]=p(S)}}return g}function u(f){if(typeof f!="object"||f===null)return f;if(f instanceof Date)return new Date(f);if(Array.isArray(f))return l(f,u);if(f instanceof Map)return new Map(l(Array.from(f),u));if(f instanceof Set)return new Set(l(Array.from(f),u));var p={};o.push(f),a.push(p);for(var m in f)if(Object.hasOwnProperty.call(f,m)!==!1){var g=f[m];if(typeof g!="object"||g===null)p[m]=g;else if(g instanceof Date)p[m]=new Date(g);else if(g instanceof Map)p[m]=new Map(l(Array.from(g),u));else if(g instanceof Set)p[m]=new Set(l(Array.from(g),u));else if(ArrayBuffer.isView(g))p[m]=r(g);else{var v=o.indexOf(g);v!==-1?p[m]=a[v]:p[m]=u(g)}}return o.pop(),a.pop(),p}function d(f){if(typeof f!="object"||f===null)return f;if(f instanceof Date)return new Date(f);if(Array.isArray(f))return l(f,d);if(f instanceof Map)return new Map(l(Array.from(f),d));if(f instanceof Set)return new Set(l(Array.from(f),d));var p={};o.push(f),a.push(p);for(var m in f){var g=f[m];if(typeof g!="object"||g===null)p[m]=g;else if(g instanceof Date)p[m]=new Date(g);else if(g instanceof Map)p[m]=new Map(l(Array.from(g),d));else if(g instanceof Set)p[m]=new Set(l(Array.from(g),d));else if(ArrayBuffer.isView(g))p[m]=r(g);else{var v=o.indexOf(g);v!==-1?p[m]=a[v]:p[m]=d(g)}}return o.pop(),a.pop(),p}}}),PD=Le((t,e)=>{Pe(),Ie(),Ce(),e.exports=ID()()}),RD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0}),t.validateTopics=t.validateTopic=void 0;function e(n){let i=n.split("/");for(let s=0;s<i.length;s++)if(i[s]!=="+"){if(i[s]==="#")return s===i.length-1;if(i[s].indexOf("+")!==-1||i[s].indexOf("#")!==-1)return!1}return!0}t.validateTopic=e;function r(n){if(n.length===0)return"empty_topic_list";for(let i=0;i<n.length;i++)if(!e(n[i]))return n[i];return null}t.validateTopics=r}),jR=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=fl(),r={objectMode:!0},n={clean:!0},i=class{constructor(s){this.options=s||{},this.options=Object.assign(Object.assign({},n),s),this._inflights=new Map}put(s,o){return this._inflights.set(s.messageId,s),o&&o(),this}createStream(){let s=new e.Readable(r),o=[],a=!1,l=0;return this._inflights.forEach((u,d)=>{o.push(u)}),s._read=()=>{!a&&l<o.length?s.push(o[l++]):s.push(null)},s.destroy=u=>{if(!a)return a=!0,setTimeout(()=>{s.emit("close")},0),s},s}del(s,o){let a=this._inflights.get(s.messageId);return a?(this._inflights.delete(s.messageId),o(null,a)):o&&o(new Error("missing packet")),this}get(s,o){let a=this._inflights.get(s.messageId);return a?o(null,a):o&&o(new Error("missing packet")),this}close(s){this.options.clean&&(this._inflights=null),s&&s()}};t.default=i}),kD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=[0,16,128,131,135,144,145,151,153],r=(n,i,s)=>{n.log("handlePublish: packet %o",i),s=typeof s<"u"?s:n.noop;let o=i.topic.toString(),a=i.payload,{qos:l}=i,{messageId:u}=i,{options:d}=n;if(n.options.protocolVersion===5){let f;if(i.properties&&(f=i.properties.topicAlias),typeof f<"u")if(o.length===0)if(f>0&&f<=65535){let p=n.topicAliasRecv.getTopicByAlias(f);if(p)o=p,n.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",o,f);else{n.log("handlePublish :: unregistered topic alias. alias: %d",f),n.emit("error",new Error("Received unregistered Topic Alias"));return}}else{n.log("handlePublish :: topic alias out of range. alias: %d",f),n.emit("error",new Error("Received Topic Alias is out of range"));return}else if(n.topicAliasRecv.put(o,f))n.log("handlePublish :: registered topic: %s - alias: %d",o,f);else{n.log("handlePublish :: topic alias out of range. alias: %d",f),n.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(n.log("handlePublish: qos %d",l),l){case 2:{d.customHandleAcks(o,a,i,(f,p)=>{if(typeof f=="number"&&(p=f,f=null),f)return n.emit("error",f);if(e.indexOf(p)===-1)return n.emit("error",new Error("Wrong reason code for pubrec"));p?n._sendPacket({cmd:"pubrec",messageId:u,reasonCode:p},s):n.incomingStore.put(i,()=>{n._sendPacket({cmd:"pubrec",messageId:u},s)})});break}case 1:{d.customHandleAcks(o,a,i,(f,p)=>{if(typeof f=="number"&&(p=f,f=null),f)return n.emit("error",f);if(e.indexOf(p)===-1)return n.emit("error",new Error("Wrong reason code for puback"));p||n.emit("message",o,a,i),n.handleMessage(i,m=>{if(m)return s&&s(m);n._sendPacket({cmd:"puback",messageId:u,reasonCode:p},s)})});break}case 0:n.emit("message",o,a,i),n.handleMessage(i,s);break;default:n.log("handlePublish: unknown QoS. Doing nothing.");break}};t.default=r}),Fc=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0}),t.nextTick=t.applyMixin=t.ErrorWithReasonCode=void 0;var e=class $R extends Error{constructor(i,s){super(i),this.code=s,Object.setPrototypeOf(this,$R.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}};t.ErrorWithReasonCode=e;function r(n,i,s=!1){var o;let a=[i];for(;;){let l=a[0],u=Object.getPrototypeOf(l);if(u!=null&&u.prototype)a.unshift(u);else break}for(let l of a)for(let u of Object.getOwnPropertyNames(l.prototype))(s||u!=="constructor")&&Object.defineProperty(n.prototype,u,(o=Object.getOwnPropertyDescriptor(l.prototype,u))!==null&&o!==void 0?o:Object.create(null))}t.applyMixin=r,t.nextTick=gr?gr.nextTick:n=>{setTimeout(n,0)}}),Bm=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=void 0,t.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};var e=(r,n)=>{let{messageId:i}=n,s=n.cmd,o=null,a=r.outgoing[i]?r.outgoing[i].cb:null,l;if(!a){r.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(r.log("_handleAck :: packet type",s),s){case"pubcomp":case"puback":{let u=n.reasonCode;u&&u>0&&u!==16?(l=new Error(`Publish error: ${t.ReasonCodes[u]}`),l.code=u,r._removeOutgoingAndStoreMessage(i,()=>{a(l,n)})):r._removeOutgoingAndStoreMessage(i,a);break}case"pubrec":{o={cmd:"pubrel",qos:2,messageId:i};let u=n.reasonCode;u&&u>0&&u!==16?(l=new Error(`Publish error: ${t.ReasonCodes[u]}`),l.code=u,r._removeOutgoingAndStoreMessage(i,()=>{a(l,n)})):r._sendPacket(o);break}case"suback":{delete r.outgoing[i],r.messageIdProvider.deallocate(i);let u=n.granted;for(let d=0;d<u.length;d++)if(u[d]&128){let f=r.messageIdToTopic[i];f&&f.forEach(p=>{delete r._resubscribeTopics[p]})}delete r.messageIdToTopic[i],r._invokeStoreProcessingQueue(),a(null,n);break}case"unsuback":{delete r.outgoing[i],r.messageIdProvider.deallocate(i),r._invokeStoreProcessingQueue(),a(null);break}default:r.emit("error",new Error("unrecognized packet type"))}r.disconnecting&&Object.keys(r.outgoing).length===0&&r.emit("outgoingEmpty")};t.default=e}),OD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=Fc(),r=Bm(),n=(i,s)=>{let{options:o}=i,a=o.protocolVersion,l=a===5?s.reasonCode:s.returnCode;if(a!==5){let u=new e.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${a}`,l);i.emit("error",u);return}i.handleAuth(s,(u,d)=>{if(u){i.emit("error",u);return}if(l===24)i.reconnecting=!1,i._sendPacket(d);else{let f=new e.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[l]}`,l);i.emit("error",f)}})};t.default=n}),MD=Le(t=>{var m,g,v,C,S,x,b,I,O,k,R,M,$,Y,se,B,F,K,Z,de,oe,D,J,W,te,N,Q1,pe,Be,ge,H,U,zR,_e,ue,he,ye,Co,G,Io,re,Z1,ve,Zf,me,Jf,He,Gt,ft,J1,_,Dh,j;Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;var e=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,r=new Set,n=typeof gr=="object"&&gr?gr:{},i=(V,L,X,ce)=>{typeof n.emitWarning=="function"?n.emitWarning(V,L,X,ce):console.error(`[${X}] ${L}: ${V}`)},s=globalThis.AbortController,o=globalThis.AbortSignal;if(typeof s>"u"){o=class{constructor(){Jt(this,"onabort");Jt(this,"_onabort",[]);Jt(this,"reason");Jt(this,"aborted",!1)}addEventListener(X,ce){this._onabort.push(ce)}},s=class{constructor(){Jt(this,"signal",new o);L()}abort(X){var ce,Oe;if(!this.signal.aborted){this.signal.reason=X,this.signal.aborted=!0;for(let Se of this.signal._onabort)Se(X);(Oe=(ce=this.signal).onabort)==null||Oe.call(ce,X)}}};let V=((m=n.env)==null?void 0:m.LRU_CACHE_IGNORE_AC_WARNING)!=="1",L=()=>{V&&(V=!1,i("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",L))}}var a=V=>!r.has(V),l=V=>V&&V===Math.floor(V)&&V>0&&isFinite(V),u=V=>l(V)?V<=Math.pow(2,8)?Uint8Array:V<=Math.pow(2,16)?Uint16Array:V<=Math.pow(2,32)?Uint32Array:V<=Number.MAX_SAFE_INTEGER?d:null:null,d=class extends Array{constructor(V){super(V),this.fill(0)}},f=(g=class{constructor(L,X){Jt(this,"heap");Jt(this,"length");if(!q(g,v))throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new X(L),this.length=0}static create(L){let X=u(L);if(!X)return[];at(g,v,!0);let ce=new g(L,X);return at(g,v,!1),ce}push(L){this.heap[this.length++]=L}pop(){return this.heap[--this.length]}},v=new WeakMap,ct(g,v,!1),g),p=(j=class{constructor(L){ct(this,N);ct(this,U);ct(this,ye);ct(this,G);ct(this,re);ct(this,ve);ct(this,me);ct(this,He);ct(this,ft);ct(this,_);ct(this,C,void 0);ct(this,S,void 0);ct(this,x,void 0);ct(this,b,void 0);ct(this,I,void 0);Jt(this,"ttl");Jt(this,"ttlResolution");Jt(this,"ttlAutopurge");Jt(this,"updateAgeOnGet");Jt(this,"updateAgeOnHas");Jt(this,"allowStale");Jt(this,"noDisposeOnSet");Jt(this,"noUpdateTTL");Jt(this,"maxEntrySize");Jt(this,"sizeCalculation");Jt(this,"noDeleteOnFetchRejection");Jt(this,"noDeleteOnStaleGet");Jt(this,"allowStaleOnFetchAbort");Jt(this,"allowStaleOnFetchRejection");Jt(this,"ignoreFetchAbort");ct(this,O,void 0);ct(this,k,void 0);ct(this,R,void 0);ct(this,M,void 0);ct(this,$,void 0);ct(this,Y,void 0);ct(this,se,void 0);ct(this,B,void 0);ct(this,F,void 0);ct(this,K,void 0);ct(this,Z,void 0);ct(this,de,void 0);ct(this,oe,void 0);ct(this,D,void 0);ct(this,J,void 0);ct(this,W,void 0);ct(this,te,void 0);ct(this,pe,()=>{});ct(this,Be,()=>{});ct(this,ge,()=>{});ct(this,H,()=>!1);ct(this,_e,L=>{});ct(this,ue,(L,X,ce)=>{});ct(this,he,(L,X,ce,Oe)=>{if(ce||Oe)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0});let{max:X=0,ttl:ce,ttlResolution:Oe=1,ttlAutopurge:Se,updateAgeOnGet:Ne,updateAgeOnHas:Ve,allowStale:st,dispose:Kt,disposeAfter:qr,noDisposeOnSet:Ct,noUpdateTTL:Yr,maxSize:or=0,maxEntrySize:Qt=0,sizeCalculation:jt,fetchMethod:Ir,noDeleteOnFetchRejection:lt,noDeleteOnStaleGet:Dt,allowStaleOnFetchRejection:Ur,allowStaleOnFetchAbort:_r,ignoreFetchAbort:kn}=L;if(X!==0&&!l(X))throw new TypeError("max option must be a nonnegative integer");let Ss=X?u(X):Array;if(!Ss)throw new Error("invalid max value: "+X);if(at(this,C,X),at(this,S,or),this.maxEntrySize=Qt||q(this,S),this.sizeCalculation=jt,this.sizeCalculation){if(!q(this,S)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(Ir!==void 0&&typeof Ir!="function")throw new TypeError("fetchMethod must be a function if specified");if(at(this,I,Ir),at(this,W,!!Ir),at(this,R,new Map),at(this,M,new Array(X).fill(void 0)),at(this,$,new Array(X).fill(void 0)),at(this,Y,new Ss(X)),at(this,se,new Ss(X)),at(this,B,0),at(this,F,0),at(this,K,f.create(X)),at(this,O,0),at(this,k,0),typeof Kt=="function"&&at(this,x,Kt),typeof qr=="function"?(at(this,b,qr),at(this,Z,[])):(at(this,b,void 0),at(this,Z,void 0)),at(this,J,!!q(this,x)),at(this,te,!!q(this,b)),this.noDisposeOnSet=!!Ct,this.noUpdateTTL=!!Yr,this.noDeleteOnFetchRejection=!!lt,this.allowStaleOnFetchRejection=!!Ur,this.allowStaleOnFetchAbort=!!_r,this.ignoreFetchAbort=!!kn,this.maxEntrySize!==0){if(q(this,S)!==0&&!l(q(this,S)))throw new TypeError("maxSize must be a positive integer if specified");if(!l(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");nt(this,U,zR).call(this)}if(this.allowStale=!!st,this.noDeleteOnStaleGet=!!Dt,this.updateAgeOnGet=!!Ne,this.updateAgeOnHas=!!Ve,this.ttlResolution=l(Oe)||Oe===0?Oe:1,this.ttlAutopurge=!!Se,this.ttl=ce||0,this.ttl){if(!l(this.ttl))throw new TypeError("ttl must be a positive integer if specified");nt(this,N,Q1).call(this)}if(q(this,C)===0&&this.ttl===0&&q(this,S)===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!q(this,C)&&!q(this,S)){let di="LRU_CACHE_UNBOUNDED";a(di)&&(r.add(di),i("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",di,j))}}static unsafeExposeInternals(L){return{starts:q(L,oe),ttls:q(L,D),sizes:q(L,de),keyMap:q(L,R),keyList:q(L,M),valList:q(L,$),next:q(L,Y),prev:q(L,se),get head(){return q(L,B)},get tail(){return q(L,F)},free:q(L,K),isBackgroundFetch:X=>{var ce;return nt(ce=L,He,Gt).call(ce,X)},backgroundFetch:(X,ce,Oe,Se)=>{var Ne;return nt(Ne=L,me,Jf).call(Ne,X,ce,Oe,Se)},moveToTail:X=>{var ce;return nt(ce=L,_,Dh).call(ce,X)},indexes:X=>{var ce;return nt(ce=L,ye,Co).call(ce,X)},rindexes:X=>{var ce;return nt(ce=L,G,Io).call(ce,X)},isStale:X=>{var ce;return q(ce=L,H).call(ce,X)}}}get max(){return q(this,C)}get maxSize(){return q(this,S)}get calculatedSize(){return q(this,k)}get size(){return q(this,O)}get fetchMethod(){return q(this,I)}get dispose(){return q(this,x)}get disposeAfter(){return q(this,b)}getRemainingTTL(L){return q(this,R).has(L)?1/0:0}*entries(){for(let L of nt(this,ye,Co).call(this))q(this,$)[L]!==void 0&&q(this,M)[L]!==void 0&&!nt(this,He,Gt).call(this,q(this,$)[L])&&(yield[q(this,M)[L],q(this,$)[L]])}*rentries(){for(let L of nt(this,G,Io).call(this))q(this,$)[L]!==void 0&&q(this,M)[L]!==void 0&&!nt(this,He,Gt).call(this,q(this,$)[L])&&(yield[q(this,M)[L],q(this,$)[L]])}*keys(){for(let L of nt(this,ye,Co).call(this)){let X=q(this,M)[L];X!==void 0&&!nt(this,He,Gt).call(this,q(this,$)[L])&&(yield X)}}*rkeys(){for(let L of nt(this,G,Io).call(this)){let X=q(this,M)[L];X!==void 0&&!nt(this,He,Gt).call(this,q(this,$)[L])&&(yield X)}}*values(){for(let L of nt(this,ye,Co).call(this))q(this,$)[L]!==void 0&&!nt(this,He,Gt).call(this,q(this,$)[L])&&(yield q(this,$)[L])}*rvalues(){for(let L of nt(this,G,Io).call(this))q(this,$)[L]!==void 0&&!nt(this,He,Gt).call(this,q(this,$)[L])&&(yield q(this,$)[L])}[Symbol.iterator](){return this.entries()}find(L,X={}){for(let ce of nt(this,ye,Co).call(this)){let Oe=q(this,$)[ce],Se=nt(this,He,Gt).call(this,Oe)?Oe.__staleWhileFetching:Oe;if(Se!==void 0&&L(Se,q(this,M)[ce],this))return this.get(q(this,M)[ce],X)}}forEach(L,X=this){for(let ce of nt(this,ye,Co).call(this)){let Oe=q(this,$)[ce],Se=nt(this,He,Gt).call(this,Oe)?Oe.__staleWhileFetching:Oe;Se!==void 0&&L.call(X,Se,q(this,M)[ce],this)}}rforEach(L,X=this){for(let ce of nt(this,G,Io).call(this)){let Oe=q(this,$)[ce],Se=nt(this,He,Gt).call(this,Oe)?Oe.__staleWhileFetching:Oe;Se!==void 0&&L.call(X,Se,q(this,M)[ce],this)}}purgeStale(){let L=!1;for(let X of nt(this,G,Io).call(this,{allowStale:!0}))q(this,H).call(this,X)&&(this.delete(q(this,M)[X]),L=!0);return L}dump(){let L=[];for(let X of nt(this,ye,Co).call(this,{allowStale:!0})){let ce=q(this,M)[X],Oe=q(this,$)[X],Se=nt(this,He,Gt).call(this,Oe)?Oe.__staleWhileFetching:Oe;if(Se===void 0||ce===void 0)continue;let Ne={value:Se};if(q(this,D)&&q(this,oe)){Ne.ttl=q(this,D)[X];let Ve=e.now()-q(this,oe)[X];Ne.start=Math.floor(Date.now()-Ve)}q(this,de)&&(Ne.size=q(this,de)[X]),L.unshift([ce,Ne])}return L}load(L){this.clear();for(let[X,ce]of L){if(ce.start){let Oe=Date.now()-ce.start;ce.start=e.now()-Oe}this.set(X,ce.value,ce)}}set(L,X,ce={}){var Yr,or,Qt,jt,Ir;if(X===void 0)return this.delete(L),this;let{ttl:Oe=this.ttl,start:Se,noDisposeOnSet:Ne=this.noDisposeOnSet,sizeCalculation:Ve=this.sizeCalculation,status:st}=ce,{noUpdateTTL:Kt=this.noUpdateTTL}=ce,qr=q(this,he).call(this,L,X,ce.size||0,Ve);if(this.maxEntrySize&&qr>this.maxEntrySize)return st&&(st.set="miss",st.maxEntrySizeExceeded=!0),this.delete(L),this;let Ct=q(this,O)===0?void 0:q(this,R).get(L);if(Ct===void 0)Ct=q(this,O)===0?q(this,F):q(this,K).length!==0?q(this,K).pop():q(this,O)===q(this,C)?nt(this,ve,Zf).call(this,!1):q(this,O),q(this,M)[Ct]=L,q(this,$)[Ct]=X,q(this,R).set(L,Ct),q(this,Y)[q(this,F)]=Ct,q(this,se)[Ct]=q(this,F),at(this,F,Ct),Dd(this,O)._++,q(this,ue).call(this,Ct,qr,st),st&&(st.set="add"),Kt=!1;else{nt(this,_,Dh).call(this,Ct);let lt=q(this,$)[Ct];if(X!==lt){if(q(this,W)&&nt(this,He,Gt).call(this,lt)){lt.__abortController.abort(new Error("replaced"));let{__staleWhileFetching:Dt}=lt;Dt!==void 0&&!Ne&&(q(this,J)&&((Yr=q(this,x))==null||Yr.call(this,Dt,L,"set")),q(this,te)&&((or=q(this,Z))==null||or.push([Dt,L,"set"])))}else Ne||(q(this,J)&&((Qt=q(this,x))==null||Qt.call(this,lt,L,"set")),q(this,te)&&((jt=q(this,Z))==null||jt.push([lt,L,"set"])));if(q(this,_e).call(this,Ct),q(this,ue).call(this,Ct,qr,st),q(this,$)[Ct]=X,st){st.set="replace";let Dt=lt&&nt(this,He,Gt).call(this,lt)?lt.__staleWhileFetching:lt;Dt!==void 0&&(st.oldValue=Dt)}}else st&&(st.set="update")}if(Oe!==0&&!q(this,D)&&nt(this,N,Q1).call(this),q(this,D)&&(Kt||q(this,ge).call(this,Ct,Oe,Se),st&&q(this,Be).call(this,st,Ct)),!Ne&&q(this,te)&&q(this,Z)){let lt=q(this,Z),Dt;for(;Dt=lt==null?void 0:lt.shift();)(Ir=q(this,b))==null||Ir.call(this,...Dt)}return this}pop(){var L;try{for(;q(this,O);){let X=q(this,$)[q(this,B)];if(nt(this,ve,Zf).call(this,!0),nt(this,He,Gt).call(this,X)){if(X.__staleWhileFetching)return X.__staleWhileFetching}else if(X!==void 0)return X}}finally{if(q(this,te)&&q(this,Z)){let X=q(this,Z),ce;for(;ce=X==null?void 0:X.shift();)(L=q(this,b))==null||L.call(this,...ce)}}}has(L,X={}){let{updateAgeOnHas:ce=this.updateAgeOnHas,status:Oe}=X,Se=q(this,R).get(L);if(Se!==void 0){let Ne=q(this,$)[Se];if(nt(this,He,Gt).call(this,Ne)&&Ne.__staleWhileFetching===void 0)return!1;if(q(this,H).call(this,Se))Oe&&(Oe.has="stale",q(this,Be).call(this,Oe,Se));else return ce&&q(this,pe).call(this,Se),Oe&&(Oe.has="hit",q(this,Be).call(this,Oe,Se)),!0}else Oe&&(Oe.has="miss");return!1}peek(L,X={}){let{allowStale:ce=this.allowStale}=X,Oe=q(this,R).get(L);if(Oe!==void 0&&(ce||!q(this,H).call(this,Oe))){let Se=q(this,$)[Oe];return nt(this,He,Gt).call(this,Se)?Se.__staleWhileFetching:Se}}async fetch(L,X={}){let{allowStale:ce=this.allowStale,updateAgeOnGet:Oe=this.updateAgeOnGet,noDeleteOnStaleGet:Se=this.noDeleteOnStaleGet,ttl:Ne=this.ttl,noDisposeOnSet:Ve=this.noDisposeOnSet,size:st=0,sizeCalculation:Kt=this.sizeCalculation,noUpdateTTL:qr=this.noUpdateTTL,noDeleteOnFetchRejection:Ct=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:Yr=this.allowStaleOnFetchRejection,ignoreFetchAbort:or=this.ignoreFetchAbort,allowStaleOnFetchAbort:Qt=this.allowStaleOnFetchAbort,context:jt,forceRefresh:Ir=!1,status:lt,signal:Dt}=X;if(!q(this,W))return lt&&(lt.fetch="get"),this.get(L,{allowStale:ce,updateAgeOnGet:Oe,noDeleteOnStaleGet:Se,status:lt});let Ur={allowStale:ce,updateAgeOnGet:Oe,noDeleteOnStaleGet:Se,ttl:Ne,noDisposeOnSet:Ve,size:st,sizeCalculation:Kt,noUpdateTTL:qr,noDeleteOnFetchRejection:Ct,allowStaleOnFetchRejection:Yr,allowStaleOnFetchAbort:Qt,ignoreFetchAbort:or,status:lt,signal:Dt},_r=q(this,R).get(L);if(_r===void 0){lt&&(lt.fetch="miss");let kn=nt(this,me,Jf).call(this,L,_r,Ur,jt);return kn.__returned=kn}else{let kn=q(this,$)[_r];if(nt(this,He,Gt).call(this,kn)){let Vc=ce&&kn.__staleWhileFetching!==void 0;return lt&&(lt.fetch="inflight",Vc&&(lt.returnedStale=!0)),Vc?kn.__staleWhileFetching:kn.__returned=kn}let Ss=q(this,H).call(this,_r);if(!Ir&&!Ss)return lt&&(lt.fetch="hit"),nt(this,_,Dh).call(this,_r),Oe&&q(this,pe).call(this,_r),lt&&q(this,Be).call(this,lt,_r),kn;let di=nt(this,me,Jf).call(this,L,_r,Ur,jt),gl=di.__staleWhileFetching!==void 0&&ce;return lt&&(lt.fetch=Ss?"stale":"refresh",gl&&Ss&&(lt.returnedStale=!0)),gl?di.__staleWhileFetching:di.__returned=di}}get(L,X={}){let{allowStale:ce=this.allowStale,updateAgeOnGet:Oe=this.updateAgeOnGet,noDeleteOnStaleGet:Se=this.noDeleteOnStaleGet,status:Ne}=X,Ve=q(this,R).get(L);if(Ve!==void 0){let st=q(this,$)[Ve],Kt=nt(this,He,Gt).call(this,st);return Ne&&q(this,Be).call(this,Ne,Ve),q(this,H).call(this,Ve)?(Ne&&(Ne.get="stale"),Kt?(Ne&&ce&&st.__staleWhileFetching!==void 0&&(Ne.returnedStale=!0),ce?st.__staleWhileFetching:void 0):(Se||this.delete(L),Ne&&ce&&(Ne.returnedStale=!0),ce?st:void 0)):(Ne&&(Ne.get="hit"),Kt?st.__staleWhileFetching:(nt(this,_,Dh).call(this,Ve),Oe&&q(this,pe).call(this,Ve),st))}else Ne&&(Ne.get="miss")}delete(L){var ce,Oe,Se,Ne;let X=!1;if(q(this,O)!==0){let Ve=q(this,R).get(L);if(Ve!==void 0)if(X=!0,q(this,O)===1)this.clear();else{q(this,_e).call(this,Ve);let st=q(this,$)[Ve];nt(this,He,Gt).call(this,st)?st.__abortController.abort(new Error("deleted")):(q(this,J)||q(this,te))&&(q(this,J)&&((ce=q(this,x))==null||ce.call(this,st,L,"delete")),q(this,te)&&((Oe=q(this,Z))==null||Oe.push([st,L,"delete"]))),q(this,R).delete(L),q(this,M)[Ve]=void 0,q(this,$)[Ve]=void 0,Ve===q(this,F)?at(this,F,q(this,se)[Ve]):Ve===q(this,B)?at(this,B,q(this,Y)[Ve]):(q(this,Y)[q(this,se)[Ve]]=q(this,Y)[Ve],q(this,se)[q(this,Y)[Ve]]=q(this,se)[Ve]),Dd(this,O)._--,q(this,K).push(Ve)}}if(q(this,te)&&((Se=q(this,Z))!=null&&Se.length)){let Ve=q(this,Z),st;for(;st=Ve==null?void 0:Ve.shift();)(Ne=q(this,b))==null||Ne.call(this,...st)}return X}clear(){var L,X,ce;for(let Oe of nt(this,G,Io).call(this,{allowStale:!0})){let Se=q(this,$)[Oe];if(nt(this,He,Gt).call(this,Se))Se.__abortController.abort(new Error("deleted"));else{let Ne=q(this,M)[Oe];q(this,J)&&((L=q(this,x))==null||L.call(this,Se,Ne,"delete")),q(this,te)&&((X=q(this,Z))==null||X.push([Se,Ne,"delete"]))}}if(q(this,R).clear(),q(this,$).fill(void 0),q(this,M).fill(void 0),q(this,D)&&q(this,oe)&&(q(this,D).fill(0),q(this,oe).fill(0)),q(this,de)&&q(this,de).fill(0),at(this,B,0),at(this,F,0),q(this,K).length=0,at(this,k,0),at(this,O,0),q(this,te)&&q(this,Z)){let Oe=q(this,Z),Se;for(;Se=Oe==null?void 0:Oe.shift();)(ce=q(this,b))==null||ce.call(this,...Se)}}},C=new WeakMap,S=new WeakMap,x=new WeakMap,b=new WeakMap,I=new WeakMap,O=new WeakMap,k=new WeakMap,R=new WeakMap,M=new WeakMap,$=new WeakMap,Y=new WeakMap,se=new WeakMap,B=new WeakMap,F=new WeakMap,K=new WeakMap,Z=new WeakMap,de=new WeakMap,oe=new WeakMap,D=new WeakMap,J=new WeakMap,W=new WeakMap,te=new WeakMap,N=new WeakSet,Q1=function(){let L=new d(q(this,C)),X=new d(q(this,C));at(this,D,L),at(this,oe,X),at(this,ge,(Se,Ne,Ve=e.now())=>{if(X[Se]=Ne!==0?Ve:0,L[Se]=Ne,Ne!==0&&this.ttlAutopurge){let st=setTimeout(()=>{q(this,H).call(this,Se)&&this.delete(q(this,M)[Se])},Ne+1);st.unref&&st.unref()}}),at(this,pe,Se=>{X[Se]=L[Se]!==0?e.now():0}),at(this,Be,(Se,Ne)=>{if(L[Ne]){let Ve=L[Ne],st=X[Ne];Se.ttl=Ve,Se.start=st,Se.now=ce||Oe();let Kt=Se.now-st;Se.remainingTTL=Ve-Kt}});let ce=0,Oe=()=>{let Se=e.now();if(this.ttlResolution>0){ce=Se;let Ne=setTimeout(()=>ce=0,this.ttlResolution);Ne.unref&&Ne.unref()}return Se};this.getRemainingTTL=Se=>{let Ne=q(this,R).get(Se);if(Ne===void 0)return 0;let Ve=L[Ne],st=X[Ne];if(Ve===0||st===0)return 1/0;let Kt=(ce||Oe())-st;return Ve-Kt},at(this,H,Se=>L[Se]!==0&&X[Se]!==0&&(ce||Oe())-X[Se]>L[Se])},pe=new WeakMap,Be=new WeakMap,ge=new WeakMap,H=new WeakMap,U=new WeakSet,zR=function(){let L=new d(q(this,C));at(this,k,0),at(this,de,L),at(this,_e,X=>{at(this,k,q(this,k)-L[X]),L[X]=0}),at(this,he,(X,ce,Oe,Se)=>{if(nt(this,He,Gt).call(this,ce))return 0;if(!l(Oe))if(Se){if(typeof Se!="function")throw new TypeError("sizeCalculation must be a function");if(Oe=Se(ce,X),!l(Oe))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return Oe}),at(this,ue,(X,ce,Oe)=>{if(L[X]=ce,q(this,S)){let Se=q(this,S)-L[X];for(;q(this,k)>Se;)nt(this,ve,Zf).call(this,!0)}at(this,k,q(this,k)+L[X]),Oe&&(Oe.entrySize=ce,Oe.totalCalculatedSize=q(this,k))})},_e=new WeakMap,ue=new WeakMap,he=new WeakMap,ye=new WeakSet,Co=function*({allowStale:L=this.allowStale}={}){if(q(this,O))for(let X=q(this,F);!(!nt(this,re,Z1).call(this,X)||((L||!q(this,H).call(this,X))&&(yield X),X===q(this,B)));)X=q(this,se)[X]},G=new WeakSet,Io=function*({allowStale:L=this.allowStale}={}){if(q(this,O))for(let X=q(this,B);!(!nt(this,re,Z1).call(this,X)||((L||!q(this,H).call(this,X))&&(yield X),X===q(this,F)));)X=q(this,Y)[X]},re=new WeakSet,Z1=function(L){return L!==void 0&&q(this,R).get(q(this,M)[L])===L},ve=new WeakSet,Zf=function(L){var Se,Ne;let X=q(this,B),ce=q(this,M)[X],Oe=q(this,$)[X];return q(this,W)&&nt(this,He,Gt).call(this,Oe)?Oe.__abortController.abort(new Error("evicted")):(q(this,J)||q(this,te))&&(q(this,J)&&((Se=q(this,x))==null||Se.call(this,Oe,ce,"evict")),q(this,te)&&((Ne=q(this,Z))==null||Ne.push([Oe,ce,"evict"]))),q(this,_e).call(this,X),L&&(q(this,M)[X]=void 0,q(this,$)[X]=void 0,q(this,K).push(X)),q(this,O)===1?(at(this,B,at(this,F,0)),q(this,K).length=0):at(this,B,q(this,Y)[X]),q(this,R).delete(ce),Dd(this,O)._--,X},me=new WeakSet,Jf=function(L,X,ce,Oe){let Se=X===void 0?void 0:q(this,$)[X];if(nt(this,He,Gt).call(this,Se))return Se;let Ne=new s,{signal:Ve}=ce;Ve==null||Ve.addEventListener("abort",()=>Ne.abort(Ve.reason),{signal:Ne.signal});let st={signal:Ne.signal,options:ce,context:Oe},Kt=(jt,Ir=!1)=>{let{aborted:lt}=Ne.signal,Dt=ce.ignoreFetchAbort&&jt!==void 0;if(ce.status&&(lt&&!Ir?(ce.status.fetchAborted=!0,ce.status.fetchError=Ne.signal.reason,Dt&&(ce.status.fetchAbortIgnored=!0)):ce.status.fetchResolved=!0),lt&&!Dt&&!Ir)return Ct(Ne.signal.reason);let Ur=or;return q(this,$)[X]===or&&(jt===void 0?Ur.__staleWhileFetching?q(this,$)[X]=Ur.__staleWhileFetching:this.delete(L):(ce.status&&(ce.status.fetchUpdated=!0),this.set(L,jt,st.options))),jt},qr=jt=>(ce.status&&(ce.status.fetchRejected=!0,ce.status.fetchError=jt),Ct(jt)),Ct=jt=>{let{aborted:Ir}=Ne.signal,lt=Ir&&ce.allowStaleOnFetchAbort,Dt=lt||ce.allowStaleOnFetchRejection,Ur=Dt||ce.noDeleteOnFetchRejection,_r=or;if(q(this,$)[X]===or&&(!Ur||_r.__staleWhileFetching===void 0?this.delete(L):lt||(q(this,$)[X]=_r.__staleWhileFetching)),Dt)return ce.status&&_r.__staleWhileFetching!==void 0&&(ce.status.returnedStale=!0),_r.__staleWhileFetching;if(_r.__returned===_r)throw jt},Yr=(jt,Ir)=>{var Dt;let lt=(Dt=q(this,I))==null?void 0:Dt.call(this,L,Se,st);lt&&lt instanceof Promise&&lt.then(Ur=>jt(Ur===void 0?void 0:Ur),Ir),Ne.signal.addEventListener("abort",()=>{(!ce.ignoreFetchAbort||ce.allowStaleOnFetchAbort)&&(jt(void 0),ce.allowStaleOnFetchAbort&&(jt=Ur=>Kt(Ur,!0)))})};ce.status&&(ce.status.fetchDispatched=!0);let or=new Promise(Yr).then(Kt,qr),Qt=Object.assign(or,{__abortController:Ne,__staleWhileFetching:Se,__returned:void 0});return X===void 0?(this.set(L,Qt,{...st.options,status:void 0}),X=q(this,R).get(L)):q(this,$)[X]=Qt,Qt},He=new WeakSet,Gt=function(L){if(!q(this,W))return!1;let X=L;return!!X&&X instanceof Promise&&X.hasOwnProperty("__staleWhileFetching")&&X.__abortController instanceof s},ft=new WeakSet,J1=function(L,X){q(this,se)[X]=L,q(this,Y)[L]=X},_=new WeakSet,Dh=function(L){L!==q(this,F)&&(L===q(this,B)?at(this,B,q(this,Y)[L]):nt(this,ft,J1).call(this,q(this,se)[L],q(this,Y)[L]),nt(this,ft,J1).call(this,q(this,F),L),at(this,F,L))},j);t.LRUCache=p}),uo=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.ContainerIterator=t.Container=t.Base=void 0;var e=class{constructor(i=0){this.iteratorType=i}equals(i){return this.o===i.o}};t.ContainerIterator=e;var r=class{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}};t.Base=r;var n=class extends r{};t.Container=n}),BD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=uo(),r=class extends e.Base{constructor(i=[]){super(),this.S=[];let s=this;i.forEach(function(o){s.push(o)})}clear(){this.i=0,this.S=[]}push(i){return this.S.push(i),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}},n=r;t.default=n}),ND=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=uo(),r=class extends e.Base{constructor(i=[]){super(),this.j=0,this.q=[];let s=this;i.forEach(function(o){s.push(o)})}clear(){this.q=[],this.i=this.j=0}push(i){let s=this.q.length;if(this.j/s>.5&&this.j+this.i>=s&&s>4096){let o=this.i;for(let a=0;a<o;++a)this.q[a]=this.q[this.j+a];this.j=0,this.q[this.i]=i}else this.q[this.j+this.i]=i;return++this.i}pop(){if(this.i===0)return;let i=this.q[this.j++];return this.i-=1,i}front(){if(this.i!==0)return this.q[this.j]}},n=r;t.default=n}),DD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=uo(),r=class extends e.Base{constructor(i=[],s=function(a,l){return a>l?-1:a<l?1:0},o=!0){if(super(),this.v=s,Array.isArray(i))this.C=o?[...i]:i;else{this.C=[];let l=this;i.forEach(function(u){l.C.push(u)})}this.i=this.C.length;let a=this.i>>1;for(let l=this.i-1>>1;l>=0;--l)this.k(l,a)}m(i){let s=this.C[i];for(;i>0;){let o=i-1>>1,a=this.C[o];if(this.v(a,s)<=0)break;this.C[i]=a,i=o}this.C[i]=s}k(i,s){let o=this.C[i];for(;i<s;){let a=i<<1|1,l=a+1,u=this.C[a];if(l<this.i&&this.v(u,this.C[l])>0&&(a=l,u=this.C[l]),this.v(u,o)>=0)break;this.C[i]=u,i=a}this.C[i]=o}clear(){this.i=0,this.C.length=0}push(i){this.C.push(i),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;let i=this.C[0],s=this.C.pop();return this.i-=1,this.i&&(this.C[0]=s,this.k(0,this.i>>1)),i}top(){return this.C[0]}find(i){return this.C.indexOf(i)>=0}remove(i){let s=this.C.indexOf(i);return s<0?!1:(s===0?this.pop():s===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(s,1,this.C.pop()),this.i-=1,this.m(s),this.k(s,this.i>>1)),!0)}updateItem(i){let s=this.C.indexOf(i);return s<0?!1:(this.m(s),this.k(s,this.i>>1),!0)}toArray(){return[...this.C]}},n=r;t.default=n}),ww=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=uo(),r=class extends e.Container{},n=r;t.default=n}),ho=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.throwIteratorAccessError=e;function e(){throw new RangeError("Iterator access denied!")}}),HR=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.RandomIterator=void 0;var e=uo(),r=ho(),n=class extends e.ContainerIterator{constructor(i,s){super(s),this.o=i,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,r.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,r.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,r.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,r.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(i){this.container.setElementByPos(this.o,i)}};t.RandomIterator=n}),LD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=n(ww()),r=HR();function n(a){return a&&a.t?a:{default:a}}var i=class GR extends r.RandomIterator{constructor(l,u,d){super(l,d),this.container=u}copy(){return new GR(this.o,this.container,this.iteratorType)}},s=class extends e.default{constructor(a=[],l=!0){if(super(),Array.isArray(a))this.J=l?[...a]:a,this.i=a.length;else{this.J=[];let u=this;a.forEach(function(d){u.pushBack(d)})}}clear(){this.i=0,this.J.length=0}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J[a]}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;return this.J.splice(a,1),this.i-=1,this.i}eraseElementByValue(a){let l=0;for(let u=0;u<this.i;++u)this.J[u]!==a&&(this.J[l++]=this.J[u]);return this.i=this.J.length=l,this.i}eraseElementByIterator(a){let l=a.o;return a=a.next(),this.eraseElementByPos(l),a}pushBack(a){return this.J.push(a),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;this.J[a]=l}insert(a,l,u=1){if(a<0||a>this.i)throw new RangeError;return this.J.splice(a,0,...new Array(u).fill(l)),this.i+=u,this.i}find(a){for(let l=0;l<this.i;++l)if(this.J[l]===a)return new i(l,this);return this.end()}reverse(){this.J.reverse()}unique(){let a=1;for(let l=1;l<this.i;++l)this.J[l]!==this.J[l-1]&&(this.J[a++]=this.J[l]);return this.i=this.J.length=a,this.i}sort(a){this.J.sort(a)}forEach(a){for(let l=0;l<this.i;++l)a(this.J[l],l,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}},o=s;t.default=o}),FD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=i(ww()),r=uo(),n=ho();function i(l){return l&&l.t?l:{default:l}}var s=class WR extends r.ContainerIterator{constructor(u,d,f,p){super(p),this.o=u,this.h=d,this.container=f,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l}set pointer(u){this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.l=u}copy(){return new WR(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.default{constructor(l=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;let u=this;l.forEach(function(d){u.pushBack(d)})}V(l){let{L:u,B:d}=l;u.B=d,d.L=u,l===this.p&&(this.p=d),l===this._&&(this._=u),this.i-=1}G(l,u){let d=u.B,f={l,L:u,B:d};u.B=f,d.L=f,u===this.h&&(this.p=f),d===this.h&&(this._=f),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return u.l}eraseElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return this.V(u),this.i}eraseElementByValue(l){let u=this.p;for(;u!==this.h;)u.l===l&&this.V(u),u=u.B;return this.i}eraseElementByIterator(l){let u=l.o;return u===this.h&&(0,n.throwIteratorAccessError)(),l=l.next(),this.V(u),l}pushBack(l){return this.G(l,this._),this.i}popBack(){if(this.i===0)return;let l=this._.l;return this.V(this._),l}pushFront(l){return this.G(l,this.h),this.i}popFront(){if(this.i===0)return;let l=this.p.l;return this.V(this.p),l}setElementByPos(l,u){if(l<0||l>this.i-1)throw new RangeError;let d=this.p;for(;l--;)d=d.B;d.l=u}insert(l,u,d=1){if(l<0||l>this.i)throw new RangeError;if(d<=0)return this.i;if(l===0)for(;d--;)this.pushFront(u);else if(l===this.i)for(;d--;)this.pushBack(u);else{let f=this.p;for(let m=1;m<l;++m)f=f.B;let p=f.B;for(this.i+=d;d--;)f.B={l:u,L:f},f.B.L=f,f=f.B;f.B=p,p.L=f}return this.i}find(l){let u=this.p;for(;u!==this.h;){if(u.l===l)return new s(u,this.h,this);u=u.B}return this.end()}reverse(){if(this.i<=1)return;let l=this.p,u=this._,d=0;for(;d<<1<this.i;){let f=l.l;l.l=u.l,u.l=f,l=l.B,u=u.L,d+=1}}unique(){if(this.i<=1)return this.i;let l=this.p;for(;l!==this.h;){let u=l;for(;u.B!==this.h&&u.l===u.B.l;)u=u.B,this.i-=1;l.B=u.B,l.B.L=l,l=l.B}return this.i}sort(l){if(this.i<=1)return;let u=[];this.forEach(function(f){u.push(f)}),u.sort(l);let d=this.p;u.forEach(function(f){d.l=f,d=d.B})}merge(l){let u=this;if(this.i===0)l.forEach(function(d){u.pushBack(d)});else{let d=this.p;l.forEach(function(f){for(;d!==u.h&&d.l<=f;)d=d.B;u.G(f,d.L)})}return this.i}forEach(l){let u=this.p,d=0;for(;u!==this.h;)l(u.l,d++,this),u=u.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let l=this.p;for(;l!==this.h;)yield l.l,l=l.B}).bind(this)()}},a=o;t.default=a}),UD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=n(ww()),r=HR();function n(a){return a&&a.t?a:{default:a}}var i=class VR extends r.RandomIterator{constructor(l,u,d){super(l,d),this.container=u}copy(){return new VR(this.o,this.container,this.iteratorType)}},s=class extends e.default{constructor(a=[],l=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];let u=(()=>{if(typeof a.length=="number")return a.length;if(typeof a.size=="number")return a.size;if(typeof a.size=="function")return a.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=l,this.P=Math.max(Math.ceil(u/this.F),1);for(let p=0;p<this.P;++p)this.A.push(new Array(this.F));let d=Math.ceil(u/this.F);this.j=this.R=(this.P>>1)-(d>>1),this.D=this.N=this.F-u%this.F>>1;let f=this;a.forEach(function(p){f.pushBack(p)})}T(){let a=[],l=Math.max(this.P>>1,1);for(let u=0;u<l;++u)a[u]=new Array(this.F);for(let u=this.j;u<this.P;++u)a[a.length]=this.A[u];for(let u=0;u<this.R;++u)a[a.length]=this.A[u];a[a.length]=[...this.A[this.R]],this.j=l,this.R=a.length-1;for(let u=0;u<l;++u)a[a.length]=new Array(this.F);this.A=a,this.P=a.length}O(a){let l=this.D+a+1,u=l%this.F,d=u-1,f=this.j+(l-u)/this.F;return u===0&&(f-=1),f%=this.P,d<0&&(d+=this.F),{curNodeBucketIndex:f,curNodePointerIndex:d}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new i(0,this)}end(){return new i(this.i,this)}rBegin(){return new i(this.i-1,this,1)}rEnd(){return new i(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(a){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=a,this.i}popBack(){if(this.i===0)return;let a=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,a}pushFront(a){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=a,this.i}popFront(){if(this.i===0)return;let a=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,a}getElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:l,curNodePointerIndex:u}=this.O(a);return this.A[l][u]}setElementByPos(a,l){if(a<0||a>this.i-1)throw new RangeError;let{curNodeBucketIndex:u,curNodePointerIndex:d}=this.O(a);this.A[u][d]=l}insert(a,l,u=1){if(a<0||a>this.i)throw new RangeError;if(a===0)for(;u--;)this.pushFront(l);else if(a===this.i)for(;u--;)this.pushBack(l);else{let d=[];for(let f=a;f<this.i;++f)d.push(this.getElementByPos(f));this.cut(a-1);for(let f=0;f<u;++f)this.pushBack(l);for(let f=0;f<d.length;++f)this.pushBack(d[f])}return this.i}cut(a){if(a<0)return this.clear(),0;let{curNodeBucketIndex:l,curNodePointerIndex:u}=this.O(a);return this.R=l,this.N=u,this.i=a+1,this.i}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;if(a===0)this.popFront();else if(a===this.i-1)this.popBack();else{let l=[];for(let d=a+1;d<this.i;++d)l.push(this.getElementByPos(d));this.cut(a),this.popBack();let u=this;l.forEach(function(d){u.pushBack(d)})}return this.i}eraseElementByValue(a){if(this.i===0)return 0;let l=[];for(let d=0;d<this.i;++d){let f=this.getElementByPos(d);f!==a&&l.push(f)}let u=l.length;for(let d=0;d<u;++d)this.setElementByPos(d,l[d]);return this.cut(u-1)}eraseElementByIterator(a){let l=a.o;return this.eraseElementByPos(l),a=a.next(),a}find(a){for(let l=0;l<this.i;++l)if(this.getElementByPos(l)===a)return new i(l,this);return this.end()}reverse(){let a=0,l=this.i-1;for(;a<l;){let u=this.getElementByPos(a);this.setElementByPos(a,this.getElementByPos(l)),this.setElementByPos(l,u),a+=1,l-=1}}unique(){if(this.i<=1)return this.i;let a=1,l=this.getElementByPos(0);for(let u=1;u<this.i;++u){let d=this.getElementByPos(u);d!==l&&(l=d,this.setElementByPos(a++,d))}for(;this.i>a;)this.popBack();return this.i}sort(a){let l=[];for(let u=0;u<this.i;++u)l.push(this.getElementByPos(u));l.sort(a);for(let u=0;u<this.i;++u)this.setElementByPos(u,l[u])}shrinkToFit(){if(this.i===0)return;let a=[];this.forEach(function(l){a.push(l)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let l=0;l<this.P;++l)this.A.push(new Array(this.F));for(let l=0;l<a.length;++l)this.pushBack(a[l])}forEach(a){for(let l=0;l<this.i;++l)a(this.getElementByPos(l),l,this)}[Symbol.iterator](){return(function*(){for(let a=0;a<this.i;++a)yield this.getElementByPos(a)}).bind(this)()}},o=s;t.default=o}),jD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.TreeNodeEnableIndex=t.TreeNode=void 0;var e=class{constructor(n,i){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=n,this.l=i}L(){let n=this;if(n.ee===1&&n.tt.tt===n)n=n.W;else if(n.U)for(n=n.U;n.W;)n=n.W;else{let i=n.tt;for(;i.U===n;)n=i,i=n.tt;n=i}return n}B(){let n=this;if(n.W){for(n=n.W;n.U;)n=n.U;return n}else{let i=n.tt;for(;i.W===n;)n=i,i=n.tt;return n.W!==i?i:n}}te(){let n=this.tt,i=this.W,s=i.U;return n.tt===this?n.tt=i:n.U===this?n.U=i:n.W=i,i.tt=n,i.U=this,this.tt=i,this.W=s,s&&(s.tt=this),i}se(){let n=this.tt,i=this.U,s=i.W;return n.tt===this?n.tt=i:n.U===this?n.U=i:n.W=i,i.tt=n,i.W=this,this.tt=i,this.U=s,s&&(s.tt=this),i}};t.TreeNode=e;var r=class extends e{constructor(){super(...arguments),this.rt=1}te(){let n=super.te();return this.ie(),n.ie(),n}se(){let n=super.se();return this.ie(),n.ie(),n}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}};t.TreeNodeEnableIndex=r}),XR=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=jD(),r=uo(),n=ho(),i=class extends r.Container{constructor(o=function(l,u){return l<u?-1:l>u?1:0},a=!1){super(),this.Y=void 0,this.v=o,a?(this.re=e.TreeNodeEnableIndex,this.M=function(l,u,d){let f=this.ne(l,u,d);if(f){let p=f.tt;for(;p!==this.h;)p.rt+=1,p=p.tt;let m=this.he(f);if(m){let{parentNode:g,grandParent:v,curNode:C}=m;g.ie(),v.ie(),C.ie()}}return this.i},this.V=function(l){let u=this.fe(l);for(;u!==this.h;)u.rt-=1,u=u.tt}):(this.re=e.TreeNode,this.M=function(l,u,d){let f=this.ne(l,u,d);return f&&this.he(f),this.i},this.V=this.fe),this.h=new this.re}X(o,a){let l=this.h;for(;o;){let u=this.v(o.u,a);if(u<0)o=o.W;else if(u>0)l=o,o=o.U;else return o}return l}Z(o,a){let l=this.h;for(;o;)this.v(o.u,a)<=0?o=o.W:(l=o,o=o.U);return l}$(o,a){let l=this.h;for(;o;){let u=this.v(o.u,a);if(u<0)l=o,o=o.W;else if(u>0)o=o.U;else return o}return l}rr(o,a){let l=this.h;for(;o;)this.v(o.u,a)<0?(l=o,o=o.W):o=o.U;return l}ue(o){for(;;){let a=o.tt;if(a===this.h)return;if(o.ee===1){o.ee=0;return}if(o===a.U){let l=a.W;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.te():a.te();else if(l.W&&l.W.ee===1){l.ee=a.ee,a.ee=0,l.W.ee=0,a===this.Y?this.Y=a.te():a.te();return}else l.U&&l.U.ee===1?(l.ee=1,l.U.ee=0,l.se()):(l.ee=1,o=a)}else{let l=a.U;if(l.ee===1)l.ee=0,a.ee=1,a===this.Y?this.Y=a.se():a.se();else if(l.U&&l.U.ee===1){l.ee=a.ee,a.ee=0,l.U.ee=0,a===this.Y?this.Y=a.se():a.se();return}else l.W&&l.W.ee===1?(l.ee=1,l.W.ee=0,l.te()):(l.ee=1,o=a)}}}fe(o){if(this.i===1)return this.clear(),this.h;let a=o;for(;a.U||a.W;){if(a.W)for(a=a.W;a.U;)a=a.U;else a=a.U;[o.u,a.u]=[a.u,o.u],[o.l,a.l]=[a.l,o.l],o=a}this.h.U===a?this.h.U=a.tt:this.h.W===a&&(this.h.W=a.tt),this.ue(a);let l=a.tt;return a===l.U?l.U=void 0:l.W=void 0,this.i-=1,this.Y.ee=0,l}oe(o,a){return o===void 0?!1:this.oe(o.U,a)||a(o)?!0:this.oe(o.W,a)}he(o){for(;;){let a=o.tt;if(a.ee===0)return;let l=a.tt;if(a===l.U){let u=l.W;if(u&&u.ee===1){if(u.ee=a.ee=0,l===this.Y)return;l.ee=1,o=l;continue}else if(o===a.W){if(o.ee=0,o.U&&(o.U.tt=a),o.W&&(o.W.tt=l),a.W=o.U,l.U=o.W,o.U=a,o.W=l,l===this.Y)this.Y=o,this.h.tt=o;else{let d=l.tt;d.U===l?d.U=o:d.W=o}return o.tt=l.tt,a.tt=o,l.tt=o,l.ee=1,{parentNode:a,grandParent:l,curNode:o}}else a.ee=0,l===this.Y?this.Y=l.se():l.se(),l.ee=1}else{let u=l.U;if(u&&u.ee===1){if(u.ee=a.ee=0,l===this.Y)return;l.ee=1,o=l;continue}else if(o===a.U){if(o.ee=0,o.U&&(o.U.tt=l),o.W&&(o.W.tt=a),l.W=o.U,a.U=o.W,o.U=l,o.W=a,l===this.Y)this.Y=o,this.h.tt=o;else{let d=l.tt;d.U===l?d.U=o:d.W=o}return o.tt=l.tt,a.tt=o,l.tt=o,l.ee=1,{parentNode:a,grandParent:l,curNode:o}}else a.ee=0,l===this.Y?this.Y=l.te():l.te(),l.ee=1}return}}ne(o,a,l){if(this.Y===void 0){this.i+=1,this.Y=new this.re(o,a),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let u,d=this.h.U,f=this.v(d.u,o);if(f===0){d.l=a;return}else if(f>0)d.U=new this.re(o,a),d.U.tt=d,u=d.U,this.h.U=u;else{let p=this.h.W,m=this.v(p.u,o);if(m===0){p.l=a;return}else if(m<0)p.W=new this.re(o,a),p.W.tt=p,u=p.W,this.h.W=u;else{if(l!==void 0){let g=l.o;if(g!==this.h){let v=this.v(g.u,o);if(v===0){g.l=a;return}else if(v>0){let C=g.L(),S=this.v(C.u,o);if(S===0){C.l=a;return}else S<0&&(u=new this.re(o,a),C.W===void 0?(C.W=u,u.tt=C):(g.U=u,u.tt=g))}}}if(u===void 0)for(u=this.Y;;){let g=this.v(u.u,o);if(g>0){if(u.U===void 0){u.U=new this.re(o,a),u.U.tt=u,u=u.U;break}u=u.U}else if(g<0){if(u.W===void 0){u.W=new this.re(o,a),u.W.tt=u,u=u.W;break}u=u.W}else{u.l=a;return}}}}return this.i+=1,u}I(o,a){for(;o;){let l=this.v(o.u,a);if(l<0)o=o.W;else if(l>0)o=o.U;else return o}return o||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(o,a){let l=o.o;if(l===this.h&&(0,n.throwIteratorAccessError)(),this.i===1)return l.u=a,!0;if(l===this.h.U)return this.v(l.B().u,a)>0?(l.u=a,!0):!1;if(l===this.h.W)return this.v(l.L().u,a)<0?(l.u=a,!0):!1;let u=l.L().u;if(this.v(u,a)>=0)return!1;let d=l.B().u;return this.v(d,a)<=0?!1:(l.u=a,!0)}eraseElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a=0,l=this;return this.oe(this.Y,function(u){return o===a?(l.V(u),!0):(a+=1,!1)}),this.i}eraseElementByKey(o){if(this.i===0)return!1;let a=this.I(this.Y,o);return a===this.h?!1:(this.V(a),!0)}eraseElementByIterator(o){let a=o.o;a===this.h&&(0,n.throwIteratorAccessError)();let l=a.W===void 0;return o.iteratorType===0?l&&o.next():(!l||a.U===void 0)&&o.next(),this.V(a),o}forEach(o){let a=0;for(let l of this)o(l,a++,this)}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a,l=0;for(let u of this){if(l===o){a=u;break}l+=1}return a}getHeight(){if(this.i===0)return 0;let o=function(a){return a?Math.max(o(a.U),o(a.W))+1:0};return o(this.Y)}},s=i;t.default=s}),qR=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=uo(),r=ho(),n=class extends e.ContainerIterator{constructor(s,o,a){super(a),this.o=s,this.h=o,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,r.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let s=this.o,o=this.h.tt;if(s===this.h)return o?o.rt-1:0;let a=0;for(s.U&&(a+=s.U.rt);s!==o;){let l=s.tt;s===l.W&&(a+=1,l.U&&(a+=l.U.rt)),s=l}return a}},i=n;t.default=i}),$D=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=i(XR()),r=i(qR()),n=ho();function i(l){return l&&l.t?l:{default:l}}var s=class YR extends r.default{constructor(u,d,f,p){super(u,d,p),this.container=f}get pointer(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o.u}copy(){return new YR(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.default{constructor(l=[],u,d){super(u,d);let f=this;l.forEach(function(p){f.insert(p)})}*K(l){l!==void 0&&(yield*this.K(l.U),yield l.u,yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(l,u){return this.M(l,void 0,u)}find(l){let u=this.I(this.Y,l);return new s(u,this.h,this)}lowerBound(l){let u=this.X(this.Y,l);return new s(u,this.h,this)}upperBound(l){let u=this.Z(this.Y,l);return new s(u,this.h,this)}reverseLowerBound(l){let u=this.$(this.Y,l);return new s(u,this.h,this)}reverseUpperBound(l){let u=this.rr(this.Y,l);return new s(u,this.h,this)}union(l){let u=this;return l.forEach(function(d){u.insert(d)}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=o;t.default=a}),zD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=i(XR()),r=i(qR()),n=ho();function i(l){return l&&l.t?l:{default:l}}var s=class KR extends r.default{constructor(u,d,f,p){super(u,d,p),this.container=f}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let u=this;return new Proxy([],{get(d,f){if(f==="0")return u.o.u;if(f==="1")return u.o.l},set(d,f,p){if(f!=="1")throw new TypeError("props must be 1");return u.o.l=p,!0}})}copy(){return new KR(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.default{constructor(l=[],u,d){super(u,d);let f=this;l.forEach(function(p){f.setElement(p[0],p[1])})}*K(l){l!==void 0&&(yield*this.K(l.U),yield[l.u,l.l],yield*this.K(l.W))}begin(){return new s(this.h.U||this.h,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this.h.W||this.h,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i===0)return;let l=this.h.U;return[l.u,l.l]}back(){if(this.i===0)return;let l=this.h.W;return[l.u,l.l]}lowerBound(l){let u=this.X(this.Y,l);return new s(u,this.h,this)}upperBound(l){let u=this.Z(this.Y,l);return new s(u,this.h,this)}reverseLowerBound(l){let u=this.$(this.Y,l);return new s(u,this.h,this)}reverseUpperBound(l){let u=this.rr(this.Y,l);return new s(u,this.h,this)}setElement(l,u,d){return this.M(l,u,d)}find(l){let u=this.I(this.Y,l);return new s(u,this.h,this)}getElementByKey(l){return this.I(this.Y,l).l}union(l){let u=this;return l.forEach(function(d){u.setElement(d[0],d[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}},a=o;t.default=a}),QR=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=e;function e(r){let n=typeof r;return n==="object"&&r!==null||n==="function"}}),ZR=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.HashContainerIterator=t.HashContainer=void 0;var e=uo(),r=i(QR()),n=ho();function i(a){return a&&a.t?a:{default:a}}var s=class extends e.ContainerIterator{constructor(a,l,u){super(u),this.o=a,this.h=l,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,n.throwIteratorAccessError)(),this.o=this.o.L,this})}};t.HashContainerIterator=s;var o=class extends e.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(a){let{L:l,B:u}=a;l.B=u,u.L=l,a===this.p&&(this.p=u),a===this._&&(this._=l),this.i-=1}M(a,l,u){u===void 0&&(u=(0,r.default)(a));let d;if(u){let f=a[this.HASH_TAG];if(f!==void 0)return this.H[f].l=l,this.i;Object.defineProperty(a,this.HASH_TAG,{value:this.H.length,configurable:!0}),d={u:a,l,L:this._,B:this.h},this.H.push(d)}else{let f=this.g[a];if(f)return f.l=l,this.i;d={u:a,l,L:this._,B:this.h},this.g[a]=d}return this.i===0?(this.p=d,this.h.B=d):this._.B=d,this._=d,this.h.L=d,++this.i}I(a,l){if(l===void 0&&(l=(0,r.default)(a)),l){let u=a[this.HASH_TAG];return u===void 0?this.h:this.H[u]}else return this.g[a]||this.h}clear(){let a=this.HASH_TAG;this.H.forEach(function(l){delete l.u[a]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(a,l){let u;if(l===void 0&&(l=(0,r.default)(a)),l){let d=a[this.HASH_TAG];if(d===void 0)return!1;delete a[this.HASH_TAG],u=this.H[d],delete this.H[d]}else{if(u=this.g[a],u===void 0)return!1;delete this.g[a]}return this.V(u),!0}eraseElementByIterator(a){let l=a.o;return l===this.h&&(0,n.throwIteratorAccessError)(),this.V(l),a.next()}eraseElementByPos(a){if(a<0||a>this.i-1)throw new RangeError;let l=this.p;for(;a--;)l=l.B;return this.V(l),this.i}};t.HashContainer=o}),HD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=ZR(),r=ho(),n=class JR extends e.HashContainerIterator{constructor(a,l,u,d){super(a,l,d),this.container=u}get pointer(){return this.o===this.h&&(0,r.throwIteratorAccessError)(),this.o.u}copy(){return new JR(this.o,this.h,this.container,this.iteratorType)}},i=class extends e.HashContainer{constructor(o=[]){super();let a=this;o.forEach(function(l){a.insert(l)})}begin(){return new n(this.p,this.h,this)}end(){return new n(this.h,this.h,this)}rBegin(){return new n(this._,this.h,this,1)}rEnd(){return new n(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(o,a){return this.M(o,void 0,a)}getElementByPos(o){if(o<0||o>this.i-1)throw new RangeError;let a=this.p;for(;o--;)a=a.B;return a.u}find(o,a){let l=this.I(o,a);return new n(l,this.h,this)}forEach(o){let a=0,l=this.p;for(;l!==this.h;)o(l.u,a++,this),l=l.B}[Symbol.iterator](){return(function*(){let o=this.p;for(;o!==this.h;)yield o.u,o=o.B}).bind(this)()}},s=i;t.default=s}),GD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),t.default=void 0;var e=ZR(),r=i(QR()),n=ho();function i(l){return l&&l.t?l:{default:l}}var s=class e2 extends e.HashContainerIterator{constructor(u,d,f,p){super(u,d,p),this.container=f}get pointer(){this.o===this.h&&(0,n.throwIteratorAccessError)();let u=this;return new Proxy([],{get(d,f){if(f==="0")return u.o.u;if(f==="1")return u.o.l},set(d,f,p){if(f!=="1")throw new TypeError("props must be 1");return u.o.l=p,!0}})}copy(){return new e2(this.o,this.h,this.container,this.iteratorType)}},o=class extends e.HashContainer{constructor(l=[]){super();let u=this;l.forEach(function(d){u.setElement(d[0],d[1])})}begin(){return new s(this.p,this.h,this)}end(){return new s(this.h,this.h,this)}rBegin(){return new s(this._,this.h,this,1)}rEnd(){return new s(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(l,u,d){return this.M(l,u,d)}getElementByKey(l,u){if(u===void 0&&(u=(0,r.default)(l)),u){let f=l[this.HASH_TAG];return f!==void 0?this.H[f].l:void 0}let d=this.g[l];return d?d.l:void 0}getElementByPos(l){if(l<0||l>this.i-1)throw new RangeError;let u=this.p;for(;l--;)u=u.B;return[u.u,u.l]}find(l,u){let d=this.I(l,u);return new s(d,this.h,this)}forEach(l){let u=0,d=this.p;for(;d!==this.h;)l([d.u,d.l],u++,this),d=d.B}[Symbol.iterator](){return(function*(){let l=this.p;for(;l!==this.h;)yield[l.u,l.l],l=l.B}).bind(this)()}},a=o;t.default=a}),WD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"t",{value:!0}),Object.defineProperty(t,"Deque",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"HashMap",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"HashSet",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"LinkList",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"OrderedMap",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"OrderedSet",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"PriorityQueue",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Queue",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"Stack",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(t,"Vector",{enumerable:!0,get:function(){return i.default}});var e=f(BD()),r=f(ND()),n=f(DD()),i=f(LD()),s=f(FD()),o=f(UD()),a=f($D()),l=f(zD()),u=f(HD()),d=f(GD());function f(p){return p&&p.t?p:{default:p}}}),VD=Le((t,e)=>{Pe(),Ie(),Ce();var r=WD().OrderedSet,n=no()("number-allocator:trace"),i=no()("number-allocator:error");function s(a,l){this.low=a,this.high=l}s.prototype.equals=function(a){return this.low===a.low&&this.high===a.high},s.prototype.compare=function(a){return this.low<a.low&&this.high<a.low?-1:a.low<this.low&&a.high<this.low?1:0};function o(a,l){if(!(this instanceof o))return new o(a,l);this.min=a,this.max=l,this.ss=new r([],(u,d)=>u.compare(d)),n("Create"),this.clear()}o.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},o.prototype.alloc=function(){if(this.ss.size()===0)return n("alloc():empty"),null;let a=this.ss.begin(),l=a.pointer.low,u=a.pointer.high,d=l;return d+1<=u?this.ss.updateKeyByIterator(a,new s(l+1,u)):this.ss.eraseElementByPos(0),n("alloc():"+d),d},o.prototype.use=function(a){let l=new s(a,a),u=this.ss.lowerBound(l);if(!u.equals(this.ss.end())){let d=u.pointer.low,f=u.pointer.high;return u.pointer.equals(l)?(this.ss.eraseElementByIterator(u),n("use():"+a),!0):d>a?!1:d===a?(this.ss.updateKeyByIterator(u,new s(d+1,f)),n("use():"+a),!0):f===a?(this.ss.updateKeyByIterator(u,new s(d,f-1)),n("use():"+a),!0):(this.ss.updateKeyByIterator(u,new s(a+1,f)),this.ss.insert(new s(d,a-1)),n("use():"+a),!0)}return n("use():failed"),!1},o.prototype.free=function(a){if(a<this.min||a>this.max){i("free():"+a+" is out of range");return}let l=new s(a,a),u=this.ss.upperBound(l);if(u.equals(this.ss.end())){if(u.equals(this.ss.begin())){this.ss.insert(l);return}u.pre();let d=u.pointer.high;u.pointer.high+1===a?this.ss.updateKeyByIterator(u,new s(d,a)):this.ss.insert(l)}else if(u.equals(this.ss.begin()))if(a+1===u.pointer.low){let d=u.pointer.high;this.ss.updateKeyByIterator(u,new s(a,d))}else this.ss.insert(l);else{let d=u.pointer.low,f=u.pointer.high;u.pre();let p=u.pointer.low;u.pointer.high+1===a?a+1===d?(this.ss.eraseElementByIterator(u),this.ss.updateKeyByIterator(u,new s(p,f))):this.ss.updateKeyByIterator(u,new s(p,a)):a+1===d?(this.ss.eraseElementByIterator(u.next()),this.ss.insert(new s(a,f))):this.ss.insert(l)}n("free():"+a)},o.prototype.clear=function(){n("clear()"),this.ss.clear(),this.ss.insert(new s(this.min,this.max))},o.prototype.intervalCount=function(){return this.ss.size()},o.prototype.dump=function(){console.log("length:"+this.ss.size());for(let a of this.ss)console.log(a)},e.exports=o}),t2=Le((t,e)=>{Pe(),Ie(),Ce();var r=VD();e.exports.NumberAllocator=r}),XD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=MD(),r=t2(),n=class{constructor(i){i>0&&(this.aliasToTopic=new e.LRUCache({max:i}),this.topicToAlias={},this.numberAllocator=new r.NumberAllocator(1,i),this.max=i,this.length=0)}put(i,s){if(s===0||s>this.max)return!1;let o=this.aliasToTopic.get(s);return o&&delete this.topicToAlias[o],this.aliasToTopic.set(s,i),this.topicToAlias[i]=s,this.numberAllocator.use(s),this.length=this.aliasToTopic.size,!0}getTopicByAlias(i){return this.aliasToTopic.get(i)}getAliasByTopic(i){let s=this.topicToAlias[i];return typeof s<"u"&&this.aliasToTopic.get(s),s}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){return this.numberAllocator.firstVacant()||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}};t.default=n}),qD=Le(t=>{Pe(),Ie(),Ce();var e=t&&t.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0});var r=Bm(),n=e(XD()),i=Fc(),s=(o,a)=>{o.log("_handleConnack");let{options:l}=o,u=l.protocolVersion===5?a.reasonCode:a.returnCode;if(clearTimeout(o.connackTimer),delete o.topicAliasSend,a.properties){if(a.properties.topicAliasMaximum){if(a.properties.topicAliasMaximum>65535){o.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}a.properties.topicAliasMaximum>0&&(o.topicAliasSend=new n.default(a.properties.topicAliasMaximum))}a.properties.serverKeepAlive&&l.keepalive&&(l.keepalive=a.properties.serverKeepAlive,o._shiftPingInterval()),a.properties.maximumPacketSize&&(l.properties||(l.properties={}),l.properties.maximumPacketSize=a.properties.maximumPacketSize)}if(u===0)o.reconnecting=!1,o._onConnect(a);else if(u>0){let d=new i.ErrorWithReasonCode(`Connection refused: ${r.ReasonCodes[u]}`,u);o.emit("error",d)}};t.default=s}),YD=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=(r,n,i)=>{r.log("handling pubrel packet");let s=typeof i<"u"?i:r.noop,{messageId:o}=n,a={cmd:"pubcomp",messageId:o};r.incomingStore.get(n,(l,u)=>{l?r._sendPacket(a,s):(r.emit("message",u.topic,u.payload,u),r.handleMessage(u,d=>{if(d)return s(d);r.incomingStore.del(u,r.noop),r._sendPacket(a,s)}))})};t.default=e}),KD=Le(t=>{Pe(),Ie(),Ce();var e=t&&t.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(t,"__esModule",{value:!0});var r=e(kD()),n=e(OD()),i=e(qD()),s=e(Bm()),o=e(YD()),a=(l,u,d)=>{let{options:f}=l;if(f.protocolVersion===5&&f.properties&&f.properties.maximumPacketSize&&f.properties.maximumPacketSize<u.length)return l.emit("error",new Error(`exceeding packets size ${u.cmd}`)),l.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),l;switch(l.log("_handlePacket :: emitting packetreceive"),l.emit("packetreceive",u),u.cmd){case"publish":(0,r.default)(l,u,d);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":(0,s.default)(l,u),d();break;case"pubrel":(0,o.default)(l,u,d);break;case"connack":(0,i.default)(l,u),d();break;case"auth":(0,n.default)(l,u),d();break;case"pingresp":l.pingResp=!0,d();break;case"disconnect":l.emit("disconnect",u),d();break;default:l.log("_handlePacket :: unknown command"),d();break}};t.default=a}),QD=Le(t=>{Pe(),Ie(),Ce();var e=t&&t.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(t,"__esModule",{value:!0}),t.TypedEventEmitter=void 0;var r=e(($u(),Nt(dl))),n=Fc(),i=class{};t.TypedEventEmitter=i,(0,n.applyMixin)(i,r.default)}),Nm=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0}),t.isWebWorker=void 0;var e=()=>typeof window<"u"&&typeof window.document<"u",r=()=>{var s,o;return!!(typeof self=="object"&&!((o=(s=self==null?void 0:self.constructor)===null||s===void 0?void 0:s.name)===null||o===void 0)&&o.includes("WorkerGlobalScope"))},n=()=>typeof Fn<"u"&&Fn.product==="ReactNative",i=e()||r()||n();t.isWebWorker=r(),t.default=i}),ZD=Le((t,e)=>{Pe(),Ie(),Ce(),function(r,n){typeof t=="object"&&typeof e<"u"?n(t):typeof define=="function"&&define.amd?define(["exports"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.fastUniqueNumbers={}))}(t,function(r){var n=function(m){return function(g){var v=m(g);return g.add(v),v}},i=function(m){return function(g,v){return m.set(g,v),v}},s=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,o=536870912,a=o*2,l=function(m,g){return function(v){var C=g.get(v),S=C===void 0?v.size:C<a?C+1:0;if(!v.has(S))return m(v,S);if(v.size<o){for(;v.has(S);)S=Math.floor(Math.random()*a);return m(v,S)}if(v.size>s)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;v.has(S);)S=Math.floor(Math.random()*s);return m(v,S)}},u=new WeakMap,d=i(u),f=l(d,u),p=n(f);r.addUniqueNumber=p,r.generateUniqueNumber=f})}),JD=Le((t,e)=>{Pe(),Ie(),Ce(),function(r,n){typeof t=="object"&&typeof e<"u"?n(t,ZD()):typeof define=="function"&&define.amd?define(["exports","fast-unique-numbers"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.workerTimersBroker={},r.fastUniqueNumbers))}(t,function(r,n){var i=function(a){return a.method!==void 0&&a.method==="call"},s=function(a){return a.error===null&&typeof a.id=="number"},o=function(a){var l=new Map([[0,function(){}]]),u=new Map([[0,function(){}]]),d=new Map,f=new Worker(a);f.addEventListener("message",function(C){var S=C.data;if(i(S)){var x=S.params,b=x.timerId,I=x.timerType;if(I==="interval"){var O=l.get(b);if(typeof O=="number"){var k=d.get(O);if(k===void 0||k.timerId!==b||k.timerType!==I)throw new Error("The timer is in an undefined state.")}else if(typeof O<"u")O();else throw new Error("The timer is in an undefined state.")}else if(I==="timeout"){var R=u.get(b);if(typeof R=="number"){var M=d.get(R);if(M===void 0||M.timerId!==b||M.timerType!==I)throw new Error("The timer is in an undefined state.")}else if(typeof R<"u")R(),u.delete(b);else throw new Error("The timer is in an undefined state.")}}else if(s(S)){var $=S.id,Y=d.get($);if(Y===void 0)throw new Error("The timer is in an undefined state.");var se=Y.timerId,B=Y.timerType;d.delete($),B==="interval"?l.delete(se):u.delete(se)}else{var F=S.error.message;throw new Error(F)}});var p=function(C){var S=n.generateUniqueNumber(d);d.set(S,{timerId:C,timerType:"interval"}),l.set(C,S),f.postMessage({id:S,method:"clear",params:{timerId:C,timerType:"interval"}})},m=function(C){var S=n.generateUniqueNumber(d);d.set(S,{timerId:C,timerType:"timeout"}),u.set(C,S),f.postMessage({id:S,method:"clear",params:{timerId:C,timerType:"timeout"}})},g=function(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=n.generateUniqueNumber(l);return l.set(x,function(){C(),typeof l.get(x)=="function"&&f.postMessage({id:null,method:"set",params:{delay:S,now:performance.now(),timerId:x,timerType:"interval"}})}),f.postMessage({id:null,method:"set",params:{delay:S,now:performance.now(),timerId:x,timerType:"interval"}}),x},v=function(C){var S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=n.generateUniqueNumber(u);return u.set(x,C),f.postMessage({id:null,method:"set",params:{delay:S,now:performance.now(),timerId:x,timerType:"timeout"}}),x};return{clearInterval:p,clearTimeout:m,setInterval:g,setTimeout:v}};r.load=o})}),eL=Le((t,e)=>{Pe(),Ie(),Ce(),function(r,n){typeof t=="object"&&typeof e<"u"?n(t,JD()):typeof define=="function"&&define.amd?define(["exports","worker-timers-broker"],n):(r=typeof globalThis<"u"?globalThis:r||self,n(r.workerTimers={},r.workerTimersBroker))}(t,function(r,n){var i=function(f,p){var m=null;return function(){if(m!==null)return m;var g=new Blob([p],{type:"application/javascript; charset=utf-8"}),v=URL.createObjectURL(g);return m=f(v),setTimeout(function(){return URL.revokeObjectURL(v)}),m}},s=`(()=>{var e={472:(e,t,r)=>{var o,i;void 0===(i="function"==typeof(o=function(){"use strict";var e=new Map,t=new Map,r=function(t){var r=e.get(t);if(void 0===r)throw new Error('There is no interval scheduled with the given id "'.concat(t,'".'));clearTimeout(r),e.delete(t)},o=function(e){var r=t.get(e);if(void 0===r)throw new Error('There is no timeout scheduled with the given id "'.concat(e,'".'));clearTimeout(r),t.delete(e)},i=function(e,t){var r,o=performance.now();return{expected:o+(r=e-Math.max(0,o-t)),remainingDelay:r}},n=function e(t,r,o,i){var n=performance.now();n>o?postMessage({id:null,method:"call",params:{timerId:r,timerType:i}}):t.set(r,setTimeout(e,o-n,t,r,o,i))},a=function(t,r,o){var a=i(t,o),s=a.expected,d=a.remainingDelay;e.set(r,setTimeout(n,d,e,r,s,"interval"))},s=function(e,r,o){var a=i(e,o),s=a.expected,d=a.remainingDelay;t.set(r,setTimeout(n,d,t,r,s,"timeout"))};addEventListener("message",(function(e){var t=e.data;try{if("clear"===t.method){var i=t.id,n=t.params,d=n.timerId,c=n.timerType;if("interval"===c)r(d),postMessage({error:null,id:i});else{if("timeout"!==c)throw new Error('The given type "'.concat(c,'" is not supported'));o(d),postMessage({error:null,id:i})}}else{if("set"!==t.method)throw new Error('The given method "'.concat(t.method,'" is not supported'));var u=t.params,l=u.delay,p=u.now,m=u.timerId,v=u.timerType;if("interval"===v)a(l,m,p);else{if("timeout"!==v)throw new Error('The given type "'.concat(v,'" is not supported'));s(l,m,p)}}}catch(e){postMessage({error:{message:e.message},id:t.id,result:null})}}))})?o.call(t,r,t,e):o)||(e.exports=i)}},t={};function r(o){var i=t[o];if(void 0!==i)return i.exports;var n=t[o]={exports:{}};return e[o](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";r(472)})()})();`,o=i(n.load,s),a=function(f){return o().clearInterval(f)},l=function(f){return o().clearTimeout(f)},u=function(){var f;return(f=o()).setInterval.apply(f,arguments)},d=function(){var f;return(f=o()).setTimeout.apply(f,arguments)};r.clearInterval=a,r.clearTimeout=l,r.setInterval=u,r.setTimeout=d})}),tL=Le(t=>{Pe(),Ie(),Ce();var e=t&&t.__createBinding||(Object.create?function(u,d,f,p){p===void 0&&(p=f);var m=Object.getOwnPropertyDescriptor(d,f);(!m||("get"in m?!d.__esModule:m.writable||m.configurable))&&(m={enumerable:!0,get:function(){return d[f]}}),Object.defineProperty(u,p,m)}:function(u,d,f,p){p===void 0&&(p=f),u[p]=d[f]}),r=t&&t.__setModuleDefault||(Object.create?function(u,d){Object.defineProperty(u,"default",{enumerable:!0,value:d})}:function(u,d){u.default=d}),n=t&&t.__importStar||function(u){if(u&&u.__esModule)return u;var d={};if(u!=null)for(var f in u)f!=="default"&&Object.prototype.hasOwnProperty.call(u,f)&&e(d,u,f);return r(d,u),d};Object.defineProperty(t,"__esModule",{value:!0});var i=n(Nm()),s=eL(),o={set:s.setTimeout,clear:s.clearTimeout},a={set:(u,d)=>setTimeout(u,d),clear:u=>clearTimeout(u)},l=u=>{switch(u){case"native":return a;case"worker":return o;case"auto":default:return i.default&&!i.isWebWorker?o:a}};t.default=l}),r2=Le(t=>{Pe(),Ie(),Ce();var e=t&&t.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(t,"__esModule",{value:!0});var r=e(tL()),n=class{constructor(i,s,o){this.keepalive=i*1e3,this.checkPing=s,this.timer=(0,r.default)(o),this.reschedule()}clear(){this.timerId&&(this.timer.clear(this.timerId),this.timerId=null)}reschedule(){this.clear(),this.timerId=this.timer.set(()=>{this.checkPing(),this.timerId&&this.reschedule()},this.keepalive)}};t.default=n}),e_=Le(t=>{Pe(),Ie(),Ce();var e=t&&t.__createBinding||(Object.create?function(O,k,R,M){M===void 0&&(M=R);var $=Object.getOwnPropertyDescriptor(k,R);(!$||("get"in $?!k.__esModule:$.writable||$.configurable))&&($={enumerable:!0,get:function(){return k[R]}}),Object.defineProperty(O,M,$)}:function(O,k,R,M){M===void 0&&(M=R),O[M]=k[R]}),r=t&&t.__setModuleDefault||(Object.create?function(O,k){Object.defineProperty(O,"default",{enumerable:!0,value:k})}:function(O,k){O.default=k}),n=t&&t.__importStar||function(O){if(O&&O.__esModule)return O;var k={};if(O!=null)for(var R in O)R!=="default"&&Object.prototype.hasOwnProperty.call(O,R)&&e(k,O,R);return r(k,O),k},i=t&&t.__importDefault||function(O){return O&&O.__esModule?O:{default:O}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(W3()),o=i(CD()),a=i(UR()),l=fl(),u=i(PD()),d=n(RD()),f=i(no()),p=i(jR()),m=i(KD()),g=Fc(),v=QD(),C=i(r2()),S=n(Nm()),x=globalThis.setImmediate||((...O)=>{let k=O.shift();(0,g.nextTick)(()=>{k(...O)})}),b={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0,timerVariant:"auto"},I=class t_ extends v.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(k,R){super(),this.options=R||{};for(let M in b)typeof this.options[M]>"u"?this.options[M]=b[M]:this.options[M]=R[M];this.log=this.options.log||(0,f.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: version:",t_.VERSION),S.isWebWorker?this.log("MqttClient :: environment","webworker"):this.log("MqttClient :: environment",S.default?"browser":"node"),this.log("MqttClient :: options.protocol",R.protocol),this.log("MqttClient :: options.protocolVersion",R.protocolVersion),this.log("MqttClient :: options.username",R.username),this.log("MqttClient :: options.keepalive",R.keepalive),this.log("MqttClient :: options.reconnectPeriod",R.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",R.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",R.properties?R.properties.topicAliasMaximum:void 0),this.options.clientId=typeof R.clientId=="string"?R.clientId:t_.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=R.protocolVersion===5&&R.customHandleAcks?R.customHandleAcks:(...M)=>{M[3](null,0)},this.options.writeCache||(o.default.writeToStream.cacheNumbers=!1),this.streamBuilder=k,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new a.default:this.options.messageIdProvider,this.outgoingStore=R.outgoingStore||new p.default,this.incomingStore=R.incomingStore||new p.default,this.queueQoSZero=R.queueQoSZero===void 0?!0:R.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,R.properties&&R.properties.topicAliasMaximum>0&&(R.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new s.default(R.properties.topicAliasMaximum)),this.on("connect",()=>{let{queue:M}=this,$=()=>{let Y=M.shift();this.log("deliver :: entry %o",Y);let se=null;if(!Y){this._resubscribe();return}se=Y.packet,this.log("deliver :: call _sendPacket for %o",se);let B=!0;se.messageId&&se.messageId!==0&&(this.messageIdProvider.register(se.messageId)||(B=!1)),B?this._sendPacket(se,F=>{Y.cb&&Y.cb(F),$()}):(this.log("messageId: %d has already used. The message is skipped and removed.",se.messageId),$())};this.log("connect :: sending queued packets"),$()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this.log("close :: clearing ping timer"),this.pingTimer&&(this.pingTimer.clear(),this.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(k,R){R()}handleMessage(k,R){R()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var k;let R=new l.Writable,M=o.default.parser(this.options),$=null,Y=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),M.on("packet",Z=>{this.log("parser :: on packet push to packets array."),Y.push(Z)});let se=()=>{this.log("work :: getting next packet in queue");let Z=Y.shift();if(Z)this.log("work :: packet pulled from queue"),(0,m.default)(this,Z,B);else{this.log("work :: no packets in queue");let de=$;$=null,this.log("work :: done flag is %s",!!de),de&&de()}},B=()=>{if(Y.length)(0,g.nextTick)(se);else{let Z=$;$=null,Z()}};R._write=(Z,de,oe)=>{$=oe,this.log("writable stream :: parsing buffer"),M.parse(Z),se()};let F=Z=>{this.log("streamErrorHandler :: error",Z.message),Z.code?(this.log("streamErrorHandler :: emitting error"),this.emit("error",Z)):this.noop(Z)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(R),this.stream.on("error",F),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");let K={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(K.will=Object.assign(Object.assign({},this.options.will),{payload:(k=this.options.will)===null||k===void 0?void 0:k.payload})),this.topicAliasRecv&&(K.properties||(K.properties={}),this.topicAliasRecv&&(K.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(K),M.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){let Z=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(Z)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this.emit("error",new Error("connack timeout")),this._cleanUp(!0)},this.options.connectTimeout),this}publish(k,R,M,$){this.log("publish :: message `%s` to topic `%s`",R,k);let{options:Y}=this;typeof M=="function"&&($=M,M=null),M=M||{},M=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),M);let{qos:se,retain:B,dup:F,properties:K,cbStorePut:Z}=M;if(this._checkDisconnecting($))return this;let de=()=>{let oe=0;if((se===1||se===2)&&(oe=this._nextId(),oe===null))return this.log("No messageId left"),!1;let D={cmd:"publish",topic:k,payload:R,qos:se,retain:B,messageId:oe,dup:F};switch(Y.protocolVersion===5&&(D.properties=K),this.log("publish :: qos",se),se){case 1:case 2:this.outgoing[D.messageId]={volatile:!1,cb:$||this.noop},this.log("MqttClient:publish: packet cmd: %s",D.cmd),this._sendPacket(D,void 0,Z);break;default:this.log("MqttClient:publish: packet cmd: %s",D.cmd),this._sendPacket(D,$,Z);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!de())&&this._storeProcessingQueue.push({invoke:de,cbStorePut:M.cbStorePut,callback:$}),this}publishAsync(k,R,M){return new Promise(($,Y)=>{this.publish(k,R,M,(se,B)=>{se?Y(se):$(B)})})}subscribe(k,R,M){let $=this.options.protocolVersion;typeof R=="function"&&(M=R),M=M||this.noop;let Y=!1,se=[];typeof k=="string"?(k=[k],se=k):Array.isArray(k)?se=k:typeof k=="object"&&(Y=k.resubscribe,delete k.resubscribe,se=Object.keys(k));let B=d.validateTopics(se);if(B!==null)return x(M,new Error(`Invalid topic ${B}`)),this;if(this._checkDisconnecting(M))return this.log("subscribe: discconecting true"),this;let F={qos:0};$===5&&(F.nl=!1,F.rap=!1,F.rh=0),R=Object.assign(Object.assign({},F),R);let K=R.properties,Z=[],de=(D,J)=>{if(J=J||R,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,D)||this._resubscribeTopics[D].qos<J.qos||Y){let W={topic:D,qos:J.qos};$===5&&(W.nl=J.nl,W.rap=J.rap,W.rh=J.rh,W.properties=K),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",W.topic,W.qos),Z.push(W)}};if(Array.isArray(k)?k.forEach(D=>{this.log("subscribe: array topic %s",D),de(D)}):Object.keys(k).forEach(D=>{this.log("subscribe: object topic %s, %o",D,k[D]),de(D,k[D])}),!Z.length)return M(null,[]),this;let oe=()=>{let D=this._nextId();if(D===null)return this.log("No messageId left"),!1;let J={cmd:"subscribe",subscriptions:Z,messageId:D};if(K&&(J.properties=K),this.options.resubscribe){this.log("subscribe :: resubscribe true");let W=[];Z.forEach(te=>{if(this.options.reconnectPeriod>0){let N={qos:te.qos};$===5&&(N.nl=te.nl||!1,N.rap=te.rap||!1,N.rh=te.rh||0,N.properties=te.properties),this._resubscribeTopics[te.topic]=N,W.push(te.topic)}}),this.messageIdToTopic[J.messageId]=W}return this.outgoing[J.messageId]={volatile:!0,cb(W,te){if(!W){let{granted:N}=te;for(let ie=0;ie<N.length;ie+=1)Z[ie].qos=N[ie]}M(W,Z)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(J),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!oe())&&this._storeProcessingQueue.push({invoke:oe,callback:M}),this}subscribeAsync(k,R){return new Promise((M,$)=>{this.subscribe(k,R,(Y,se)=>{Y?$(Y):M(se)})})}unsubscribe(k,R,M){typeof k=="string"&&(k=[k]),typeof R=="function"&&(M=R),M=M||this.noop;let $=d.validateTopics(k);if($!==null)return x(M,new Error(`Invalid topic ${$}`)),this;if(this._checkDisconnecting(M))return this;let Y=()=>{let se=this._nextId();if(se===null)return this.log("No messageId left"),!1;let B={cmd:"unsubscribe",messageId:se,unsubscriptions:[]};return typeof k=="string"?B.unsubscriptions=[k]:Array.isArray(k)&&(B.unsubscriptions=k),this.options.resubscribe&&B.unsubscriptions.forEach(F=>{delete this._resubscribeTopics[F]}),typeof R=="object"&&R.properties&&(B.properties=R.properties),this.outgoing[B.messageId]={volatile:!0,cb:M},this.log("unsubscribe: call _sendPacket"),this._sendPacket(B),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!Y())&&this._storeProcessingQueue.push({invoke:Y,callback:M}),this}unsubscribeAsync(k,R){return new Promise((M,$)=>{this.unsubscribe(k,R,(Y,se)=>{Y?$(Y):M(se)})})}end(k,R,M){this.log("end :: (%s)",this.options.clientId),(k==null||typeof k!="boolean")&&(M=M||R,R=k,k=!1),typeof R!="object"&&(M=M||R,R=null),this.log("end :: cb? %s",!!M),(!M||typeof M!="function")&&(M=this.noop);let $=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(se=>{this.outgoingStore.close(B=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),M){let F=se||B;this.log("end :: closeStores: invoking callback with args"),M(F)}})}),this._deferredReconnect&&this._deferredReconnect()},Y=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,k),this._cleanUp(k,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),(0,g.nextTick)($)},R)};return this.disconnecting?(M(),this):(this._clearReconnect(),this.disconnecting=!0,!k&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,Y,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),Y()),this)}endAsync(k,R){return new Promise((M,$)=>{this.end(k,R,Y=>{Y?$(Y):M()})})}removeOutgoingMessage(k){if(this.outgoing[k]){let{cb:R}=this.outgoing[k];this._removeOutgoingAndStoreMessage(k,()=>{R(new Error("Message removed"))})}return this}reconnect(k){this.log("client reconnect");let R=()=>{k?(this.options.incomingStore=k.incomingStore,this.options.outgoingStore=k.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new p.default,this.outgoingStore=this.options.outgoingStore||new p.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=R:R(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(k=>{this.outgoing[k].volatile&&typeof this.outgoing[k].cb=="function"&&(this.outgoing[k].cb(new Error("Connection closed")),delete this.outgoing[k])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(k=>{typeof this.outgoing[k].cb=="function"&&(this.outgoing[k].cb(new Error("Connection closed")),delete this.outgoing[k])}))}_removeTopicAliasAndRecoverTopicName(k){let R;k.properties&&(R=k.properties.topicAlias);let M=k.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",R,M),M.length===0){if(typeof R>"u")return new Error("Unregistered Topic Alias");if(M=this.topicAliasSend.getTopicByAlias(R),typeof M>"u")return new Error("Unregistered Topic Alias");k.topic=M}R&&delete k.properties.topicAlias}_checkDisconnecting(k){return this.disconnecting&&(k&&k!==this.noop?k(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(k,R,M={}){if(R&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",R)),this.log("_cleanUp :: forced? %s",k),k)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{let $=Object.assign({cmd:"disconnect"},M);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket($,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),x(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}!this.disconnecting&&!this.reconnecting&&(this.log("_cleanUp :: client not disconnecting/reconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer&&(this.log("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),R&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",R),R())}_storeAndSend(k,R,M){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",k.cmd);let $=k,Y;if($.cmd==="publish"&&($=(0,u.default)(k),Y=this._removeTopicAliasAndRecoverTopicName($),Y))return R&&R(Y);this.outgoingStore.put($,se=>{if(se)return R&&R(se);M(),this._writePacket(k,R)})}_applyTopicAlias(k){if(this.options.protocolVersion===5&&k.cmd==="publish"){let R;k.properties&&(R=k.properties.topicAlias);let M=k.topic.toString();if(this.topicAliasSend)if(R){if(M.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",M,R),!this.topicAliasSend.put(M,R)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,R),new Error("Sending Topic Alias out of range")}else M.length!==0&&(this.options.autoAssignTopicAlias?(R=this.topicAliasSend.getAliasByTopic(M),R?(k.topic="",k.properties=Object.assign(Object.assign({},k.properties),{topicAlias:R}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",M,R)):(R=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(M,R),k.properties=Object.assign(Object.assign({},k.properties),{topicAlias:R}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",M,R))):this.options.autoUseTopicAlias&&(R=this.topicAliasSend.getAliasByTopic(M),R&&(k.topic="",k.properties=Object.assign(Object.assign({},k.properties),{topicAlias:R}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",M,R))));else if(R)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",M,R),new Error("Sending Topic Alias out of range")}}_noop(k){this.log("noop ::",k)}_writePacket(k,R){this.log("_writePacket :: packet: %O",k),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",k),this._shiftPingInterval(),this.log("_writePacket :: writing to stream");let M=o.default.writeToStream(k,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",M),!M&&R&&R!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",R)):R&&(this.log("_writePacket :: invoking cb"),R())}_sendPacket(k,R,M,$){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),M=M||this.noop,R=R||this.noop;let Y=this._applyTopicAlias(k);if(Y){R(Y);return}if(!this.connected){if(k.cmd==="auth"){this._writePacket(k,R);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(k,R,M);return}if($){this._writePacket(k,R);return}switch(k.cmd){case"publish":break;case"pubrel":this._storeAndSend(k,R,M);return;default:this._writePacket(k,R);return}switch(k.qos){case 2:case 1:this._storeAndSend(k,R,M);break;case 0:default:this._writePacket(k,R);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(k,R,M){this.log("_storePacket :: packet: %o",k),this.log("_storePacket :: cb? %s",!!R),M=M||this.noop;let $=k;if($.cmd==="publish"){$=(0,u.default)(k);let se=this._removeTopicAliasAndRecoverTopicName($);if(se)return R&&R(se)}let Y=$.qos||0;Y===0&&this.queueQoSZero||$.cmd!=="publish"?this.queue.push({packet:$,cb:R}):Y>0?(R=this.outgoing[$.messageId]?this.outgoing[$.messageId].cb:null,this.outgoingStore.put($,se=>{if(se)return R&&R(se);M()})):R&&R(new Error("No connection to broker"))}_setupPingTimer(){this.log("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive),!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=new C.default(this.options.keepalive,()=>{this._checkPing()},this.options.timerVariant))}_shiftPingInterval(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule()}_checkPing(){this.log("_checkPing :: checking ping..."),this.pingResp?(this.log("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(this.emit("error",new Error("Keepalive timeout")),this.log("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))}_resubscribe(){this.log("_resubscribe");let k=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&k.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let R=0;R<k.length;R++){let M={};M[k[R]]=this._resubscribeTopics[k[R]],M.resubscribe=!0,this.subscribe(M,{properties:M[k[R]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(k){if(this.disconnected){this.emit("connect",k);return}this.connackPacket=k,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;let R=()=>{let M=this.outgoingStore.createStream(),$=()=>{M.destroy(),M=null,this._flushStoreProcessingQueue(),Y()},Y=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",$),M.on("error",B=>{Y(),this._flushStoreProcessingQueue(),this.removeListener("close",$),this.emit("error",B)});let se=()=>{if(!M)return;let B=M.read(1),F;if(!B){M.once("readable",se);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[B.messageId]){se();return}!this.disconnecting&&!this.reconnectTimer?(F=this.outgoing[B.messageId]?this.outgoing[B.messageId].cb:null,this.outgoing[B.messageId]={volatile:!1,cb(K,Z){F&&F(K,Z),se()}},this._packetIdsDuringStoreProcessing[B.messageId]=!0,this.messageIdProvider.register(B.messageId)?this._sendPacket(B,void 0,void 0,!0):this.log("messageId: %d has already used.",B.messageId)):M.destroy&&M.destroy()};M.on("end",()=>{let B=!0;for(let F in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[F]){B=!1;break}this.removeListener("close",$),B?(Y(),this._invokeAllStoreProcessingQueue(),this.emit("connect",k)):R()}),se()};R()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){let k=this._storeProcessingQueue[0];if(k&&k.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(let k of this._storeProcessingQueue)k.cbStorePut&&k.cbStorePut(new Error("Connection closed")),k.callback&&k.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(k,R){delete this.outgoing[k],this.outgoingStore.del({messageId:k},(M,$)=>{R(M,$),this.messageIdProvider.deallocate(k),this._invokeStoreProcessingQueue()})}};I.VERSION="5.5.0",t.default=I}),rL=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=t2(),r=class{constructor(){this.numberAllocator=new e.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(n){return this.numberAllocator.use(n)}deallocate(n){this.numberAllocator.free(n)}clear(){this.numberAllocator.clear()}};t.default=r});function Sa(t){throw new RangeError(i2[t])}function aT(t,e){let r=t.split("@"),n="";r.length>1&&(n=r[0]+"@",t=r[1]);let i=function(s,o){let a=[],l=s.length;for(;l--;)a[l]=o(s[l]);return a}((t=t.replace(n2,".")).split("."),e).join(".");return n+i}function lT(t){let e=[],r=0,n=t.length;for(;r<n;){let i=t.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){let s=t.charCodeAt(r++);(64512&s)==56320?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),r--)}else e.push(i)}return e}var uT,hT,n2,i2,_i,tf,q0,Y0,K0,Q0,Po,nL=Xr(()=>{Pe(),Ie(),Ce(),uT=/^xn--/,hT=/[^\0-\x7E]/,n2=/[\x2E\u3002\uFF0E\uFF61]/g,i2={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},_i=Math.floor,tf=String.fromCharCode,q0=function(t,e){return t+22+75*(t<26)-((e!=0)<<5)},Y0=function(t,e,r){let n=0;for(t=r?_i(t/700):t>>1,t+=_i(t/e);t>455;n+=36)t=_i(t/35);return _i(n+36*t/(t+38))},K0=function(t){let e=[],r=t.length,n=0,i=128,s=72,o=t.lastIndexOf("-");o<0&&(o=0);for(let l=0;l<o;++l)t.charCodeAt(l)>=128&&Sa("not-basic"),e.push(t.charCodeAt(l));for(let l=o>0?o+1:0;l<r;){let u=n;for(let f=1,p=36;;p+=36){l>=r&&Sa("invalid-input");let m=(a=t.charCodeAt(l++))-48<10?a-22:a-65<26?a-65:a-97<26?a-97:36;(m>=36||m>_i((2147483647-n)/f))&&Sa("overflow"),n+=m*f;let g=p<=s?1:p>=s+26?26:p-s;if(m<g)break;let v=36-g;f>_i(2147483647/v)&&Sa("overflow"),f*=v}let d=e.length+1;s=Y0(n-u,d,u==0),_i(n/d)>2147483647-i&&Sa("overflow"),i+=_i(n/d),n%=d,e.splice(n++,0,i)}var a;return String.fromCodePoint(...e)},Q0=function(t){let e=[],r=(t=lT(t)).length,n=128,i=0,s=72;for(let l of t)l<128&&e.push(tf(l));let o=e.length,a=o;for(o&&e.push("-");a<r;){let l=2147483647;for(let d of t)d>=n&&d<l&&(l=d);let u=a+1;l-n>_i((2147483647-i)/u)&&Sa("overflow"),i+=(l-n)*u,n=l;for(let d of t)if(d<n&&++i>2147483647&&Sa("overflow"),d==n){let f=i;for(let p=36;;p+=36){let m=p<=s?1:p>=s+26?26:p-s;if(f<m)break;let g=f-m,v=36-m;e.push(tf(q0(m+g%v,0))),f=_i(g/v)}e.push(tf(q0(f,0))),s=Y0(i,u,a==o),i=0,++a}++i,++n}return e.join("")},Po={version:"2.1.0",ucs2:{decode:lT,encode:t=>String.fromCodePoint(...t)},decode:K0,encode:Q0,toASCII:function(t){return aT(t,function(e){return hT.test(e)?"xn--"+Q0(e):e})},toUnicode:function(t){return aT(t,function(e){return uT.test(e)?K0(e.slice(4).toLowerCase()):e})}},Po.decode,Po.encode,Po.toASCII,Po.toUnicode,Po.ucs2,Po.version});function iL(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var cT,Ml,dT,Zi,sL=Xr(()=>{Pe(),Ie(),Ce(),cT=function(t,e,r,n){e=e||"&",r=r||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var l=0;l<a;++l){var u,d,f,p,m=t[l].replace(s,"%20"),g=m.indexOf(r);g>=0?(u=m.substr(0,g),d=m.substr(g+1)):(u=m,d=""),f=decodeURIComponent(u),p=decodeURIComponent(d),iL(i,f)?Array.isArray(i[f])?i[f].push(p):i[f]=[i[f],p]:i[f]=p}return i},Ml=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},dT=function(t,e,r,n){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(Ml(i))+r;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(Ml(o))}).join(e):s+encodeURIComponent(Ml(t[i]))}).join(e):n?encodeURIComponent(Ml(n))+r+encodeURIComponent(Ml(t)):""},Zi={},Zi.decode=Zi.parse=cT,Zi.encode=Zi.stringify=dT,Zi.decode,Zi.encode,Zi.parse,Zi.stringify});function r_(){throw new Error("setTimeout has not been defined")}function n_(){throw new Error("clearTimeout has not been defined")}function s2(t){if(Ds===setTimeout)return setTimeout(t,0);if((Ds===r_||!Ds)&&setTimeout)return Ds=setTimeout,setTimeout(t,0);try{return Ds(t,0)}catch{try{return Ds.call(null,t,0)}catch{return Ds.call(this||Ya,t,0)}}}function oL(){Ka&&Wa&&(Ka=!1,Wa.length?hs=Wa.concat(hs):tc=-1,hs.length&&o2())}function o2(){if(!Ka){var t=s2(oL);Ka=!0;for(var e=hs.length;e;){for(Wa=hs,hs=[];++tc<e;)Wa&&Wa[tc].run();tc=-1,e=hs.length}Wa=null,Ka=!1,function(r){if(Ls===clearTimeout)return clearTimeout(r);if((Ls===n_||!Ls)&&clearTimeout)return Ls=clearTimeout,clearTimeout(r);try{Ls(r)}catch{try{return Ls.call(null,r)}catch{return Ls.call(this||Ya,r)}}}(t)}}function fT(t,e){(this||Ya).fun=t,(this||Ya).array=e}function Ps(){}var pT,Ds,Ls,Ya,lr,Wa,hs,Ka,tc,er,aL=Xr(()=>{Pe(),Ie(),Ce(),Ya=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,lr=pT={},function(){try{Ds=typeof setTimeout=="function"?setTimeout:r_}catch{Ds=r_}try{Ls=typeof clearTimeout=="function"?clearTimeout:n_}catch{Ls=n_}}(),hs=[],Ka=!1,tc=-1,lr.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];hs.push(new fT(t,e)),hs.length!==1||Ka||s2(o2)},fT.prototype.run=function(){(this||Ya).fun.apply(null,(this||Ya).array)},lr.title="browser",lr.browser=!0,lr.env={},lr.argv=[],lr.version="",lr.versions={},lr.on=Ps,lr.addListener=Ps,lr.once=Ps,lr.off=Ps,lr.removeListener=Ps,lr.removeAllListeners=Ps,lr.emit=Ps,lr.prependListener=Ps,lr.prependOnceListener=Ps,lr.listeners=function(t){return[]},lr.binding=function(t){throw new Error("process.binding is not supported")},lr.cwd=function(){return"/"},lr.chdir=function(t){throw new Error("process.chdir is not supported")},lr.umask=function(){return 0},er=pT,er.addListener,er.argv,er.binding,er.browser,er.chdir,er.cwd,er.emit,er.env,er.listeners,er.nextTick,er.off,er.on,er.once,er.prependListener,er.prependOnceListener,er.removeAllListeners,er.removeListener,er.title,er.umask,er.version,er.versions});function lL(){if(i_)return ep;i_=!0;var t=ep={},e,r;function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?e=setTimeout:e=n}catch{e=n}try{typeof clearTimeout=="function"?r=clearTimeout:r=i}catch{r=i}})();function s(v){if(e===setTimeout)return setTimeout(v,0);if((e===n||!e)&&setTimeout)return e=setTimeout,setTimeout(v,0);try{return e(v,0)}catch{try{return e.call(null,v,0)}catch{return e.call(this||ka,v,0)}}}function o(v){if(r===clearTimeout)return clearTimeout(v);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(v);try{return r(v)}catch{try{return r.call(null,v)}catch{return r.call(this||ka,v)}}}var a=[],l=!1,u,d=-1;function f(){!l||!u||(l=!1,u.length?a=u.concat(a):d=-1,a.length&&p())}function p(){if(!l){var v=s(f);l=!0;for(var C=a.length;C;){for(u=a,a=[];++d<C;)u&&u[d].run();d=-1,C=a.length}u=null,l=!1,o(v)}}t.nextTick=function(v){var C=new Array(arguments.length-1);if(arguments.length>1)for(var S=1;S<arguments.length;S++)C[S-1]=arguments[S];a.push(new m(v,C)),a.length===1&&!l&&s(p)};function m(v,C){(this||ka).fun=v,(this||ka).array=C}m.prototype.run=function(){(this||ka).fun.apply(null,(this||ka).array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={};function g(){}return t.on=g,t.addListener=g,t.once=g,t.off=g,t.removeListener=g,t.removeAllListeners=g,t.emit=g,t.prependListener=g,t.prependOnceListener=g,t.listeners=function(v){return[]},t.binding=function(v){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(v){throw new Error("process.chdir is not supported")},t.umask=function(){return 0},ep}var ep,i_,ka,Wt,a2=Xr(()=>{Pe(),Ie(),Ce(),ep={},i_=!1,ka=typeof globalThis<"u"?globalThis:typeof self<"u"?self:global,Wt=lL(),Wt.platform="browser",Wt.addListener,Wt.argv,Wt.binding,Wt.browser,Wt.chdir,Wt.cwd,Wt.emit,Wt.env,Wt.listeners,Wt.nextTick,Wt.off,Wt.on,Wt.once,Wt.prependListener,Wt.prependOnceListener,Wt.removeAllListeners,Wt.removeListener,Wt.title,Wt.umask,Wt.version,Wt.versions});function uL(){if(s_)return tp;s_=!0;var t=Wt;function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function r(s,o){for(var a="",l=0,u=-1,d=0,f,p=0;p<=s.length;++p){if(p<s.length)f=s.charCodeAt(p);else{if(f===47)break;f=47}if(f===47){if(!(u===p-1||d===1))if(u!==p-1&&d===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var m=a.lastIndexOf("/");if(m!==a.length-1){m===-1?(a="",l=0):(a=a.slice(0,m),l=a.length-1-a.lastIndexOf("/")),u=p,d=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=p,d=0;continue}}o&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+s.slice(u+1,p):a=s.slice(u+1,p),l=p-u-1;u=p,d=0}else f===46&&d!==-1?++d:d=-1}return a}function n(s,o){var a=o.dir||o.root,l=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+l:a+s+l:l}var i={resolve:function(){for(var s="",o=!1,a,l=arguments.length-1;l>=-1&&!o;l--){var u;l>=0?u=arguments[l]:(a===void 0&&(a=t.cwd()),u=a),e(u),u.length!==0&&(s=u+"/"+s,o=u.charCodeAt(0)===47)}return s=r(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var o=s.charCodeAt(0)===47,a=s.charCodeAt(s.length-1)===47;return s=r(s,!o),s.length===0&&!o&&(s="."),s.length>0&&a&&(s+="/"),o?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var a=arguments[o];e(a),a.length>0&&(s===void 0?s=a:s+="/"+a)}return s===void 0?".":i.normalize(s)},relative:function(s,o){if(e(s),e(o),s===o||(s=i.resolve(s),o=i.resolve(o),s===o))return"";for(var a=1;a<s.length&&s.charCodeAt(a)===47;++a);for(var l=s.length,u=l-a,d=1;d<o.length&&o.charCodeAt(d)===47;++d);for(var f=o.length,p=f-d,m=u<p?u:p,g=-1,v=0;v<=m;++v){if(v===m){if(p>m){if(o.charCodeAt(d+v)===47)return o.slice(d+v+1);if(v===0)return o.slice(d+v)}else u>m&&(s.charCodeAt(a+v)===47?g=v:v===0&&(g=0));break}var C=s.charCodeAt(a+v),S=o.charCodeAt(d+v);if(C!==S)break;C===47&&(g=v)}var x="";for(v=a+g+1;v<=l;++v)(v===l||s.charCodeAt(v)===47)&&(x.length===0?x+="..":x+="/..");return x.length>0?x+o.slice(d+g):(d+=g,o.charCodeAt(d)===47&&++d,o.slice(d))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var o=s.charCodeAt(0),a=o===47,l=-1,u=!0,d=s.length-1;d>=1;--d)if(o=s.charCodeAt(d),o===47){if(!u){l=d;break}}else u=!1;return l===-1?a?"/":".":a&&l===1?"//":s.slice(0,l)},basename:function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(s);var a=0,l=-1,u=!0,d;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var f=o.length-1,p=-1;for(d=s.length-1;d>=0;--d){var m=s.charCodeAt(d);if(m===47){if(!u){a=d+1;break}}else p===-1&&(u=!1,p=d+1),f>=0&&(m===o.charCodeAt(f)?--f===-1&&(l=d):(f=-1,l=p))}return a===l?l=p:l===-1&&(l=s.length),s.slice(a,l)}else{for(d=s.length-1;d>=0;--d)if(s.charCodeAt(d)===47){if(!u){a=d+1;break}}else l===-1&&(u=!1,l=d+1);return l===-1?"":s.slice(a,l)}},extname:function(s){e(s);for(var o=-1,a=0,l=-1,u=!0,d=0,f=s.length-1;f>=0;--f){var p=s.charCodeAt(f);if(p===47){if(!u){a=f+1;break}continue}l===-1&&(u=!1,l=f+1),p===46?o===-1?o=f:d!==1&&(d=1):o!==-1&&(d=-1)}return o===-1||l===-1||d===0||d===1&&o===l-1&&o===a+1?"":s.slice(o,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){e(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var a=s.charCodeAt(0),l=a===47,u;l?(o.root="/",u=1):u=0;for(var d=-1,f=0,p=-1,m=!0,g=s.length-1,v=0;g>=u;--g){if(a=s.charCodeAt(g),a===47){if(!m){f=g+1;break}continue}p===-1&&(m=!1,p=g+1),a===46?d===-1?d=g:v!==1&&(v=1):d!==-1&&(v=-1)}return d===-1||p===-1||v===0||v===1&&d===p-1&&d===f+1?p!==-1&&(f===0&&l?o.base=o.name=s.slice(1,p):o.base=o.name=s.slice(f,p)):(f===0&&l?(o.name=s.slice(1,d),o.base=s.slice(1,p)):(o.name=s.slice(f,d),o.base=s.slice(f,p)),o.ext=s.slice(d,p)),f>0?o.dir=s.slice(0,f-1):l&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,tp=i,tp}var tp,s_,o_,hL=Xr(()=>{Pe(),Ie(),Ce(),a2(),tp={},s_=!1,o_=uL()}),l2={};hl(l2,{URL:()=>A2,Url:()=>w2,default:()=>Rt,fileURLToPath:()=>u2,format:()=>x2,parse:()=>T2,pathToFileURL:()=>h2,resolve:()=>E2,resolveObject:()=>S2});function ti(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function xh(t,e,r){if(t&&Ei.isObject(t)&&t instanceof ti)return t;var n=new ti;return n.parse(t,e,r),n}function cL(){if(a_)return rp;a_=!0;var t=er;function e(s){if(typeof s!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(s))}function r(s,o){for(var a="",l=0,u=-1,d=0,f,p=0;p<=s.length;++p){if(p<s.length)f=s.charCodeAt(p);else{if(f===47)break;f=47}if(f===47){if(!(u===p-1||d===1))if(u!==p-1&&d===2){if(a.length<2||l!==2||a.charCodeAt(a.length-1)!==46||a.charCodeAt(a.length-2)!==46){if(a.length>2){var m=a.lastIndexOf("/");if(m!==a.length-1){m===-1?(a="",l=0):(a=a.slice(0,m),l=a.length-1-a.lastIndexOf("/")),u=p,d=0;continue}}else if(a.length===2||a.length===1){a="",l=0,u=p,d=0;continue}}o&&(a.length>0?a+="/..":a="..",l=2)}else a.length>0?a+="/"+s.slice(u+1,p):a=s.slice(u+1,p),l=p-u-1;u=p,d=0}else f===46&&d!==-1?++d:d=-1}return a}function n(s,o){var a=o.dir||o.root,l=o.base||(o.name||"")+(o.ext||"");return a?a===o.root?a+l:a+s+l:l}var i={resolve:function(){for(var s="",o=!1,a,l=arguments.length-1;l>=-1&&!o;l--){var u;l>=0?u=arguments[l]:(a===void 0&&(a=t.cwd()),u=a),e(u),u.length!==0&&(s=u+"/"+s,o=u.charCodeAt(0)===47)}return s=r(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var o=s.charCodeAt(0)===47,a=s.charCodeAt(s.length-1)===47;return s=r(s,!o),s.length===0&&!o&&(s="."),s.length>0&&a&&(s+="/"),o?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var a=arguments[o];e(a),a.length>0&&(s===void 0?s=a:s+="/"+a)}return s===void 0?".":i.normalize(s)},relative:function(s,o){if(e(s),e(o),s===o||(s=i.resolve(s),o=i.resolve(o),s===o))return"";for(var a=1;a<s.length&&s.charCodeAt(a)===47;++a);for(var l=s.length,u=l-a,d=1;d<o.length&&o.charCodeAt(d)===47;++d);for(var f=o.length,p=f-d,m=u<p?u:p,g=-1,v=0;v<=m;++v){if(v===m){if(p>m){if(o.charCodeAt(d+v)===47)return o.slice(d+v+1);if(v===0)return o.slice(d+v)}else u>m&&(s.charCodeAt(a+v)===47?g=v:v===0&&(g=0));break}var C=s.charCodeAt(a+v),S=o.charCodeAt(d+v);if(C!==S)break;C===47&&(g=v)}var x="";for(v=a+g+1;v<=l;++v)(v===l||s.charCodeAt(v)===47)&&(x.length===0?x+="..":x+="/..");return x.length>0?x+o.slice(d+g):(d+=g,o.charCodeAt(d)===47&&++d,o.slice(d))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var o=s.charCodeAt(0),a=o===47,l=-1,u=!0,d=s.length-1;d>=1;--d)if(o=s.charCodeAt(d),o===47){if(!u){l=d;break}}else u=!1;return l===-1?a?"/":".":a&&l===1?"//":s.slice(0,l)},basename:function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(s);var a=0,l=-1,u=!0,d;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var f=o.length-1,p=-1;for(d=s.length-1;d>=0;--d){var m=s.charCodeAt(d);if(m===47){if(!u){a=d+1;break}}else p===-1&&(u=!1,p=d+1),f>=0&&(m===o.charCodeAt(f)?--f===-1&&(l=d):(f=-1,l=p))}return a===l?l=p:l===-1&&(l=s.length),s.slice(a,l)}else{for(d=s.length-1;d>=0;--d)if(s.charCodeAt(d)===47){if(!u){a=d+1;break}}else l===-1&&(u=!1,l=d+1);return l===-1?"":s.slice(a,l)}},extname:function(s){e(s);for(var o=-1,a=0,l=-1,u=!0,d=0,f=s.length-1;f>=0;--f){var p=s.charCodeAt(f);if(p===47){if(!u){a=f+1;break}continue}l===-1&&(u=!1,l=f+1),p===46?o===-1?o=f:d!==1&&(d=1):o!==-1&&(d=-1)}return o===-1||l===-1||d===0||d===1&&o===l-1&&o===a+1?"":s.slice(o,l)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return n("/",s)},parse:function(s){e(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var a=s.charCodeAt(0),l=a===47,u;l?(o.root="/",u=1):u=0;for(var d=-1,f=0,p=-1,m=!0,g=s.length-1,v=0;g>=u;--g){if(a=s.charCodeAt(g),a===47){if(!m){f=g+1;break}continue}p===-1&&(m=!1,p=g+1),a===46?d===-1?d=g:v!==1&&(v=1):d!==-1&&(v=-1)}return d===-1||p===-1||v===0||v===1&&d===p-1&&d===f+1?p!==-1&&(f===0&&l?o.base=o.name=s.slice(1,p):o.base=o.name=s.slice(f,p)):(f===0&&l?(o.name=s.slice(1,d),o.base=s.slice(1,p)):(o.name=s.slice(f,d),o.base=s.slice(f,p)),o.ext=s.slice(d,p)),f>0?o.dir=s.slice(0,f-1):l&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return i.posix=i,rp=i,rp}function dL(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return zp?fL(t):pL(t)}function fL(t){let e=t.hostname,r=t.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){let i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(m2,"\\"),r=decodeURIComponent(r),e!=="")return`\\\\${e}${r}`;{let n=r.codePointAt(1)|32,i=r[2];if(n<f2||n>p2||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function pL(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let n=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function mL(t){let e=l_.resolve(t),r=t.charCodeAt(t.length-1);(r===d2||zp&&r===c2)&&e[e.length-1]!==l_.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(g2,"%25")),!zp&&e.includes("\\")&&(e=e.replace(y2,"%5C")),e.includes(`
`)&&(e=e.replace(v2,"%0A")),e.includes("\r")&&(e=e.replace(_2,"%0D")),e.includes("	")&&(e=e.replace(b2,"%09")),n.pathname=e,n}function u2(t){if(typeof t=="string")t=new URL(t);else if(!(t instanceof URL))throw new Deno.errors.InvalidData("invalid argument path , must be a string or URL");if(t.protocol!=="file:")throw new Deno.errors.InvalidData("invalid url scheme");return Hp?gL(t):yL(t)}function gL(t){let e=t.hostname,r=t.pathname;for(let n=0;n<r.length;n++)if(r[n]==="%"){let i=r.codePointAt(n+2)||32;if(r[n+1]==="2"&&i===102||r[n+1]==="5"&&i===99)throw new Deno.errors.InvalidData("must not include encoded \\ or / characters")}if(r=r.replace(k2,"\\"),r=decodeURIComponent(r),e!=="")return`\\\\${e}${r}`;{let n=r.codePointAt(1)|32,i=r[2];if(n<P2||n>R2||i!==":")throw new Deno.errors.InvalidData("file url path must be absolute");return r.slice(1)}}function yL(t){if(t.hostname!=="")throw new Deno.errors.InvalidData("invalid file url hostname");let e=t.pathname;for(let r=0;r<e.length;r++)if(e[r]==="%"){let n=e.codePointAt(r+2)||32;if(e[r+1]==="2"&&n===102)throw new Deno.errors.InvalidData("must not include encoded / characters")}return decodeURIComponent(e)}function h2(t){let e=o_.resolve(t),r=t.charCodeAt(t.length-1);(r===I2||Hp&&r===C2)&&e[e.length-1]!==o_.sep&&(e+="/");let n=new URL("file://");return e.includes("%")&&(e=e.replace(O2,"%25")),!Hp&&e.includes("\\")&&(e=e.replace(M2,"%5C")),e.includes(`
`)&&(e=e.replace(B2,"%0A")),e.includes("\r")&&(e=e.replace(N2,"%0D")),e.includes("	")&&(e=e.replace(D2,"%09")),n.pathname=e,n}var Rt,mT,Ei,gT,yT,vT,_T,rf,Z0,J0,ey,bT,wT,nf,Ta,sf,rp,a_,l_,xT,c2,d2,f2,p2,zp,m2,g2,y2,v2,_2,b2,ET,w2,x2,E2,S2,T2,A2,C2,I2,P2,R2,Hp,k2,O2,M2,B2,N2,D2,vL=Xr(()=>{Pe(),Ie(),Ce(),nL(),sL(),aL(),hL(),a2(),Rt={},mT=Po,Ei={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Rt.parse=xh,Rt.resolve=function(t,e){return xh(t,!1,!0).resolve(e)},Rt.resolveObject=function(t,e){return t?xh(t,!1,!0).resolveObject(e):e},Rt.format=function(t){return Ei.isString(t)&&(t=xh(t)),t instanceof ti?t.format():ti.prototype.format.call(t)},Rt.Url=ti,gT=/^([a-z0-9.+-]+:)/i,yT=/:[0-9]*$/,vT=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,_T=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),rf=["'"].concat(_T),Z0=["%","/","?",";","#"].concat(rf),J0=["/","?","#"],ey=/^[+a-z0-9A-Z_-]{0,63}$/,bT=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,wT={javascript:!0,"javascript:":!0},nf={javascript:!0,"javascript:":!0},Ta={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},sf=Zi,ti.prototype.parse=function(t,e,r){if(!Ei.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i);s[0]=s[0].replace(/\\/g,"/");var o=t=s.join(i);if(o=o.trim(),!r&&t.split("#").length===1){var a=vT.exec(o);if(a)return this.path=o,this.href=o,this.pathname=a[1],a[2]?(this.search=a[2],this.query=e?sf.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=gT.exec(o);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,o=o.substr(l.length)}if(r||l||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var d=o.substr(0,2)==="//";!d||l&&nf[l]||(o=o.substr(2),this.slashes=!0)}if(!nf[l]&&(d||l&&!Ta[l])){for(var f,p,m=-1,g=0;g<J0.length;g++)(v=o.indexOf(J0[g]))!==-1&&(m===-1||v<m)&&(m=v);for((p=m===-1?o.lastIndexOf("@"):o.lastIndexOf("@",m))!==-1&&(f=o.slice(0,p),o=o.slice(p+1),this.auth=decodeURIComponent(f)),m=-1,g=0;g<Z0.length;g++){var v;(v=o.indexOf(Z0[g]))!==-1&&(m===-1||v<m)&&(m=v)}m===-1&&(m=o.length),this.host=o.slice(0,m),o=o.slice(m),this.parseHost(),this.hostname=this.hostname||"";var C=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!C)for(var S=this.hostname.split(/\./),x=(g=0,S.length);g<x;g++){var b=S[g];if(b&&!b.match(ey)){for(var I="",O=0,k=b.length;O<k;O++)b.charCodeAt(O)>127?I+="x":I+=b[O];if(!I.match(ey)){var R=S.slice(0,g),M=S.slice(g+1),$=b.match(bT);$&&(R.push($[1]),M.unshift($[2])),M.length&&(o="/"+M.join(".")+o),this.hostname=R.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),C||(this.hostname=mT.toASCII(this.hostname));var Y=this.port?":"+this.port:"",se=this.hostname||"";this.host=se+Y,this.href+=this.host,C&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),o[0]!=="/"&&(o="/"+o))}if(!wT[u])for(g=0,x=rf.length;g<x;g++){var B=rf[g];if(o.indexOf(B)!==-1){var F=encodeURIComponent(B);F===B&&(F=escape(B)),o=o.split(B).join(F)}}var K=o.indexOf("#");K!==-1&&(this.hash=o.substr(K),o=o.slice(0,K));var Z=o.indexOf("?");if(Z!==-1?(this.search=o.substr(Z),this.query=o.substr(Z+1),e&&(this.query=sf.parse(this.query)),o=o.slice(0,Z)):e&&(this.search="",this.query={}),o&&(this.pathname=o),Ta[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){Y=this.pathname||"";var de=this.search||"";this.path=Y+de}return this.href=this.format(),this},ti.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Ei.isObject(this.query)&&Object.keys(this.query).length&&(s=sf.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ta[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),e+i+(r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}))+(o=o.replace("#","%23"))+n},ti.prototype.resolve=function(t){return this.resolveObject(xh(t,!1,!0)).format()},ti.prototype.resolveObject=function(t){if(Ei.isString(t)){var e=new ti;e.parse(t,!1,!0),t=e}for(var r=new ti,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return Ta[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ta[t.protocol]){for(var u=Object.keys(t),d=0;d<u.length;d++){var f=u[d];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,t.host||nf[t.protocol])r.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),p[0]!==""&&p.unshift(""),p.length<2&&p.unshift(""),r.pathname=p.join("/")}if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&r.pathname.charAt(0)==="/",C=t.host||t.pathname&&t.pathname.charAt(0)==="/",S=C||v||r.host&&t.pathname,x=S,b=r.pathname&&r.pathname.split("/")||[],I=(p=t.pathname&&t.pathname.split("/")||[],r.protocol&&!Ta[r.protocol]);if(I&&(r.hostname="",r.port=null,r.host&&(b[0]===""?b[0]=r.host:b.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(p[0]===""?p[0]=t.host:p.unshift(t.host)),t.host=null),S=S&&(p[0]===""||b[0]==="")),C)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,b=p;else if(p.length)b||(b=[]),b.pop(),b=b.concat(p),r.search=t.search,r.query=t.query;else if(!Ei.isNullOrUndefined(t.search))return I&&(r.hostname=r.host=b.shift(),($=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=$.shift(),r.host=r.hostname=$.shift())),r.search=t.search,r.query=t.query,Ei.isNull(r.pathname)&&Ei.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=b.slice(-1)[0],k=(r.host||t.host||b.length>1)&&(O==="."||O==="..")||O==="",R=0,M=b.length;M>=0;M--)(O=b[M])==="."?b.splice(M,1):O===".."?(b.splice(M,1),R++):R&&(b.splice(M,1),R--);if(!S&&!x)for(;R--;R)b.unshift("..");!S||b[0]===""||b[0]&&b[0].charAt(0)==="/"||b.unshift(""),k&&b.join("/").substr(-1)!=="/"&&b.push("");var $,Y=b[0]===""||b[0]&&b[0].charAt(0)==="/";return I&&(r.hostname=r.host=Y?"":b.length?b.shift():"",($=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=$.shift(),r.host=r.hostname=$.shift())),(S=S||r.host&&b.length)&&!Y&&b.unshift(""),b.length?r.pathname=b.join("/"):(r.pathname=null,r.path=null),Ei.isNull(r.pathname)&&Ei.isNull(r.search)||(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},ti.prototype.parseHost=function(){var t=this.host,e=yT.exec(t);e&&((e=e[0])!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)},Rt.Url,Rt.format,Rt.resolve,Rt.resolveObject,rp={},a_=!1,l_=cL(),xT=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Rt.URL=typeof URL<"u"?URL:null,Rt.pathToFileURL=mL,Rt.fileURLToPath=dL,Rt.Url,Rt.format,Rt.resolve,Rt.resolveObject,Rt.URL,c2=92,d2=47,f2=97,p2=122,zp=xT==="win32",m2=/\//g,g2=/%/g,y2=/\\/g,v2=/\n/g,_2=/\r/g,b2=/\t/g,ET=typeof Deno<"u"?Deno.build.os==="windows"?"win32":Deno.build.os:void 0,Rt.URL=typeof URL<"u"?URL:null,Rt.pathToFileURL=h2,Rt.fileURLToPath=u2,w2=Rt.Url,x2=Rt.format,E2=Rt.resolve,S2=Rt.resolveObject,T2=Rt.parse,A2=Rt.URL,C2=92,I2=47,P2=97,R2=122,Hp=ET==="win32",k2=/\//g,O2=/%/g,M2=/\\/g,B2=/\n/g,N2=/\r/g,D2=/\t/g}),xw={};hl(xw,{Server:()=>Vt,Socket:()=>Vt,Stream:()=>Vt,_createServerHandle:()=>Vt,_normalizeArgs:()=>Vt,_setSimultaneousAccepts:()=>Vt,connect:()=>Vt,createConnection:()=>Vt,createServer:()=>Vt,default:()=>L2,isIP:()=>Vt,isIPv4:()=>Vt,isIPv6:()=>Vt});function Vt(){throw new Error("Node.js net module is not supported by JSPM core outside of Node.js")}var L2,F2=Xr(()=>{Pe(),Ie(),Ce(),L2={_createServerHandle:Vt,_normalizeArgs:Vt,_setSimultaneousAccepts:Vt,connect:Vt,createConnection:Vt,createServer:Vt,isIP:Vt,isIPv4:Vt,isIPv6:Vt,Server:Vt,Socket:Vt,Stream:Vt}}),ST=Le(t=>{Pe(),Ie(),Ce();var e=t&&t.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(t,"__esModule",{value:!0});var r=e((F2(),Nt(xw))),n=e(no()),i=(0,n.default)("mqttjs:tcp"),s=(o,a)=>{a.port=a.port||1883,a.hostname=a.hostname||a.host||"localhost";let{port:l}=a,u=a.hostname;return i("port %d and host %s",l,u),r.default.createConnection(l,u)};t.default=s}),U2={};hl(U2,{default:()=>j2});var j2,_L=Xr(()=>{Pe(),Ie(),Ce(),j2={}}),TT=Le(t=>{Pe(),Ie(),Ce();var e=t&&t.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(t,"__esModule",{value:!0});var r=e((_L(),Nt(U2))),n=e((F2(),Nt(xw))),i=e(no()),s=(0,i.default)("mqttjs:tls"),o=(a,l)=>{l.port=l.port||8883,l.host=l.hostname||l.host||"localhost",n.default.isIP(l.host)===0&&(l.servername=l.host),l.rejectUnauthorized=l.rejectUnauthorized!==!1,delete l.path,s("port %d host %s rejectUnauthorized %b",l.port,l.host,l.rejectUnauthorized);let u=r.default.connect(l);u.on("secureConnect",()=>{l.rejectUnauthorized&&!u.authorized?u.emit("error",new Error("TLS not authorized")):u.removeListener("error",d)});function d(f){l.rejectUnauthorized&&a.emit("error",f),u.end()}return u.on("error",d),u};t.default=o}),Ew=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0}),t.BufferedDuplex=t.writev=void 0;var e=fl();function r(i,s){let o=new Array(i.length);for(let a=0;a<i.length;a++)typeof i[a].chunk=="string"?o[a]=ku.from(i[a].chunk,"utf8"):o[a]=i[a].chunk;this._write(ku.concat(o),"binary",s)}t.writev=r;var n=class extends e.Duplex{constructor(i,s,o){super({objectMode:!0}),this.proxy=s,this.socket=o,this.writeQueue=[],i.objectMode||(this._writev=r.bind(this)),this.isSocketOpen=!1,this.proxy.on("data",a=>{this.push(a)})}_read(i){this.proxy.read(i)}_write(i,s,o){this.isSocketOpen?this.writeToProxy(i,s,o):this.writeQueue.push({chunk:i,encoding:s,cb:o})}_final(i){this.writeQueue=[],this.proxy.end(i)}_destroy(i,s){this.writeQueue=[],this.proxy.destroy(i),s(i)}socketReady(){this.emit("connect"),this.isSocketOpen=!0,this.processWriteQueue()}writeToProxy(i,s,o){this.proxy.write(i,s)===!1?this.proxy.once("drain",o):o()}processWriteQueue(){for(;this.writeQueue.length>0;){let{chunk:i,encoding:s,cb:o}=this.writeQueue.shift();this.writeToProxy(i,s,o)}}};t.BufferedDuplex=n}),AT=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=(ln(),Nt(an)),r=fl(),n=Ew(),i,s,o;function a(){let p=new r.Transform;return p._write=(m,g,v)=>{i.send({data:m.buffer,success(){v()},fail(C){v(new Error(C))}})},p._flush=m=>{i.close({success(){m()}})},p}function l(p){p.hostname||(p.hostname="localhost"),p.path||(p.path="/"),p.wsOptions||(p.wsOptions={})}function u(p,m){let g=p.protocol==="wxs"?"wss":"ws",v=`${g}://${p.hostname}${p.path}`;return p.port&&p.port!==80&&p.port!==443&&(v=`${g}://${p.hostname}:${p.port}${p.path}`),typeof p.transformWsUrl=="function"&&(v=p.transformWsUrl(v,p,m)),v}function d(){i.onOpen(()=>{o.socketReady()}),i.onMessage(p=>{let{data:m}=p;m instanceof ArrayBuffer?m=e.Buffer.from(m):m=e.Buffer.from(m,"utf8"),s.push(m)}),i.onClose(()=>{o.emit("close"),o.end(),o.destroy()}),i.onError(p=>{let m=new Error(p.errMsg);o.destroy(m)})}var f=(p,m)=>{if(m.hostname=m.hostname||m.host,!m.hostname)throw new Error("Could not determine host. Specify host manually.");let g=m.protocolId==="MQIsdp"&&m.protocolVersion===3?"mqttv3.1":"mqtt";l(m);let v=u(m,p);i=wx.connectSocket({url:v,protocols:[g]}),s=a(),o=new n.BufferedDuplex(m,s,i),o._destroy=(S,x)=>{i.close({success(){x&&x(S)}})};let C=o.destroy;return o.destroy=(S,x)=>(o.destroy=C,setTimeout(()=>{i.close({fail(){o._destroy(S,x)}})},0),o),d(),o};t.default=f}),CT=Le(t=>{Pe(),Ie(),Ce(),Object.defineProperty(t,"__esModule",{value:!0});var e=(ln(),Nt(an)),r=fl(),n=Ew(),i,s,o,a=!1;function l(){let m=new r.Transform;return m._write=(g,v,C)=>{i.sendSocketMessage({data:g.buffer,success(){C()},fail(){C(new Error)}})},m._flush=g=>{i.closeSocket({success(){g()}})},m}function u(m){m.hostname||(m.hostname="localhost"),m.path||(m.path="/"),m.wsOptions||(m.wsOptions={})}function d(m,g){let v=m.protocol==="alis"?"wss":"ws",C=`${v}://${m.hostname}${m.path}`;return m.port&&m.port!==80&&m.port!==443&&(C=`${v}://${m.hostname}:${m.port}${m.path}`),typeof m.transformWsUrl=="function"&&(C=m.transformWsUrl(C,m,g)),C}function f(){a||(a=!0,i.onSocketOpen(()=>{o.socketReady()}),i.onSocketMessage(m=>{if(typeof m.data=="string"){let g=e.Buffer.from(m.data,"base64");s.push(g)}else{let g=new FileReader;g.addEventListener("load",()=>{let v=g.result;v instanceof ArrayBuffer?v=e.Buffer.from(v):v=e.Buffer.from(v,"utf8"),s.push(v)}),g.readAsArrayBuffer(m.data)}}),i.onSocketClose(()=>{o.end(),o.destroy()}),i.onSocketError(m=>{o.destroy(m)}))}var p=(m,g)=>{if(g.hostname=g.hostname||g.host,!g.hostname)throw new Error("Could not determine host. Specify host manually.");let v=g.protocolId==="MQIsdp"&&g.protocolVersion===3?"mqttv3.1":"mqtt";u(g);let C=d(g,m);return i=g.my,i.connectSocket({url:C,protocols:v}),s=l(),o=new n.BufferedDuplex(g,s,i),f(),o};t.default=p}),bL=Le((t,e)=>{Pe(),Ie(),Ce(),e.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}}),IT=Le(t=>{Pe(),Ie(),Ce();var e=t&&t.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(t,"__esModule",{value:!0});var r=(ln(),Nt(an)),n=e(bL()),i=e(no()),s=fl(),o=e(Nm()),a=Ew(),l=(0,i.default)("mqttjs:ws"),u=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function d(S,x){let b=`${S.protocol}://${S.hostname}:${S.port}${S.path}`;return typeof S.transformWsUrl=="function"&&(b=S.transformWsUrl(b,S,x)),b}function f(S){let x=S;return S.hostname||(x.hostname="localhost"),S.port||(S.protocol==="wss"?x.port=443:x.port=80),S.path||(x.path="/"),S.wsOptions||(x.wsOptions={}),!o.default&&S.protocol==="wss"&&u.forEach(b=>{Object.prototype.hasOwnProperty.call(S,b)&&!Object.prototype.hasOwnProperty.call(S.wsOptions,b)&&(x.wsOptions[b]=S[b])}),x}function p(S){let x=f(S);if(x.hostname||(x.hostname=x.host),!x.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");let b=new URL(document.URL);x.hostname=b.hostname,x.port||(x.port=Number(b.port))}return x.objectMode===void 0&&(x.objectMode=!(x.binary===!0||x.binary===void 0)),x}function m(S,x,b){l("createWebSocket"),l(`protocol: ${b.protocolId} ${b.protocolVersion}`);let I=b.protocolId==="MQIsdp"&&b.protocolVersion===3?"mqttv3.1":"mqtt";l(`creating new Websocket for url: ${x} and protocol: ${I}`);let O;return b.createWebsocket?O=b.createWebsocket(x,[I],b):O=new n.default(x,[I],b.wsOptions),O}function g(S,x){let b=x.protocolId==="MQIsdp"&&x.protocolVersion===3?"mqttv3.1":"mqtt",I=d(x,S),O;return x.createWebsocket?O=x.createWebsocket(I,[b],x):O=new WebSocket(I,[b]),O.binaryType="arraybuffer",O}var v=(S,x)=>{l("streamBuilder");let b=f(x),I=d(b,S),O=m(S,I,b),k=n.default.createWebSocketStream(O,b.wsOptions);return k.url=I,O.on("close",()=>{k.destroy()}),k},C=(S,x)=>{l("browserStreamBuilder");let b,I=p(x).browserBufferSize||1024*512,O=x.browserBufferTimeout||1e3,k=!x.objectMode,R=g(S,x),M=Y(x,Z,de);x.objectMode||(M._writev=a.writev.bind(M)),M.on("close",()=>{R.close()});let $=typeof R.addEventListener<"u";R.readyState===R.OPEN?(b=M,b.socket=R):(b=new a.BufferedDuplex(x,M,R),$?R.addEventListener("open",se):R.onopen=se),$?(R.addEventListener("close",B),R.addEventListener("error",F),R.addEventListener("message",K)):(R.onclose=B,R.onerror=F,R.onmessage=K);function Y(oe,D,J){let W=new s.Transform({objectMode:oe.objectMode});return W._write=D,W._flush=J,W}function se(){l("WebSocket onOpen"),b instanceof a.BufferedDuplex&&b.socketReady()}function B(oe){l("WebSocket onClose",oe),b.end(),b.destroy()}function F(oe){l("WebSocket onError",oe);let D=new Error("WebSocket error");D.event=oe,b.destroy(D)}function K(oe){let{data:D}=oe;D instanceof ArrayBuffer?D=r.Buffer.from(D):D=r.Buffer.from(D,"utf8"),M.push(D)}function Z(oe,D,J){if(R.bufferedAmount>I){setTimeout(Z,O,oe,D,J);return}k&&typeof oe=="string"&&(oe=r.Buffer.from(oe,"utf8"));try{R.send(oe)}catch(W){return J(W)}J()}function de(oe){R.close(),oe()}return b};t.default=o.default?C:v}),wL=Le(t=>{Pe(),Ie(),Ce();var e=t&&t.__importDefault||function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(t,"__esModule",{value:!0}),t.connectAsync=void 0;var r=e(no()),n=e((vL(),Nt(l2))),i=e(e_()),s=e(Nm()),o=(0,r.default)("mqttjs"),a={};s.default?(a.wx=AT().default,a.wxs=AT().default,a.ali=CT().default,a.alis=CT().default):(a.mqtt=ST().default,a.tcp=ST().default,a.ssl=TT().default,a.tls=a.ssl,a.mqtts=TT().default),a.ws=IT().default,a.wss=IT().default;function l(f){let p;f.auth&&(p=f.auth.match(/^(.+):(.+)$/),p?(f.username=p[1],f.password=p[2]):f.username=f.auth)}function u(f,p){if(o("connecting to an MQTT broker..."),typeof f=="object"&&!p&&(p=f,f=""),p=p||{},f&&typeof f=="string"){let v=n.default.parse(f,!0);if(v.port!=null&&(v.port=Number(v.port)),p=Object.assign(Object.assign({},v),p),p.protocol===null)throw new Error("Missing protocol");p.protocol=p.protocol.replace(/:$/,"")}if(l(p),p.query&&typeof p.query.clientId=="string"&&(p.clientId=p.query.clientId),p.cert&&p.key)if(p.protocol){if(["mqtts","wss","wxs","alis"].indexOf(p.protocol)===-1)switch(p.protocol){case"mqtt":p.protocol="mqtts";break;case"ws":p.protocol="wss";break;case"wx":p.protocol="wxs";break;case"ali":p.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${p.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(!a[p.protocol]){let v=["mqtts","wss"].indexOf(p.protocol)!==-1;p.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((C,S)=>v&&S%2===0?!1:typeof a[C]=="function")[0]}if(p.clean===!1&&!p.clientId)throw new Error("Missing clientId for unclean clients");p.protocol&&(p.defaultProtocol=p.protocol);function m(v){return p.servers&&((!v._reconnectCount||v._reconnectCount===p.servers.length)&&(v._reconnectCount=0),p.host=p.servers[v._reconnectCount].host,p.port=p.servers[v._reconnectCount].port,p.protocol=p.servers[v._reconnectCount].protocol?p.servers[v._reconnectCount].protocol:p.defaultProtocol,p.hostname=p.host,v._reconnectCount++),o("calling streambuilder for",p.protocol),a[p.protocol](v,p)}let g=new i.default(m,p);return g.on("error",()=>{}),g}function d(f,p,m=!0){return new Promise((g,v)=>{let C=u(f,p),S={connect:b=>{x(),g(C)},end:()=>{x(),g(C)},error:b=>{x(),C.end(),v(b)}};m===!1&&(S.close=()=>{S.error(new Error("Couldn't connect to server"))});function x(){Object.keys(S).forEach(b=>{C.off(b,S[b])})}Object.keys(S).forEach(b=>{C.on(b,S[b])})})}t.connectAsync=d,t.default=u}),PT=Le(t=>{Pe(),Ie(),Ce();var e=t&&t.__createBinding||(Object.create?function(m,g,v,C){C===void 0&&(C=v);var S=Object.getOwnPropertyDescriptor(g,v);(!S||("get"in S?!g.__esModule:S.writable||S.configurable))&&(S={enumerable:!0,get:function(){return g[v]}}),Object.defineProperty(m,C,S)}:function(m,g,v,C){C===void 0&&(C=v),m[C]=g[v]}),r=t&&t.__setModuleDefault||(Object.create?function(m,g){Object.defineProperty(m,"default",{enumerable:!0,value:g})}:function(m,g){m.default=g}),n=t&&t.__importStar||function(m){if(m&&m.__esModule)return m;var g={};if(m!=null)for(var v in m)v!=="default"&&Object.prototype.hasOwnProperty.call(m,v)&&e(g,m,v);return r(g,m),g},i=t&&t.__exportStar||function(m,g){for(var v in m)v!=="default"&&!Object.prototype.hasOwnProperty.call(g,v)&&e(g,m,v)},s=t&&t.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReasonCodes=t.PingTimer=t.UniqueMessageIdProvider=t.DefaultMessageIdProvider=t.Store=t.MqttClient=t.connectAsync=t.connect=t.Client=void 0;var o=s(e_());t.MqttClient=o.default;var a=s(UR());t.DefaultMessageIdProvider=a.default;var l=s(rL());t.UniqueMessageIdProvider=l.default;var u=s(jR());t.Store=u.default;var d=n(wL());t.connect=d.default,Object.defineProperty(t,"connectAsync",{enumerable:!0,get:function(){return d.connectAsync}});var f=s(r2());t.PingTimer=f.default,t.Client=o.default,i(e_(),t),i(Fc(),t);var p=Bm();Object.defineProperty(t,"ReasonCodes",{enumerable:!0,get:function(){return p.ReasonCodes}})}),xL=Le(t=>{Pe(),Ie(),Ce();var e=t&&t.__createBinding||(Object.create?function(o,a,l,u){u===void 0&&(u=l);var d=Object.getOwnPropertyDescriptor(a,l);(!d||("get"in d?!a.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return a[l]}}),Object.defineProperty(o,u,d)}:function(o,a,l,u){u===void 0&&(u=l),o[u]=a[l]}),r=t&&t.__setModuleDefault||(Object.create?function(o,a){Object.defineProperty(o,"default",{enumerable:!0,value:a})}:function(o,a){o.default=a}),n=t&&t.__importStar||function(o){if(o&&o.__esModule)return o;var a={};if(o!=null)for(var l in o)l!=="default"&&Object.prototype.hasOwnProperty.call(o,l)&&e(a,o,l);return r(a,o),a},i=t&&t.__exportStar||function(o,a){for(var l in o)l!=="default"&&!Object.prototype.hasOwnProperty.call(a,l)&&e(a,o,l)};Object.defineProperty(t,"__esModule",{value:!0});var s=n(PT());t.default=s,i(PT(),t)});const EL=xL();/*! Bundled license information:

@jspm/core/nodelibs/browser/buffer.js:
  (*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> *)
*/var Dm={exports:{}},pl=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(pl||{}),$2=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))($2||{}),u_=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(u_||{}),ot=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ot||{}),ki=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(ki||{}),$e=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))($e||{}),gu=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(gu||{}),rt=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(rt||{}),Xe=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Xe||{}),Gs=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Gs||{}),qs=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(qs||{}),vs=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(vs||{}),Tn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Tn||{}),os=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(os||{}),Sw=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Sw||{}),oi=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(oi||{}),xr=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(xr||{}),yr=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(yr||{}),gs=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(gs||{});const SL={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},qe={ADAPTER:SL,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var ty=/iPhone/i,RT=/iPod/i,kT=/iPad/i,OT=/\biOS-universal(?:.+)Mac\b/i,ry=/\bAndroid(?:.+)Mobile\b/i,MT=/Android/i,Bl=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,of=/Silk/i,Rs=/Windows Phone/i,BT=/\bWindows(?:.+)ARM\b/i,NT=/BlackBerry/i,DT=/BB10/i,LT=/Opera Mini/i,FT=/\b(CriOS|Chrome)(?:.+)Mobile/i,UT=/Mobile(?:.+)Firefox\b/i,jT=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function TL(t){return function(e){return e.test(t)}}function $T(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=TL(r),s={apple:{phone:i(ty)&&!i(Rs),ipod:i(RT),tablet:!i(ty)&&(i(kT)||jT(e))&&!i(Rs),universal:i(OT),device:(i(ty)||i(RT)||i(kT)||i(OT)||jT(e))&&!i(Rs)},amazon:{phone:i(Bl),tablet:!i(Bl)&&i(of),device:i(Bl)||i(of)},android:{phone:!i(Rs)&&i(Bl)||!i(Rs)&&i(ry),tablet:!i(Rs)&&!i(Bl)&&!i(ry)&&(i(of)||i(MT)),device:!i(Rs)&&(i(Bl)||i(of)||i(ry)||i(MT))||i(/\bokhttp\b/i)},windows:{phone:i(Rs),tablet:i(BT),device:i(Rs)||i(BT)},other:{blackberry:i(NT),blackberry10:i(DT),opera:i(LT),firefox:i(UT),chrome:i(FT),device:i(NT)||i(DT)||i(LT)||i(UT)||i(FT)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const AL=$T.default??$T,Ws=AL(globalThis.navigator);qe.RETINA_PREFIX=/@([0-9\.]+)x/;qe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var z2={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,p){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||l,p),g=r?r+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},a.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,g=new Array(m);p<m;p++)g[p]=f[p].fn;return g},a.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},a.prototype.emit=function(u,d,f,p,m,g){var v=r?r+u:u;if(!this._events[v])return!1;var C=this._events[v],S=arguments.length,x,b;if(C.fn){switch(C.once&&this.removeListener(u,C.fn,void 0,!0),S){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,d),!0;case 3:return C.fn.call(C.context,d,f),!0;case 4:return C.fn.call(C.context,d,f,p),!0;case 5:return C.fn.call(C.context,d,f,p,m),!0;case 6:return C.fn.call(C.context,d,f,p,m,g),!0}for(b=1,x=new Array(S-1);b<S;b++)x[b-1]=arguments[b];C.fn.apply(C.context,x)}else{var I=C.length,O;for(b=0;b<I;b++)switch(C[b].once&&this.removeListener(u,C[b].fn,void 0,!0),S){case 1:C[b].fn.call(C[b].context);break;case 2:C[b].fn.call(C[b].context,d);break;case 3:C[b].fn.call(C[b].context,d,f);break;case 4:C[b].fn.call(C[b].context,d,f,p);break;default:if(!x)for(O=1,x=new Array(S-1);O<S;O++)x[O-1]=arguments[O];C[b].fn.apply(C[b].context,x)}}return!0},a.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},a.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},a.prototype.removeListener=function(u,d,f,p){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!p||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var v=0,C=[],S=g.length;v<S;v++)(g[v].fn!==d||p&&!g[v].once||f&&g[v].context!==f)&&C.push(g[v]);C.length?this._events[m]=C.length===1?C[0]:C:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(z2);var CL=z2.exports;const Uc=fm(CL);var Tw={exports:{}};Tw.exports=Lm;Tw.exports.default=Lm;function Lm(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=H2(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,l,u,d,f,p,m;if(n&&(s=OL(t,e,s,r)),t.length>80*r){a=u=t[0],l=d=t[1];for(var g=r;g<i;g+=r)f=t[g],p=t[g+1],f<a&&(a=f),p<l&&(l=p),f>u&&(u=f),p>d&&(d=p);m=Math.max(u-a,d-l),m=m!==0?32767/m:0}return Sc(s,o,r,a,l,m,0),o}function H2(t,e,r,n,i){var s,o;if(i===d_(t,e,r,n)>0)for(s=e;s<r;s+=n)o=zT(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=zT(s,t[s],t[s+1],o);return o&&Fm(o,o.next)&&(Ac(o),o=o.next),o}function ol(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Fm(r,r.next)||nr(r.prev,r,r.next)===0)){if(Ac(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Sc(t,e,r,n,i,s,o){if(t){!o&&s&&LL(t,n,i,s);for(var a=t,l,u;t.prev!==t.next;){if(l=t.prev,u=t.next,s?PL(t,n,i,s):IL(t)){e.push(l.i/r|0),e.push(t.i/r|0),e.push(u.i/r|0),Ac(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=RL(ol(t),e,r),Sc(t,e,r,n,i,s,2)):o===2&&kL(t,e,r,n,i,s):Sc(ol(t),e,r,n,i,s,1);break}}}}function IL(t){var e=t.prev,r=t,n=t.next;if(nr(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,l=r.y,u=n.y,d=i<s?i<o?i:o:s<o?s:o,f=a<l?a<u?a:u:l<u?l:u,p=i>s?i>o?i:o:s>o?s:o,m=a>l?a>u?a:u:l>u?l:u,g=n.next;g!==e;){if(g.x>=d&&g.x<=p&&g.y>=f&&g.y<=m&&au(i,a,s,l,o,u,g.x,g.y)&&nr(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function PL(t,e,r,n){var i=t.prev,s=t,o=t.next;if(nr(i,s,o)>=0)return!1;for(var a=i.x,l=s.x,u=o.x,d=i.y,f=s.y,p=o.y,m=a<l?a<u?a:u:l<u?l:u,g=d<f?d<p?d:p:f<p?f:p,v=a>l?a>u?a:u:l>u?l:u,C=d>f?d>p?d:p:f>p?f:p,S=h_(m,g,e,r,n),x=h_(v,C,e,r,n),b=t.prevZ,I=t.nextZ;b&&b.z>=S&&I&&I.z<=x;){if(b.x>=m&&b.x<=v&&b.y>=g&&b.y<=C&&b!==i&&b!==o&&au(a,d,l,f,u,p,b.x,b.y)&&nr(b.prev,b,b.next)>=0||(b=b.prevZ,I.x>=m&&I.x<=v&&I.y>=g&&I.y<=C&&I!==i&&I!==o&&au(a,d,l,f,u,p,I.x,I.y)&&nr(I.prev,I,I.next)>=0))return!1;I=I.nextZ}for(;b&&b.z>=S;){if(b.x>=m&&b.x<=v&&b.y>=g&&b.y<=C&&b!==i&&b!==o&&au(a,d,l,f,u,p,b.x,b.y)&&nr(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;I&&I.z<=x;){if(I.x>=m&&I.x<=v&&I.y>=g&&I.y<=C&&I!==i&&I!==o&&au(a,d,l,f,u,p,I.x,I.y)&&nr(I.prev,I,I.next)>=0)return!1;I=I.nextZ}return!0}function RL(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Fm(i,s)&&G2(i,n,n.next,s)&&Tc(i,s)&&Tc(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Ac(n),Ac(n.next),n=t=s),n=n.next}while(n!==t);return ol(n)}function kL(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&jL(o,a)){var l=W2(o,a);o=ol(o,o.next),l=ol(l,l.next),Sc(o,e,r,n,i,s,0),Sc(l,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function OL(t,e,r,n){var i=[],s,o,a,l,u;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:t.length,u=H2(t,a,l,n,!1),u===u.next&&(u.steiner=!0),i.push(UL(u));for(i.sort(ML),s=0;s<i.length;s++)r=BL(i[s],r);return r}function ML(t,e){return t.x-e.x}function BL(t,e){var r=NL(t,e);if(!r)return e;var n=W2(r,t);return ol(n,n.next),ol(r,r.next)}function NL(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var l=o,u=o.x,d=o.y,f=1/0,p;r=o;do n>=r.x&&r.x>=u&&n!==r.x&&au(i<d?n:s,i,u,d,i<d?s:n,i,r.x,r.y)&&(p=Math.abs(i-r.y)/(n-r.x),Tc(r,t)&&(p<f||p===f&&(r.x>o.x||r.x===o.x&&DL(o,r)))&&(o=r,f=p)),r=r.next;while(r!==l);return o}function DL(t,e){return nr(t.prev,t,e.prev)<0&&nr(e.next,t,t.next)<0}function LL(t,e,r,n){var i=t;do i.z===0&&(i.z=h_(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,FL(i)}function FL(t){var e,r,n,i,s,o,a,l,u=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<u&&(a++,n=n.nextZ,!!n);e++);for(l=u;a>0||l>0&&n;)a!==0&&(l===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,u*=2}while(o>1);return t}function h_(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function UL(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function au(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function jL(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!$L(t,e)&&(Tc(t,e)&&Tc(e,t)&&zL(t,e)&&(nr(t.prev,t,e.prev)||nr(t,e.prev,e))||Fm(t,e)&&nr(t.prev,t,t.next)>0&&nr(e.prev,e,e.next)>0)}function nr(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Fm(t,e){return t.x===e.x&&t.y===e.y}function G2(t,e,r,n){var i=lf(nr(t,e,r)),s=lf(nr(t,e,n)),o=lf(nr(r,n,t)),a=lf(nr(r,n,e));return!!(i!==s&&o!==a||i===0&&af(t,r,e)||s===0&&af(t,n,e)||o===0&&af(r,t,n)||a===0&&af(r,e,n))}function af(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function lf(t){return t>0?1:t<0?-1:0}function $L(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&G2(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Tc(t,e){return nr(t.prev,t,t.next)<0?nr(t,e,t.next)>=0&&nr(t,t.prev,e)>=0:nr(t,e,t.prev)<0||nr(t,t.next,e)<0}function zL(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function W2(t,e){var r=new c_(t.i,t.x,t.y),n=new c_(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function zT(t,e,r,n){var i=new c_(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Ac(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function c_(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Lm.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(d_(t,0,s,r));if(i)for(var a=0,l=e.length;a<l;a++){var u=e[a]*r,d=a<l-1?e[a+1]*r:t.length;o-=Math.abs(d_(t,u,d,r))}var f=0;for(a=0;a<n.length;a+=3){var p=n[a]*r,m=n[a+1]*r,g=n[a+2]*r;f+=Math.abs((t[p]-t[g])*(t[m+1]-t[p+1])-(t[p]-t[m])*(t[g+1]-t[p+1]))}return o===0&&f===0?0:Math.abs((f-o)/o)};function d_(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Lm.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var HL=Tw.exports;const GL=fm(HL);var Gp={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Gp.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Df=="object"&&Df;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,l=36,u=1,d=26,f=38,p=700,m=72,g=128,v="-",C=/^xn--/,S=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},I=l-u,O=Math.floor,k=String.fromCharCode,R;function M(W){throw new RangeError(b[W])}function $(W,te){for(var N=W.length,ie=[];N--;)ie[N]=te(W[N]);return ie}function Y(W,te){var N=W.split("@"),ie="";N.length>1&&(ie=N[0]+"@",W=N[1]),W=W.replace(x,".");var pe=W.split("."),Be=$(pe,te).join(".");return ie+Be}function se(W){for(var te=[],N=0,ie=W.length,pe,Be;N<ie;)pe=W.charCodeAt(N++),pe>=55296&&pe<=56319&&N<ie?(Be=W.charCodeAt(N++),(Be&64512)==56320?te.push(((pe&1023)<<10)+(Be&1023)+65536):(te.push(pe),N--)):te.push(pe);return te}function B(W){return $(W,function(te){var N="";return te>65535&&(te-=65536,N+=k(te>>>10&1023|55296),te=56320|te&1023),N+=k(te),N}).join("")}function F(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:l}function K(W,te){return W+22+75*(W<26)-((te!=0)<<5)}function Z(W,te,N){var ie=0;for(W=N?O(W/p):W>>1,W+=O(W/te);W>I*d>>1;ie+=l)W=O(W/I);return O(ie+(I+1)*W/(W+f))}function de(W){var te=[],N=W.length,ie,pe=0,Be=g,ge=m,H,U,le,_e,ue,he,ye,Ee,G;for(H=W.lastIndexOf(v),H<0&&(H=0),U=0;U<H;++U)W.charCodeAt(U)>=128&&M("not-basic"),te.push(W.charCodeAt(U));for(le=H>0?H+1:0;le<N;){for(_e=pe,ue=1,he=l;le>=N&&M("invalid-input"),ye=F(W.charCodeAt(le++)),(ye>=l||ye>O((a-pe)/ue))&&M("overflow"),pe+=ye*ue,Ee=he<=ge?u:he>=ge+d?d:he-ge,!(ye<Ee);he+=l)G=l-Ee,ue>O(a/G)&&M("overflow"),ue*=G;ie=te.length+1,ge=Z(pe-_e,ie,_e==0),O(pe/ie)>a-Be&&M("overflow"),Be+=O(pe/ie),pe%=ie,te.splice(pe++,0,Be)}return B(te)}function oe(W){var te,N,ie,pe,Be,ge,H,U,le,_e,ue,he=[],ye,Ee,G,ee;for(W=se(W),ye=W.length,te=g,N=0,Be=m,ge=0;ge<ye;++ge)ue=W[ge],ue<128&&he.push(k(ue));for(ie=pe=he.length,pe&&he.push(v);ie<ye;){for(H=a,ge=0;ge<ye;++ge)ue=W[ge],ue>=te&&ue<H&&(H=ue);for(Ee=ie+1,H-te>O((a-N)/Ee)&&M("overflow"),N+=(H-te)*Ee,te=H,ge=0;ge<ye;++ge)if(ue=W[ge],ue<te&&++N>a&&M("overflow"),ue==te){for(U=N,le=l;_e=le<=Be?u:le>=Be+d?d:le-Be,!(U<_e);le+=l)ee=U-_e,G=l-_e,he.push(k(K(_e+ee%G,0))),U=O(ee/G);he.push(k(K(U,0))),Be=Z(N,Ee,ie==pe),N=0,++ie}++N,++te}return he.join("")}function D(W){return Y(W,function(te){return C.test(te)?de(te.slice(4).toLowerCase()):te})}function J(W){return Y(W,function(te){return S.test(te)?"xn--"+oe(te):te})}if(o={version:"1.4.1",ucs2:{decode:se,encode:B},decode:de,encode:oe,toASCII:J,toUnicode:D},n&&i)if(t.exports==n)i.exports=o;else for(R in o)o.hasOwnProperty(R)&&(n[R]=o[R]);else r.punycode=o})(Df)})(Gp,Gp.exports);var WL=Gp.exports,VL=Error,XL=EvalError,qL=RangeError,YL=ReferenceError,V2=SyntaxError,jc=TypeError,KL=URIError,QL=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},HT=typeof Symbol<"u"&&Symbol,ZL=QL,JL=function(){return typeof HT!="function"||typeof Symbol!="function"||typeof HT("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:ZL()},ny={__proto__:null,foo:{}},eF=Object,tF=function(){return{__proto__:ny}.foo===ny.foo&&!(ny instanceof eF)},rF="Function.prototype.bind called on incompatible ",nF=Object.prototype.toString,iF=Math.max,sF="[object Function]",GT=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},oF=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},aF=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},lF=function(e){var r=this;if(typeof r!="function"||nF.apply(r)!==sF)throw new TypeError(rF+r);for(var n=oF(arguments,1),i,s=function(){if(this instanceof i){var d=r.apply(this,GT(n,arguments));return Object(d)===d?d:this}return r.apply(e,GT(n,arguments))},o=iF(0,r.length-n.length),a=[],l=0;l<o;l++)a[l]="$"+l;if(i=Function("binder","return function ("+aF(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var u=function(){};u.prototype=r.prototype,i.prototype=new u,u.prototype=null}return i},uF=lF,Aw=Function.prototype.bind||uF,hF=Function.prototype.call,cF=Object.prototype.hasOwnProperty,dF=Aw,fF=dF.call(hF,cF),mt,pF=VL,mF=XL,gF=qL,yF=YL,Ou=V2,yu=jc,vF=KL,X2=Function,iy=function(t){try{return X2('"use strict"; return ('+t+").constructor;")()}catch{}},Qa=Object.getOwnPropertyDescriptor;if(Qa)try{Qa({},"")}catch{Qa=null}var sy=function(){throw new yu},_F=Qa?function(){try{return arguments.callee,sy}catch{try{return Qa(arguments,"callee").get}catch{return sy}}}():sy,Nl=JL(),bF=tF(),Br=Object.getPrototypeOf||(bF?function(t){return t.__proto__}:null),$l={},wF=typeof Uint8Array>"u"||!Br?mt:Br(Uint8Array),Za={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?mt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?mt:ArrayBuffer,"%ArrayIteratorPrototype%":Nl&&Br?Br([][Symbol.iterator]()):mt,"%AsyncFromSyncIteratorPrototype%":mt,"%AsyncFunction%":$l,"%AsyncGenerator%":$l,"%AsyncGeneratorFunction%":$l,"%AsyncIteratorPrototype%":$l,"%Atomics%":typeof Atomics>"u"?mt:Atomics,"%BigInt%":typeof BigInt>"u"?mt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?mt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?mt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?mt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":pF,"%eval%":eval,"%EvalError%":mF,"%Float32Array%":typeof Float32Array>"u"?mt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?mt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?mt:FinalizationRegistry,"%Function%":X2,"%GeneratorFunction%":$l,"%Int8Array%":typeof Int8Array>"u"?mt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?mt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?mt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Nl&&Br?Br(Br([][Symbol.iterator]())):mt,"%JSON%":typeof JSON=="object"?JSON:mt,"%Map%":typeof Map>"u"?mt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Nl||!Br?mt:Br(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?mt:Promise,"%Proxy%":typeof Proxy>"u"?mt:Proxy,"%RangeError%":gF,"%ReferenceError%":yF,"%Reflect%":typeof Reflect>"u"?mt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?mt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Nl||!Br?mt:Br(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?mt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Nl&&Br?Br(""[Symbol.iterator]()):mt,"%Symbol%":Nl?Symbol:mt,"%SyntaxError%":Ou,"%ThrowTypeError%":_F,"%TypedArray%":wF,"%TypeError%":yu,"%Uint8Array%":typeof Uint8Array>"u"?mt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?mt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?mt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?mt:Uint32Array,"%URIError%":vF,"%WeakMap%":typeof WeakMap>"u"?mt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?mt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?mt:WeakSet};if(Br)try{null.error}catch(t){var xF=Br(Br(t));Za["%Error.prototype%"]=xF}var EF=function t(e){var r;if(e==="%AsyncFunction%")r=iy("async function () {}");else if(e==="%GeneratorFunction%")r=iy("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=iy("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Br&&(r=Br(i.prototype))}return Za[e]=r,r},WT={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},$c=Aw,Wp=fF,SF=$c.call(Function.call,Array.prototype.concat),TF=$c.call(Function.apply,Array.prototype.splice),VT=$c.call(Function.call,String.prototype.replace),Vp=$c.call(Function.call,String.prototype.slice),AF=$c.call(Function.call,RegExp.prototype.exec),CF=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,IF=/\\(\\)?/g,PF=function(e){var r=Vp(e,0,1),n=Vp(e,-1);if(r==="%"&&n!=="%")throw new Ou("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Ou("invalid intrinsic syntax, expected opening `%`");var i=[];return VT(e,CF,function(s,o,a,l){i[i.length]=a?VT(l,IF,"$1"):o||s}),i},RF=function(e,r){var n=e,i;if(Wp(WT,n)&&(i=WT[n],n="%"+i[0]+"%"),Wp(Za,n)){var s=Za[n];if(s===$l&&(s=EF(n)),typeof s>"u"&&!r)throw new yu("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Ou("intrinsic "+e+" does not exist!")},zu=function(e,r){if(typeof e!="string"||e.length===0)throw new yu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new yu('"allowMissing" argument must be a boolean');if(AF(/^%?[^%]*%?$/,e)===null)throw new Ou("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=PF(e),i=n.length>0?n[0]:"",s=RF("%"+i+"%",r),o=s.name,a=s.value,l=!1,u=s.alias;u&&(i=u[0],TF(n,SF([0,1],u)));for(var d=1,f=!0;d<n.length;d+=1){var p=n[d],m=Vp(p,0,1),g=Vp(p,-1);if((m==='"'||m==="'"||m==="`"||g==='"'||g==="'"||g==="`")&&m!==g)throw new Ou("property names with quotes must have matching quotes");if((p==="constructor"||!f)&&(l=!0),i+="."+p,o="%"+i+"%",Wp(Za,o))a=Za[o];else if(a!=null){if(!(p in a)){if(!r)throw new yu("base intrinsic for "+e+" exists, but the property is not available.");return}if(Qa&&d+1>=n.length){var v=Qa(a,p);f=!!v,f&&"get"in v&&!("originalValue"in v.get)?a=v.get:a=a[p]}else f=Wp(a,p),a=a[p];f&&!l&&(Za[o]=a)}}return a},q2={exports:{}},oy,XT;function Cw(){if(XT)return oy;XT=1;var t=zu,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return oy=e,oy}var kF=zu,np=kF("%Object.getOwnPropertyDescriptor%",!0);if(np)try{np([],"length")}catch{np=null}var Y2=np,qT=Cw(),OF=V2,Dl=jc,YT=Y2,MF=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Dl("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Dl("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Dl("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Dl("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Dl("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Dl("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,l=!!YT&&YT(e,r);if(qT)qT(e,r,{configurable:o===null&&l?l.configurable:!o,enumerable:i===null&&l?l.enumerable:!i,value:n,writable:s===null&&l?l.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new OF("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},f_=Cw(),K2=function(){return!!f_};K2.hasArrayLengthDefineBug=function(){if(!f_)return null;try{return f_([],"length",{value:1}).length!==1}catch{return!0}};var BF=K2,NF=zu,KT=MF,DF=BF(),QT=Y2,ZT=jc,LF=NF("%Math.floor%"),FF=function(e,r){if(typeof e!="function")throw new ZT("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||LF(r)!==r)throw new ZT("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&QT){var o=QT(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(DF?KT(e,"length",r,!0,!0):KT(e,"length",r)),e};(function(t){var e=Aw,r=zu,n=FF,i=jc,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),l=Cw(),u=r("%Math.max%");t.exports=function(p){if(typeof p!="function")throw new i("a function is required");var m=a(e,o,arguments);return n(m,1+u(0,p.length-(arguments.length-1)),!0)};var d=function(){return a(e,s,arguments)};l?l(t.exports,"apply",{value:d}):t.exports.apply=d})(q2);var UF=q2.exports,Q2=zu,Z2=UF,jF=Z2(Q2("String.prototype.indexOf")),$F=function(e,r){var n=Q2(e,!!r);return typeof n=="function"&&jF(e,".prototype.")>-1?Z2(n):n};const zF={},HF=Object.freeze(Object.defineProperty({__proto__:null,default:zF},Symbol.toStringTag,{value:"Module"})),GF=FC(HF);var Iw=typeof Map=="function"&&Map.prototype,ay=Object.getOwnPropertyDescriptor&&Iw?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Xp=Iw&&ay&&typeof ay.get=="function"?ay.get:null,JT=Iw&&Map.prototype.forEach,Pw=typeof Set=="function"&&Set.prototype,ly=Object.getOwnPropertyDescriptor&&Pw?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,qp=Pw&&ly&&typeof ly.get=="function"?ly.get:null,eA=Pw&&Set.prototype.forEach,WF=typeof WeakMap=="function"&&WeakMap.prototype,rc=WF?WeakMap.prototype.has:null,VF=typeof WeakSet=="function"&&WeakSet.prototype,nc=VF?WeakSet.prototype.has:null,XF=typeof WeakRef=="function"&&WeakRef.prototype,tA=XF?WeakRef.prototype.deref:null,qF=Boolean.prototype.valueOf,YF=Object.prototype.toString,KF=Function.prototype.toString,QF=String.prototype.match,Rw=String.prototype.slice,$o=String.prototype.replace,ZF=String.prototype.toUpperCase,rA=String.prototype.toLowerCase,J2=RegExp.prototype.test,nA=Array.prototype.concat,as=Array.prototype.join,JF=Array.prototype.slice,iA=Math.floor,p_=typeof BigInt=="function"?BigInt.prototype.valueOf:null,uy=Object.getOwnPropertySymbols,m_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Mu=typeof Symbol=="function"&&typeof Symbol.iterator=="object",on=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Mu||!0)?Symbol.toStringTag:null,ek=Object.prototype.propertyIsEnumerable,sA=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function oA(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||J2.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-iA(-t):iA(t);if(n!==t){var i=String(n),s=Rw.call(e,i.length+1);return $o.call(i,r,"$&_")+"."+$o.call($o.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $o.call(e,r,"$&_")}var g_=GF,aA=g_.custom,lA=rk(aA)?aA:null,eU=function t(e,r,n,i){var s=r||{};if(Bo(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Bo(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Bo(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Bo(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Bo(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return ik(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var l=String(e);return a?oA(e,l):l}if(typeof e=="bigint"){var u=String(e)+"n";return a?oA(e,u):u}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return y_(e)?"[Array]":"[Object]";var f=vU(s,n);if(typeof i>"u")i=[];else if(nk(i,e)>=0)return"[Circular]";function p(F,K,Z){if(K&&(i=JF.call(i),i.push(K)),Z){var de={depth:s.depth};return Bo(s,"quoteStyle")&&(de.quoteStyle=s.quoteStyle),t(F,de,n+1,i)}return t(F,s,n+1,i)}if(typeof e=="function"&&!uA(e)){var m=uU(e),g=uf(e,p);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(g.length>0?" { "+as.call(g,", ")+" }":"")}if(rk(e)){var v=Mu?$o.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):m_.call(e);return typeof e=="object"&&!Mu?Eh(v):v}if(mU(e)){for(var C="<"+rA.call(String(e.nodeName)),S=e.attributes||[],x=0;x<S.length;x++)C+=" "+S[x].name+"="+tk(tU(S[x].value),"double",s);return C+=">",e.childNodes&&e.childNodes.length&&(C+="..."),C+="</"+rA.call(String(e.nodeName))+">",C}if(y_(e)){if(e.length===0)return"[]";var b=uf(e,p);return f&&!yU(b)?"["+v_(b,f)+"]":"[ "+as.call(b,", ")+" ]"}if(nU(e)){var I=uf(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!ek.call(e,"cause")?"{ ["+String(e)+"] "+as.call(nA.call("[cause]: "+p(e.cause),I),", ")+" }":I.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+as.call(I,", ")+" }"}if(typeof e=="object"&&o){if(lA&&typeof e[lA]=="function"&&g_)return g_(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(hU(e)){var O=[];return JT&&JT.call(e,function(F,K){O.push(p(K,e,!0)+" => "+p(F,e))}),hA("Map",Xp.call(e),O,f)}if(fU(e)){var k=[];return eA&&eA.call(e,function(F){k.push(p(F,e))}),hA("Set",qp.call(e),k,f)}if(cU(e))return hy("WeakMap");if(pU(e))return hy("WeakSet");if(dU(e))return hy("WeakRef");if(sU(e))return Eh(p(Number(e)));if(aU(e))return Eh(p(p_.call(e)));if(oU(e))return Eh(qF.call(e));if(iU(e))return Eh(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(e===Df)return"{ [object globalThis] }";if(!rU(e)&&!uA(e)){var R=uf(e,p),M=sA?sA(e)===Object.prototype:e instanceof Object||e.constructor===Object,$=e instanceof Object?"":"null prototype",Y=!M&&on&&Object(e)===e&&on in e?Rw.call(la(e),8,-1):$?"Object":"",se=M||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",B=se+(Y||$?"["+as.call(nA.call([],Y||[],$||[]),": ")+"] ":"");return R.length===0?B+"{}":f?B+"{"+v_(R,f)+"}":B+"{ "+as.call(R,", ")+" }"}return String(e)};function tk(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function tU(t){return $o.call(String(t),/"/g,"&quot;")}function y_(t){return la(t)==="[object Array]"&&(!on||!(typeof t=="object"&&on in t))}function rU(t){return la(t)==="[object Date]"&&(!on||!(typeof t=="object"&&on in t))}function uA(t){return la(t)==="[object RegExp]"&&(!on||!(typeof t=="object"&&on in t))}function nU(t){return la(t)==="[object Error]"&&(!on||!(typeof t=="object"&&on in t))}function iU(t){return la(t)==="[object String]"&&(!on||!(typeof t=="object"&&on in t))}function sU(t){return la(t)==="[object Number]"&&(!on||!(typeof t=="object"&&on in t))}function oU(t){return la(t)==="[object Boolean]"&&(!on||!(typeof t=="object"&&on in t))}function rk(t){if(Mu)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!m_)return!1;try{return m_.call(t),!0}catch{}return!1}function aU(t){if(!t||typeof t!="object"||!p_)return!1;try{return p_.call(t),!0}catch{}return!1}var lU=Object.prototype.hasOwnProperty||function(t){return t in this};function Bo(t,e){return lU.call(t,e)}function la(t){return YF.call(t)}function uU(t){if(t.name)return t.name;var e=QF.call(KF.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function nk(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function hU(t){if(!Xp||!t||typeof t!="object")return!1;try{Xp.call(t);try{qp.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function cU(t){if(!rc||!t||typeof t!="object")return!1;try{rc.call(t,rc);try{nc.call(t,nc)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function dU(t){if(!tA||!t||typeof t!="object")return!1;try{return tA.call(t),!0}catch{}return!1}function fU(t){if(!qp||!t||typeof t!="object")return!1;try{qp.call(t);try{Xp.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function pU(t){if(!nc||!t||typeof t!="object")return!1;try{nc.call(t,nc);try{rc.call(t,rc)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function mU(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function ik(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return ik(Rw.call(t,0,e.maxStringLength),e)+n}var i=$o.call($o.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,gU);return tk(i,"single",e)}function gU(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+ZF.call(e.toString(16))}function Eh(t){return"Object("+t+")"}function hy(t){return t+" { ? }"}function hA(t,e,r,n){var i=n?v_(r,n):as.call(r,", ");return t+" ("+e+") {"+i+"}"}function yU(t){for(var e=0;e<t.length;e++)if(nk(t[e],`
`)>=0)return!1;return!0}function vU(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=as.call(Array(t.indent+1)," ");else return null;return{base:r,prev:as.call(Array(e+1),r)}}function v_(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+as.call(t,","+r)+`
`+e.prev}function uf(t,e){var r=y_(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Bo(t,i)?e(t[i],t):""}var s=typeof uy=="function"?uy(t):[],o;if(Mu){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var l in t)Bo(t,l)&&(r&&String(Number(l))===l&&l<t.length||Mu&&o["$"+l]instanceof Symbol||(J2.call(/[^\w$]/,l)?n.push(e(l,t)+": "+e(t[l],t)):n.push(l+": "+e(t[l],t))));if(typeof uy=="function")for(var u=0;u<s.length;u++)ek.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var sk=zu,Hu=$F,_U=eU,bU=jc,hf=sk("%WeakMap%",!0),cf=sk("%Map%",!0),wU=Hu("WeakMap.prototype.get",!0),xU=Hu("WeakMap.prototype.set",!0),EU=Hu("WeakMap.prototype.has",!0),SU=Hu("Map.prototype.get",!0),TU=Hu("Map.prototype.set",!0),AU=Hu("Map.prototype.has",!0),kw=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},CU=function(t,e){var r=kw(t,e);return r&&r.value},IU=function(t,e,r){var n=kw(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},PU=function(t,e){return!!kw(t,e)},RU=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new bU("Side channel does not contain "+_U(s))},get:function(s){if(hf&&s&&(typeof s=="object"||typeof s=="function")){if(e)return wU(e,s)}else if(cf){if(r)return SU(r,s)}else if(n)return CU(n,s)},has:function(s){if(hf&&s&&(typeof s=="object"||typeof s=="function")){if(e)return EU(e,s)}else if(cf){if(r)return AU(r,s)}else if(n)return PU(n,s);return!1},set:function(s,o){hf&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new hf),xU(e,s,o)):cf?(r||(r=new cf),TU(r,s,o)):(n||(n={key:{},next:null}),IU(n,s,o))}};return i},kU=String.prototype.replace,OU=/%20/g,cy={RFC1738:"RFC1738",RFC3986:"RFC3986"},Ow={default:cy.RFC3986,formatters:{RFC1738:function(t){return kU.call(t,OU,"+")},RFC3986:function(t){return String(t)}},RFC1738:cy.RFC1738,RFC3986:cy.RFC3986},MU=Ow,dy=Object.prototype.hasOwnProperty,Ua=Array.isArray,Qi=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),BU=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ua(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},ok=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},NU=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Ua(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!dy.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Ua(e)&&!Ua(r)&&(i=ok(e,n)),Ua(e)&&Ua(r)?(r.forEach(function(s,o){if(dy.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return dy.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},DU=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},LU=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},FU=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var a="",l=0;l<o.length;++l){var u=o.charCodeAt(l);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||s===MU.RFC1738&&(u===40||u===41)){a+=o.charAt(l);continue}if(u<128){a=a+Qi[u];continue}if(u<2048){a=a+(Qi[192|u>>6]+Qi[128|u&63]);continue}if(u<55296||u>=57344){a=a+(Qi[224|u>>12]+Qi[128|u>>6&63]+Qi[128|u&63]);continue}l+=1,u=65536+((u&1023)<<10|o.charCodeAt(l)&1023),a+=Qi[240|u>>18]+Qi[128|u>>12&63]+Qi[128|u>>6&63]+Qi[128|u&63]}return a},UU=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),l=0;l<a.length;++l){var u=a[l],d=o[u];typeof d=="object"&&d!==null&&n.indexOf(d)===-1&&(r.push({obj:o,prop:u}),n.push(d))}return BU(r),e},jU=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},$U=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},zU=function(e,r){return[].concat(e,r)},HU=function(e,r){if(Ua(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},ak={arrayToObject:ok,assign:DU,combine:zU,compact:UU,decode:LU,encode:FU,isBuffer:$U,isRegExp:jU,maybeMap:HU,merge:NU},lk=RU,ip=ak,ic=Ow,GU=Object.prototype.hasOwnProperty,uk={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},ss=Array.isArray,WU=Array.prototype.push,hk=function(t,e){WU.apply(t,ss(e)?e:[e])},VU=Date.prototype.toISOString,cA=ic.default,wr={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:ip.encode,encodeValuesOnly:!1,format:cA,formatter:ic.formatters[cA],indices:!1,serializeDate:function(e){return VU.call(e)},skipNulls:!1,strictNullHandling:!1},XU=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},fy={},qU=function t(e,r,n,i,s,o,a,l,u,d,f,p,m,g,v,C,S,x){for(var b=e,I=x,O=0,k=!1;(I=I.get(fy))!==void 0&&!k;){var R=I.get(e);if(O+=1,typeof R<"u"){if(R===O)throw new RangeError("Cyclic object value");k=!0}typeof I.get(fy)>"u"&&(O=0)}if(typeof d=="function"?b=d(r,b):b instanceof Date?b=m(b):n==="comma"&&ss(b)&&(b=ip.maybeMap(b,function(W){return W instanceof Date?m(W):W})),b===null){if(o)return u&&!C?u(r,wr.encoder,S,"key",g):r;b=""}if(XU(b)||ip.isBuffer(b)){if(u){var M=C?r:u(r,wr.encoder,S,"key",g);return[v(M)+"="+v(u(b,wr.encoder,S,"value",g))]}return[v(r)+"="+v(String(b))]}var $=[];if(typeof b>"u")return $;var Y;if(n==="comma"&&ss(b))C&&u&&(b=ip.maybeMap(b,u)),Y=[{value:b.length>0?b.join(",")||null:void 0}];else if(ss(d))Y=d;else{var se=Object.keys(b);Y=f?se.sort(f):se}var B=l?r.replace(/\./g,"%2E"):r,F=i&&ss(b)&&b.length===1?B+"[]":B;if(s&&ss(b)&&b.length===0)return F+"[]";for(var K=0;K<Y.length;++K){var Z=Y[K],de=typeof Z=="object"&&typeof Z.value<"u"?Z.value:b[Z];if(!(a&&de===null)){var oe=p&&l?Z.replace(/\./g,"%2E"):Z,D=ss(b)?typeof n=="function"?n(F,oe):F:F+(p?"."+oe:"["+oe+"]");x.set(e,O);var J=lk();J.set(fy,x),hk($,t(de,D,n,i,s,o,a,l,n==="comma"&&C&&ss(b)?null:u,d,f,p,m,g,v,C,S,J))}}return $},YU=function(e){if(!e)return wr;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||wr.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=ic.default;if(typeof e.format<"u"){if(!GU.call(ic.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=ic.formatters[n],s=wr.filter;(typeof e.filter=="function"||ss(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in uk?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=wr.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:wr.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:wr.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:wr.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:wr.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?wr.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:wr.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:wr.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:wr.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:wr.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:wr.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:wr.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:wr.strictNullHandling}},KU=function(t,e){var r=t,n=YU(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):ss(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=uk[n.arrayFormat],l=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var u=lk(),d=0;d<i.length;++d){var f=i[d];n.skipNulls&&r[f]===null||hk(o,qU(r[f],f,a,l,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}var p=o.join(n.delimiter),m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),p.length>0?m+p:""},Bu=ak,__=Object.prototype.hasOwnProperty,QU=Array.isArray,dr={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!0,decoder:Bu.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},ZU=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},ck=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},JU="utf8=%26%2310003%3B",e4="utf8=%E2%9C%93",t4=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,l,u=r.charset;if(r.charsetSentinel)for(l=0;l<o.length;++l)o[l].indexOf("utf8=")===0&&(o[l]===e4?u="utf-8":o[l]===JU&&(u="iso-8859-1"),a=l,l=o.length);for(l=0;l<o.length;++l)if(l!==a){var d=o[l],f=d.indexOf("]="),p=f===-1?d.indexOf("="):f+1,m,g;p===-1?(m=r.decoder(d,dr.decoder,u,"key"),g=r.strictNullHandling?null:""):(m=r.decoder(d.slice(0,p),dr.decoder,u,"key"),g=Bu.maybeMap(ck(d.slice(p+1),r),function(C){return r.decoder(C,dr.decoder,u,"value")})),g&&r.interpretNumericEntities&&u==="iso-8859-1"&&(g=ZU(g)),d.indexOf("[]=")>-1&&(g=QU(g)?[g]:g);var v=__.call(n,m);v&&r.duplicates==="combine"?n[m]=Bu.combine(n[m],g):(!v||r.duplicates==="last")&&(n[m]=g)}return n},r4=function(t,e,r,n){for(var i=n?e:ck(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var l=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,u=r.decodeDotInKeys?l.replace(/%2E/g,"."):l,d=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(d)&&a!==u&&String(d)===u&&d>=0&&r.parseArrays&&d<=r.arrayLimit?(o=[],o[d]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},n4=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,l=n.depth>0&&o.exec(s),u=l?s.slice(0,l.index):s,d=[];if(u){if(!n.plainObjects&&__.call(Object.prototype,u)&&!n.allowPrototypes)return;d.push(u)}for(var f=0;n.depth>0&&(l=a.exec(s))!==null&&f<n.depth;){if(f+=1,!n.plainObjects&&__.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;d.push(l[1])}return l&&d.push("["+s.slice(l.index)+"]"),r4(d,r,n,i)}},i4=function(e){if(!e)return dr;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?dr.charset:e.charset,n=typeof e.duplicates>"u"?dr.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:dr.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:dr.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:dr.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:dr.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:dr.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:dr.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:dr.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:dr.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:dr.decoder,delimiter:typeof e.delimiter=="string"||Bu.isRegExp(e.delimiter)?e.delimiter:dr.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:dr.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:dr.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:dr.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:dr.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:dr.strictNullHandling}},s4=function(t,e){var r=i4(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?t4(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],l=n4(a,n[a],r,typeof t=="string");i=Bu.merge(i,l,r)}return r.allowSparse===!0?i:Bu.compact(i)},o4=KU,a4=s4,l4=Ow,u4={formats:l4,parse:a4,stringify:o4},h4=WL;function Ys(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var c4=/^([a-z0-9.+-]+:)/i,d4=/:[0-9]*$/,f4=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,p4=["<",">",'"',"`"," ","\r",`
`,"	"],m4=["{","}","|","\\","^","`"].concat(p4),b_=["'"].concat(m4),dA=["%","/","?",";","#"].concat(b_),fA=["/","?","#"],g4=255,pA=/^[+a-z0-9A-Z_-]{0,63}$/,y4=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v4={javascript:!0,"javascript:":!0},w_={javascript:!0,"javascript:":!0},vu={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},x_=u4;function _4(t,e,r){if(t&&typeof t=="object"&&t instanceof Ys)return t;var n=new Ys;return n.parse(t,e,r),n}Ys.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var l=f4.exec(a);if(l)return this.path=a,this.href=a,this.pathname=l[1],l[2]?(this.search=l[2],e?this.query=x_.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var u=c4.exec(a);if(u){u=u[0];var d=u.toLowerCase();this.protocol=d,a=a.substr(u.length)}if(r||u||a.match(/^\/\/[^@/]+@[^@/]+/)){var f=a.substr(0,2)==="//";f&&!(u&&w_[u])&&(a=a.substr(2),this.slashes=!0)}if(!w_[u]&&(f||u&&!vu[u])){for(var p=-1,m=0;m<fA.length;m++){var g=a.indexOf(fA[m]);g!==-1&&(p===-1||g<p)&&(p=g)}var v,C;p===-1?C=a.lastIndexOf("@"):C=a.lastIndexOf("@",p),C!==-1&&(v=a.slice(0,C),a=a.slice(C+1),this.auth=decodeURIComponent(v)),p=-1;for(var m=0;m<dA.length;m++){var g=a.indexOf(dA[m]);g!==-1&&(p===-1||g<p)&&(p=g)}p===-1&&(p=a.length),this.host=a.slice(0,p),a=a.slice(p),this.parseHost(),this.hostname=this.hostname||"";var S=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!S)for(var x=this.hostname.split(/\./),m=0,b=x.length;m<b;m++){var I=x[m];if(I&&!I.match(pA)){for(var O="",k=0,R=I.length;k<R;k++)I.charCodeAt(k)>127?O+="x":O+=I[k];if(!O.match(pA)){var M=x.slice(0,m),$=x.slice(m+1),Y=I.match(y4);Y&&(M.push(Y[1]),$.unshift(Y[2])),$.length&&(a="/"+$.join(".")+a),this.hostname=M.join(".");break}}}this.hostname.length>g4?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=h4.toASCII(this.hostname));var se=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+se,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!v4[d])for(var m=0,b=b_.length;m<b;m++){var F=b_[m];if(a.indexOf(F)!==-1){var K=encodeURIComponent(F);K===F&&(K=escape(F)),a=a.split(F).join(K)}}var Z=a.indexOf("#");Z!==-1&&(this.hash=a.substr(Z),a=a.slice(0,Z));var de=a.indexOf("?");if(de!==-1?(this.search=a.substr(de),this.query=a.substr(de+1),e&&(this.query=x_.parse(this.query)),a=a.slice(0,de)):e&&(this.search="",this.query={}),a&&(this.pathname=a),vu[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var se=this.pathname||"",oe=this.search||"";this.path=se+oe}return this.href=this.format(),this};Ys.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=x_.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||vu[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};Ys.prototype.resolve=function(t){return this.resolveObject(_4(t,!1,!0)).format()};Ys.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Ys;e.parse(t,!1,!0),t=e}for(var r=new Ys,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var l=o[a];l!=="protocol"&&(r[l]=t[l])}return vu[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!vu[t.protocol]){for(var u=Object.keys(t),d=0;d<u.length;d++){var f=u[d];r[f]=t[f]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!w_[t.protocol]){for(var b=(t.pathname||"").split("/");b.length&&!(t.host=b.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),r.pathname=b.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var p=r.pathname||"",m=r.search||"";r.path=p+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&r.pathname.charAt(0)==="/",v=t.host||t.pathname&&t.pathname.charAt(0)==="/",C=v||g||r.host&&t.pathname,S=C,x=r.pathname&&r.pathname.split("/")||[],b=t.pathname&&t.pathname.split("/")||[],I=r.protocol&&!vu[r.protocol];if(I&&(r.hostname="",r.port=null,r.host&&(x[0]===""?x[0]=r.host:x.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host=null),C=C&&(b[0]===""||x[0]==="")),v)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,x=b;else if(b.length)x||(x=[]),x.pop(),x=x.concat(b),r.search=t.search,r.query=t.query;else if(t.search!=null){if(I){r.host=x.shift(),r.hostname=r.host;var O=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;O&&(r.auth=O.shift(),r.hostname=O.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!x.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var k=x.slice(-1)[0],R=(r.host||t.host||x.length>1)&&(k==="."||k==="..")||k==="",M=0,$=x.length;$>=0;$--)k=x[$],k==="."?x.splice($,1):k===".."?(x.splice($,1),M++):M&&(x.splice($,1),M--);if(!C&&!S)for(;M--;M)x.unshift("..");C&&x[0]!==""&&(!x[0]||x[0].charAt(0)!=="/")&&x.unshift(""),R&&x.join("/").substr(-1)!=="/"&&x.push("");var Y=x[0]===""||x[0]&&x[0].charAt(0)==="/";if(I){r.hostname=Y?"":x.length?x.shift():"",r.host=r.hostname;var O=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;O&&(r.auth=O.shift(),r.hostname=O.shift(),r.host=r.hostname)}return C=C||r.host&&x.length,C&&!Y&&x.unshift(""),x.length>0?r.pathname=x.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Ys.prototype.parseHost=function(){var t=this.host,e=d4.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const mA={};function pt(t,e,r=3){if(mA[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),mA[e]=!0}function bi(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Sh(t){return t.split("?")[0].split("#")[0]}function b4(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function w4(t,e,r){return t.replace(new RegExp(b4(e),"g"),r)}function x4(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const l=r.lastIndexOf("/");if(l!==r.length-1){l===-1?(r="",n=0):(r=r.slice(0,l),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Ar={toPosix(t){return w4(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){bi(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(bi(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Sh(this.toPosix(e??qe.ADAPTER.getBaseUrl())),i=Sh(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Ar.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(bi(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=x4(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return bi(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(bi(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(bi(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){bi(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){bi(t),e&&bi(e),t=Sh(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){bi(t),t=Sh(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){bi(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Sh(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,d=0;for(;u>=i;--u){if(r=t.charCodeAt(u),r===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),r===46?s===-1?s=u:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||a===-1||d===0||d===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let py;async function E4(){return py??(py=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return Tn.UNPACK;const e=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return Tn.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?Tn.PMA:Tn.UNPACK})()),py}let my;function S4(){return typeof my>"u"&&(my=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:qe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!qe.ADAPTER.getWebGLRenderingContext())return!1;const r=qe.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),my}var T4={grad:.9,turn:360,rad:360/(2*Math.PI)},ks=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Dr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},ai=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},dk=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},gA=function(t){return{r:ai(t.r,0,255),g:ai(t.g,0,255),b:ai(t.b,0,255),a:ai(t.a)}},gy=function(t){return{r:Dr(t.r),g:Dr(t.g),b:Dr(t.b),a:Dr(t.a,3)}},A4=/^#([0-9a-f]{3,8})$/i,df=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},fk=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},pk=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),l=n*(1-(1-e+s)*r),u=s%6;return{r:255*[n,a,o,o,l,n][u],g:255*[l,n,n,a,o,o][u],b:255*[o,o,l,n,n,a][u],a:i}},yA=function(t){return{h:dk(t.h),s:ai(t.s,0,100),l:ai(t.l,0,100),a:ai(t.a)}},vA=function(t){return{h:Dr(t.h),s:Dr(t.s),l:Dr(t.l),a:Dr(t.a,3)}},_A=function(t){return pk((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},sc=function(t){return{h:(e=fk(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},C4=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,I4=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,P4=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,R4=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,E_={string:[[function(t){var e=A4.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Dr(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Dr(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=P4.exec(t)||R4.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:gA({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=C4.exec(t)||I4.exec(t);if(!e)return null;var r,n,i=yA({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(T4[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return _A(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return ks(e)&&ks(r)&&ks(n)?gA({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!ks(e)||!ks(r)||!ks(n))return null;var o=yA({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return _A(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!ks(e)||!ks(r)||!ks(n))return null;var o=function(a){return{h:dk(a.h),s:ai(a.s,0,100),v:ai(a.v,0,100),a:ai(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return pk(o)},"hsv"]]},bA=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},k4=function(t){return typeof t=="string"?bA(t.trim(),E_.string):typeof t=="object"&&t!==null?bA(t,E_.object):[null,void 0]},yy=function(t,e){var r=sc(t);return{h:r.h,s:ai(r.s+100*e,0,100),l:r.l,a:r.a}},vy=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},wA=function(t,e){var r=sc(t);return{h:r.h,s:r.s,l:ai(r.l+100*e,0,100),a:r.a}},S_=function(){function t(e){this.parsed=k4(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Dr(vy(this.rgba),2)},t.prototype.isDark=function(){return vy(this.rgba)<.5},t.prototype.isLight=function(){return vy(this.rgba)>=.5},t.prototype.toHex=function(){return e=gy(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?df(Dr(255*s)):"","#"+df(r)+df(n)+df(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return gy(this.rgba)},t.prototype.toRgbString=function(){return e=gy(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return vA(sc(this.rgba))},t.prototype.toHslString=function(){return e=vA(sc(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=fk(this.rgba),{h:Dr(e.h),s:Dr(e.s),v:Dr(e.v),a:Dr(e.a,3)};var e},t.prototype.invert=function(){return Ji({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Ji(yy(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Ji(yy(this.rgba,-e))},t.prototype.grayscale=function(){return Ji(yy(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Ji(wA(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Ji(wA(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Ji({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Dr(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=sc(this.rgba);return typeof e=="number"?Ji({h:e,s:r.s,l:r.l,a:r.a}):Dr(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Ji(e).toHex()},t}(),Ji=function(t){return t instanceof S_?t:new S_(t)},xA=[],O4=function(t){t.forEach(function(e){xA.indexOf(e)<0&&(e(S_,E_),xA.push(e))})};function M4(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=n[this.toHex()];if(u)return u;if(o!=null&&o.closest){var d=this.toRgb(),f=1/0,p="black";if(!s.length)for(var m in r)s[m]=new t(r[m]).toRgb();for(var g in r){var v=(a=d,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));v<f&&(f=v,p=g)}return p}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":r[a];return l?new t(l).toRgb():null},"name"])}O4([M4]);const zl=class sp{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof sp)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=sp.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=sp.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=Ji(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};zl.shared=new zl,zl.temp=new zl,zl.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Bt=zl;function B4(t){return pt("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Bt.shared.setValue(t).toHex()}function N4(t){return pt("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Bt.shared.setValue(t).toNumber()}function D4(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[ot.NORMAL_NPM]=ot.NORMAL,t[ot.ADD_NPM]=ot.ADD,t[ot.SCREEN_NPM]=ot.SCREEN,e[ot.NORMAL]=ot.NORMAL_NPM,e[ot.ADD]=ot.ADD_NPM,e[ot.SCREEN]=ot.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const mk=D4();function gk(t,e){return mk[e?1:0][t]}function L4(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function yk(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Yp(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function EA(t){return!(t&t-1)&&!!t}function SA(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function _u(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function zo(t){return t===0?0:t<0?-1:1}let F4=0;function al(){return++F4}const T_=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};T_.EMPTY=new T_(0,0,0,0);let TA=T_;const AA={},es=Object.create(null),So=Object.create(null);class U4{constructor(e,r,n){this._canvas=qe.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||qe.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function CA(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function IA(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function j4(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,l=r-1;for(;o<r&&CA(i,e,o);)++o;if(o===r)return TA.EMPTY;for(;CA(i,e,l);)--l;for(;IA(i,e,s,o,l);)++s;for(;IA(i,e,a,o,l);)--a;return++a,++l,new TA(s,o,a,l)}function $4(t){const e=j4(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function z4(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function io(t,e=1){var n;const r=(n=qe.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var We=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(We||{});const A_=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},PA=(t,e)=>A_(t).priority??e,Je={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(A_).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(A_).forEach(e=>{e.type.forEach(r=>{var s,o;const n=this._addHandlers,i=this._queue;n[r]?(s=n[r])==null||s.call(n,e):(i[r]=i[r]||[],(o=i[r])==null||o.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&((o=s[t])==null||o.forEach(a=>e(a)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>PA(s,r)-PA(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class C_{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const H4=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function G4(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function W4(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=H4.replace(/%forloop%/gi,G4(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const _y=0,by=1,wy=2,xy=3,Ey=4,Sy=5;class ws{constructor(){this.data=0,this.blendMode=ot.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<_y)}set blend(e){!!(this.data&1<<_y)!==e&&(this.data^=1<<_y)}get offsets(){return!!(this.data&1<<by)}set offsets(e){!!(this.data&1<<by)!==e&&(this.data^=1<<by)}get culling(){return!!(this.data&1<<wy)}set culling(e){!!(this.data&1<<wy)!==e&&(this.data^=1<<wy)}get depthTest(){return!!(this.data&1<<xy)}set depthTest(e){!!(this.data&1<<xy)!==e&&(this.data^=1<<xy)}get depthMask(){return!!(this.data&1<<Sy)}set depthMask(e){!!(this.data&1<<Sy)!==e&&(this.data^=1<<Sy)}get clockwiseFrontFace(){return!!(this.data&1<<Ey)}set clockwiseFrontFace(e){!!(this.data&1<<Ey)!==e&&(this.data^=1<<Ey)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ot.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new ws;return e.depthTest=!1,e.blend=!0,e}}ws.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const I_=[];function vk(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=I_.length-1;n>=0;--n){const i=I_[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Ni{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,l){if(arguments.length>8)throw new Error("max arguments reached");const{name:u,items:d}=this;this._aliasCount++;for(let f=0,p=d.length;f<p;f++)d[f][u](e,r,n,i,s,o,a,l);return d===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ni.prototype,{dispatch:{value:Ni.prototype.emit},run:{value:Ni.prototype.emit}});class Cc{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Ni("setRealSize"),this.onUpdate=new Ni("update"),this.onError=new Ni("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Um extends Cc{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Tn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const V4={scaleMode:Gs.NEAREST,alphaMode:Tn.NPM},P_=class Hl extends Uc{constructor(e=null,r=null){super(),r=Object.assign({},Hl.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:l,wrapMode:u,format:d,type:f,target:p,resolution:m,resourceOptions:g}=r;e&&!(e instanceof Cc)&&(e=vk(e,g),e.internal=!0),this.resolution=m||qe.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=u,this._scaleMode=o,this.format=d,this.type=f,this.target=p,this.alphaMode=n,this.uid=al(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=EA(this.realWidth)&&EA(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete So[this.cacheId],delete es[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Hl.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=qe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${al()}`}s=e._pixiId}let o=So[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new Hl(e,r),o.cacheId=s,Hl.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new Um(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,a;return e instanceof Float32Array?(o=$e.RGBA,a=rt.FLOAT):e instanceof Int32Array?(o=$e.RGBA_INTEGER,a=rt.INT):e instanceof Uint32Array?(o=$e.RGBA_INTEGER,a=rt.UNSIGNED_INT):e instanceof Int16Array?(o=$e.RGBA_INTEGER,a=rt.SHORT):e instanceof Uint16Array?(o=$e.RGBA_INTEGER,a=rt.UNSIGNED_SHORT):e instanceof Int8Array?(o=$e.RGBA,a=rt.BYTE):(o=$e.RGBA,a=rt.UNSIGNED_BYTE),s.internal=!0,new Hl(s,Object.assign({},V4,{type:a,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),So[r]&&So[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),So[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=So[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete So[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete So[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};P_.defaultOptions={mipmap:vs.POW2,anisotropicLevel:0,scaleMode:Gs.LINEAR,wrapMode:qs.CLAMP,alphaMode:Tn.UNPACK,target:gu.TEXTURE_2D,format:$e.RGBA,type:rt.UNSIGNED_BYTE},P_._globalBatch=0;let ut=P_;class R_{constructor(){this.texArray=null,this.blend=0,this.type=ki.TRIANGLES,this.start=0,this.size=0,this.data=null}}let X4=0,Sr=class _k{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=X4++,this.disposeRunner=new Ni("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?gs.ELEMENT_ARRAY_BUFFER:gs.ARRAY_BUFFER}get index(){return this.type===gs.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new _k(e)}};class Kp{constructor(e,r=0,n=!1,i=rt.FLOAT,s,o,a,l=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=l}destroy(){this.buffer=null}static from(e,r,n,i,s){return new Kp(e,r,n,i,s)}}const q4={Float32Array,Uint32Array,Int32Array,Uint8Array};function Y4(t,e){let r=0,n=0;const i={};for(let l=0;l<t.length;l++)n+=e[l],r+=t[l].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let l=0;l<t.length;l++){const u=e[l],d=t[l],f=yk(d);i[f]||(i[f]=new q4[f](s)),o=i[f];for(let p=0;p<d.length;p++){const m=(p/u|0)*n+a,g=p%u;o[m+g]=d[p]}a+=u}return new Float32Array(s)}const RA={5126:4,5123:2,5121:1};let K4=0;const Q4={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ta{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=K4++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ni("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,l=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Sr||(r instanceof Array&&(r=new Float32Array(r)),r=new Sr(r));const u=e.split("|");if(u.length>1){for(let f=0;f<u.length;f++)this.addAttribute(u[f],r,n,i,s);return this}let d=this.buffers.indexOf(r);return d===-1&&(this.buffers.push(r),d=this.buffers.length-1),this.attributes[e]=new Kp(d,n,i,s,o,a,l),this.instanced=this.instanced||l,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Sr||(e instanceof Array&&(e=new Uint16Array(e)),e=new Sr(e)),e.type=gs.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Sr;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*RA[s.type]/4),s.buffer=0}for(n.data=Y4(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ta;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Sr(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Kp(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=gs.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ta,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)i[l]=i[l]||0,i[l]+=o.buffers[l].data.length,s[l]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new Q4[yk(o.buffers[a].data)](i[a]),r.buffers[a]=new Sr(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let l=0;l<o.buffers.length;l++)n[l].set(o.buffers[l].data,s[l]),s[l]+=o.buffers[l].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=gs.ELEMENT_ARRAY_BUFFER;let a=0,l=0,u=0,d=0;for(let f=0;f<o.buffers.length;f++)if(o.buffers[f]!==o.indexBuffer){d=f;break}for(const f in o.attributes){const p=o.attributes[f];(p.buffer|0)===d&&(l+=p.size*RA[p.type]/4)}for(let f=0;f<e.length;f++){const p=e[f].indexBuffer.data;for(let m=0;m<p.length;m++)r.indexBuffer.data[m+u]+=a;a+=e[f].buffers[d].data.length/l,u+=p.length}}return r}}class bk extends ta{constructor(e=!1){super(),this._buffer=new Sr(null,e,!1),this._indexBuffer=new Sr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,rt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,rt.FLOAT).addAttribute("aColor",this._buffer,4,!0,rt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,rt.FLOAT).addIndex(this._indexBuffer)}}const Qp=Math.PI*2,Z4=180/Math.PI,J4=Math.PI/180;var Gr=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Gr||{});class gt{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new gt(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}gt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const ff=[new gt,new gt,new gt,new gt];class ht{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Gr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new ht(0,0,0,0)}clone(){return new ht(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const M=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=M)return!1;const $=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>$}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=ff[0].set(e.left,e.top),l=ff[1].set(e.left,e.bottom),u=ff[2].set(e.right,e.top),d=ff[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const f=Math.sign(r.a*r.d-r.b*r.c);if(f===0||(r.apply(a,a),r.apply(l,l),r.apply(u,u),r.apply(d,d),Math.max(a.x,l.x,u.x,d.x)<=n||Math.min(a.x,l.x,u.x,d.x)>=i||Math.max(a.y,l.y,u.y,d.y)<=s||Math.min(a.y,l.y,u.y,d.y)>=o))return!1;const p=f*(l.y-a.y),m=f*(a.x-l.x),g=p*n+m*s,v=p*i+m*s,C=p*n+m*o,S=p*i+m*o;if(Math.max(g,v,C,S)<=p*a.x+m*a.y||Math.min(g,v,C,S)>=p*d.x+m*d.y)return!1;const x=f*(a.y-u.y),b=f*(u.x-a.x),I=x*n+b*s,O=x*i+b*s,k=x*n+b*o,R=x*i+b*o;return!(Math.max(I,O,k,R)<=x*a.x+b*a.y||Math.min(I,O,k,R)>=x*d.x+b*d.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}ht.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class jm{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Gr.CIRC}clone(){return new jm(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new ht(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}jm.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class $m{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Gr.ELIP}clone(){return new $m(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new ht(this.x-this.width,this.y-this.height,this.width,this.height)}}$m.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Ja{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Gr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Ja(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],d=this.points[o*2+1];l>r!=d>r&&e<(u-a)*((r-l)/(d-l))+a&&(n=!n)}return n}}Ja.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class zm{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Gr.RREC}clone(){return new zm(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}zm.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Ut{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new gt;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new gt;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(n,r),u=Math.abs(a+l);return u<1e-5||Math.abs(Qp-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ut;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Ut}static get TEMP_MATRIX(){return new Ut}}Ut.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Oa=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ma=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ba=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Na=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],k_=[],wk=[],pf=Math.sign;function e5(){for(let t=0;t<16;t++){const e=[];k_.push(e);for(let r=0;r<16;r++){const n=pf(Oa[t]*Oa[r]+Ba[t]*Ma[r]),i=pf(Ma[t]*Oa[r]+Na[t]*Ma[r]),s=pf(Oa[t]*Ba[r]+Ba[t]*Na[r]),o=pf(Ma[t]*Ba[r]+Na[t]*Na[r]);for(let a=0;a<16;a++)if(Oa[a]===n&&Ma[a]===i&&Ba[a]===s&&Na[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new Ut;e.set(Oa[t],Ma[t],Ba[t],Na[t],0,0),wk.push(e)}}e5();const tr={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Oa[t],uY:t=>Ma[t],vX:t=>Ba[t],vY:t=>Na[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>k_[t][e],sub:(t,e)=>k_[t][tr.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?tr.S:tr.N:Math.abs(e)*2<=Math.abs(t)?t>0?tr.E:tr.W:e>0?t>0?tr.SE:tr.SW:t>0?tr.NE:tr.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=wk[tr.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class cs{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new cs(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}cs.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const O_=class{constructor(){this.worldTransform=new Ut,this.localTransform=new Ut,this.position=new cs(this.onChange,this,0,0),this.scale=new cs(this.onChange,this,1,1),this.pivot=new cs(this.onChange,this,0,0),this.skew=new cs(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};O_.IDENTITY=new O_;let Hm=O_;Hm.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var t5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,r5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function kA(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Ty(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function xk(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Ty(2*e);case"bvec3":return Ty(3*e);case"bvec4":return Ty(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const bu=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],n5={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},i5={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function s5(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let l=0;l<bu.length;l++)if(bu[l].test(s,o)){r.push(bu[l].code(i,o)),a=!0;break}if(!a){const l=(s.size===1&&!s.isArray?n5:i5)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${l};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const Ek={};let Ll=Ek;function o5(){if(Ll===Ek||Ll!=null&&Ll.isContextLost()){const t=qe.ADAPTER.createCanvas();let e;qe.PREFER_ENV>=pl.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Ll=e}return Ll}let mf;function a5(){if(!mf){mf=oi.MEDIUM;const t=o5();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(mf=e.precision?oi.HIGH:oi.MEDIUM)}}return mf}function OA(t,e){const r=t.getShaderSource(e).split(`
`).map((u,d)=>`${d}: ${u}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(u=>parseFloat(u.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(u=>u&&!s[u]?(s[u]=!0,!0):!1),a=[""];o.forEach(u=>{r[u-1]=`%c${r[u-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const l=r.join(`
`);a[0]=l,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function l5(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||OA(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||OA(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const u5={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Sk(t){return u5[t]}let gf=null;const MA={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Tk(t,e){if(!gf){const r=Object.keys(MA);gf={};for(let n=0;n<r.length;++n){const i=r[n];gf[t[i]]=MA[i]}}return gf[e]}function BA(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===oi.HIGH&&r!==oi.HIGH&&(n=oi.MEDIUM),`precision ${n} float;
${t}`}else if(r!==oi.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Th;function h5(){if(typeof Th=="boolean")return Th;try{Th=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Th=!1}return Th}let c5=0;const yf={},M_=class Gl{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=c5++,this.vertexSrc=e||Gl.defaultVertexSrc,this.fragmentSrc=r||Gl.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),yf[n]?(yf[n]++,n+=`-${yf[n]}`):yf[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=BA(this.vertexSrc,Gl.defaultVertexPrecision,oi.HIGH),this.fragmentSrc=BA(this.fragmentSrc,Gl.defaultFragmentPrecision,a5())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return r5}static get defaultFragmentSrc(){return t5}static from(e,r,n){const i=e+r;let s=AA[i];return s||(AA[i]=s=new Gl(e,r,n)),s}};M_.defaultVertexPrecision=oi.HIGH,M_.defaultFragmentPrecision=Ws.apple.device?oi.HIGH:oi.MEDIUM;let Vs=M_,d5=0;class Di{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=d5++,this.static=!!r,this.ubo=!!n,e instanceof Sr?(this.buffer=e,this.buffer.type=gs.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Sr(new Float32Array(1)),this.buffer.type=gs.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Di(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Di(e,r,n)}static uboFrom(e,r){return new Di(e,r??!0,!0)}}class ys{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Di?this.uniformGroup=r:this.uniformGroup=new Di(r):this.uniformGroup=new Di({}),this.disposeRunner=new Ni("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Vs.from(e,r);return new ys(i,n)}}class f5{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Di.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Vs(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ut,default:this.defaultGroupCache[e]};return new ys(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class B_{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function p5(){return!Ws.apple.device}function m5(t){let e=!0;const r=qe.ADAPTER.getNavigator();if(Ws.tablet||Ws.phone){if(Ws.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Ws.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Gm{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var g5=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,y5=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Lh=class Si extends Gm{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=bk,this.vertexSize=6,this.state=ws.for2d(),this.size=Si.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??m5(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??p5(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return pt("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return y5}static get defaultFragmentTemplate(){return g5}setShaderGenerator({vertex:e=Si.defaultVertexSrc,fragment:r=Si.defaultFragmentTemplate}={}){this.shaderGenerator=new f5(e,r)}contextChange(){const e=this.renderer.gl;qe.PREFER_ENV===pl.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Si.defaultMaxTextures),this.maxTextures=W4(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=Si,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new R_);for(;r.length<i;)r.push(new B_);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=Si._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++ut._globalBatch,l=0,u=n[0],d=0;i.copyBoundTextures(s,r);for(let f=0;f<this._bufferSize;++f){const p=e[f];e[f]=null,p._batchEnabled!==a&&(u.count>=r&&(i.boundArray(u,s,a,r),this.buildDrawCalls(u,d,f),d=f,u=n[++l],++a),p._batchEnabled=a,p.touched=o,u.elements[u.count++]=p)}u.count>0&&(i.boundArray(u,s,a,r),this.buildDrawCalls(u,d,this._bufferSize),++l,++a);for(let f=0;f<s.length;f++)s[f]=null;ut._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,l=Si._drawCallPool;let u=this._dcIndex,d=this._aIndex,f=this._iIndex,p=l[u];p.start=this._iIndex,p.texArray=e;for(let m=r;m<n;++m){const g=i[m],v=g._texture.baseTexture,C=mk[v.alphaMode?1:0][g.blendMode];i[m]=null,r<m&&p.blend!==C&&(p.size=f-p.start,r=m,p=l[++u],p.texArray=e,p.start=f),this.packInterleavedGeometry(g,s,o,d,f),d+=g.vertexData.length/2*a,f+=g.indices.length,p.blend=C}r<n&&(p.size=f-p.start,++u),this._dcIndex=u,this._aIndex=d,this._iIndex=f}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;Si.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=Si._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:l,size:u,start:d,blend:f}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=f,n.set(this.state),r.drawElements(l,u,r.UNSIGNED_SHORT,d*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Si.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=Yp(Math.ceil(e/8)),n=SA(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new C_(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=Yp(Math.ceil(e/12)),n=SA(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:a}=r,l=i/this.vertexSize,u=e.uvs,d=e.indices,f=e.vertexData,p=e._texture.baseTexture._batchLocation,m=Math.min(e.worldAlpha,1),g=Bt.shared.setValue(e._tintRGB).toPremultiplied(m,e._texture.baseTexture.alphaMode>0);for(let v=0;v<f.length;v+=2)a[i++]=f[v],a[i++]=f[v+1],a[i++]=u[v],a[i++]=u[v+1],o[i++]=g,a[i++]=p;for(let v=0;v<d.length;v++)n[s++]=l+d[v]}};Lh.defaultBatchSize=4096,Lh.extension={name:"batch",type:We.RendererPlugin},Lh._drawCallPool=[],Lh._textureArrayPool=[];let Da=Lh;Je.add(Da);var v5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,_5=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const N_=class Fh extends ys{constructor(e,r,n){const i=Vs.from(e||Fh.defaultVertexSrc,r||Fh.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=Fh.defaultResolution,this.multisample=Fh.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new ws}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return _5}static get defaultFragmentSrc(){return v5}};N_.defaultResolution=1,N_.defaultMultisample=yr.NONE;let fn=N_;class Zp{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Bt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Zp.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Zp.extension={type:[We.RendererSystem,We.CanvasRendererSystem],name:"background"};Je.add(Zp);class Ak{constructor(e){this.renderer=e,this.emptyRenderer=new Gm(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let l=0;for(let u=0;u<a;u++){const d=s[u],f=d._batchLocation;if(f>=0&&f<i&&r[f]===d){o[u]=f;continue}for(;l<i;){const p=r[l];if(p&&p._batchEnabled===n&&p._batchLocation===l){l++;continue}o[u]=l,d._batchLocation=l,r[l]=d;break}}}destroy(){this.renderer=null}}Ak.extension={type:We.RendererSystem,name:"batch"};Je.add(Ak);let NA=0;class Jp{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=NA++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=NA++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(qe.PREFER_ENV>=pl.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Jp.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Jp.extension={type:We.RendererSystem,name:"context"};Je.add(Jp);class D_{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ni("disposeFramebuffer"),this.multisample=yr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new ut(null,{scaleMode:Gs.NEAREST,resolution:1,mipmap:vs.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new ut(null,{scaleMode:Gs.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:vs.OFF,format:$e.DEPTH_COMPONENT,type:rt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class Ck extends ut{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=yr.NONE),super(null,e),this.mipmap=vs.OFF,this.valid=!0,this._clear=new Bt([0,0,0,0]),this.framebuffer=new D_(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class so extends Cc{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,i=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=z4(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Tn.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class Ik extends so{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;so.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??qe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Tn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Mw{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,l=e.x/i+o,u=e.y/s+a;n=tr.add(n,tr.NW),this.x0=l+o*tr.uX(n),this.y0=u+a*tr.uY(n),n=tr.add(n,2),this.x1=l+o*tr.uX(n),this.y1=u+a*tr.uY(n),n=tr.add(n,2),this.x2=l+o*tr.uX(n),this.y2=u+a*tr.uY(n),n=tr.add(n,2),this.x3=l+o*tr.uX(n),this.y3=u+a*tr.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Mw.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const DA=new Mw;function vf(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ze extends Uc{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new ht(0,0,1,1)),e instanceof ze&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=DA,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new gt(o.x,o.y):new gt(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&es[r.url]&&ze.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ze.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new ze(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===DA&&(this._uvs=new Mw),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=qe.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof ut){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${al()}`,ut.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${al()}`}s=e._pixiId}let o=es[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof ut)?(r.resolution||(r.resolution=io(e)),o=new ze(new ut(e,r)),o.baseTexture.cacheId=s,ut.addToCache(o.baseTexture,s),ze.addToCache(o,s)):!o&&e instanceof ut&&(o=new ze(e),ze.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=ze.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new ze(ut.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new ut(e,Object.assign({scaleMode:ut.defaultOptions.scaleMode,resolution:io(r)},i)),{resource:o}=s;o instanceof Ik&&(o.url=r);const a=new ze(s);return n||(n=r),ut.addToCache(a.baseTexture,n),ze.addToCache(a,n),n!==r&&(ut.addToCache(a.baseTexture,r),ze.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(l=>{a.baseTexture.once("loaded",()=>l(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),es[r]&&es[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),es[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=es[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete es[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)es[e.textureCacheIds[r]]===e&&delete es[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const l=o&&a?"and":"or",u=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,d=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${u} ${l} ${d}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ze._EMPTY||(ze._EMPTY=new ze(new ut),vf(ze._EMPTY),vf(ze._EMPTY.baseTexture)),ze._EMPTY}static get WHITE(){if(!ze._WHITE){const e=qe.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ze._WHITE=new ze(ut.from(e)),vf(ze._WHITE),vf(ze._WHITE.baseTexture)}return ze._WHITE}}class ml extends ze{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new ml(new Ck(e))}}class Pk{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=yr.NONE){const i=new Ck(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new ml(i)}getOptimalTexture(e,r,n=1,i=yr.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Yp(e),r=Yp(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||yr.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}Pk.SCREEN_KEY=-1;class b5 extends ta{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Rk extends ta{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Sr(this.vertices),this.uvBuffer=new Sr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class w5{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=yr.NONE,this.sourceFrame=new ht,this.destinationFrame=new ht,this.bindingSourceFrame=new ht,this.bindingDestinationFrame=new ht,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const _f=[new gt,new gt,new gt,new gt],Ay=new Ut;class kk{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new Pk,this.statePool=[],this.quad=new b5,this.quadUv=new Rk,this.tempRect=new ht,this.activeState={},this.globalUniforms=new Di({outputFrame:new ht,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new w5,o=n.renderTexture;let a,l;if(o.current){const C=o.current;a=C.resolution,l=C.multisample}else a=n.resolution,l=n.multisample;let u=r[0].resolution||a,d=r[0].multisample??l,f=r[0].padding,p=r[0].autoFit,m=r[0].legacy??!0;for(let C=1;C<r.length;C++){const S=r[C];u=Math.min(u,S.resolution||a),d=Math.min(d,S.multisample??l),f=this.useMaxPadding?Math.max(f,S.padding):f+S.padding,p=p&&S.autoFit,m=m||(S.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=u,s.multisample=d,s.legacy=m,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);const g=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Ay.copyFrom(n.projection.transform).invert(),g),p?(s.sourceFrame.fit(g),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(g)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u,d),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const v=this.tempRect;v.x=0,v.y=0,v.width=s.sourceFrame.width,v.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,v),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const u=i.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const l=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,l.renderTexture,os.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let u=r.renderTexture,d=this.getOptimalFilterTexture(u.width,u.height,r.resolution);d.filterFrame=u.filterFrame;let f=0;for(f=0;f<n.length-1;++f){f===1&&r.multisample>1&&(d=this.getOptimalFilterTexture(u.width,u.height,r.resolution),d.filterFrame=u.filterFrame),n[f].apply(this,u,d,os.CLEAR,r);const p=u;u=d,d=p}n[f].apply(this,u,l.renderTexture,os.BLEND,r),f>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(u),this.returnFilterTexture(d)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=os.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===os.CLEAR||r===os.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(ki.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(ki.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(Ut.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=yr.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||yr.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=_f[0],i=_f[1],s=_f[2],o=_f[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),l=Math.min(n.y,i.y,s.y,o.y),u=Math.max(n.x,i.x,s.x,o.x),d=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=l,r.width=u-a,r.height=d-l}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:l,d:u}=s;if((Math.abs(a)>1e-4||Math.abs(l)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(u)>1e-4))return}s=s?Ay.copyFrom(s):Ay.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}kk.extension={type:We.RendererSystem,name:"filter"};Je.add(kk);class x5{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=yr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const E5=new ht;class Ok{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new D_(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new ht,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;qe.PREFER_ENV===pl.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,l=o/r.width;this.setViewport(r.x*l,r.y*l,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=u_.COLOR|u_.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new x5(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],l=a.parentTextureArray||a;this.renderer.texture.bind(l,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let l=0;l<o;l++){const u=s[l],d=u.parentTextureArray||u;this.renderer.texture.bind(d,0),l===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+l,u.target,d._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+l))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const l=e.depthTexture;this.renderer.texture.bind(l,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,l._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let l,u;this.renderer.context.webGLVersion===1?(l=n.DEPTH_STENCIL_ATTACHMENT,u=n.DEPTH_STENCIL):e.depth&&e.stencil?(l=n.DEPTH_STENCIL_ATTACHMENT,u=n.DEPTH24_STENCIL8):e.depth?(l=n.DEPTH_ATTACHMENT,u=n.DEPTH_COMPONENT24):(l=n.STENCIL_ATTACHMENT,u=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,u,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,u,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,l,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=yr.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=yr.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const l=i.glFramebuffers[a];if(!l)return;if(!e){if(!l.msaaBuffer)return;const d=i.colorTextures[0];if(!d)return;l.blitFramebuffer||(l.blitFramebuffer=new D_(i.width,i.height),l.blitFramebuffer.addColorTexture(0,d)),e=l.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=E5,r.width=i.width,r.height=i.height),n||(n=r);const u=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,u?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,l;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,l=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,l=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,l=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,l,n,i):s.renderbufferStorage(s.RENDERBUFFER,l,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new ht}destroy(){this.renderer=null}}Ok.extension={type:We.RendererSystem,name:"framebuffer"};Je.add(Ok);const Cy={5126:4,5123:2,5121:1};class Mk{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;qe.PREFER_ENV===pl.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,l)=>n.drawElementsInstancedANGLE(i,s,o,a,l),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const l=this.getSignature(e,a),u=e.glVertexArrayObjects[this.CONTEXT_UID];let d=u[l];if(d)return u[a.id]=d,d;const f=e.buffers,p=e.attributes,m={},g={};for(const v in f)m[v]=0,g[v]=0;for(const v in p)!p[v].size&&a.attributeData[v]?p[v].size=a.attributeData[v].size:p[v].size||console.warn(`PIXI Geometry attribute '${v}' size cannot be determined (likely the bound shader does not have the attribute)`),m[p[v].buffer]+=p[v].size*Cy[p[v].type];for(const v in p){const C=p[v],S=C.size;C.stride===void 0&&(m[C.buffer]===S*Cy[C.type]?C.stride=0:C.stride=m[C.buffer]),C.start===void 0&&(C.start=g[C.buffer],g[C.buffer]+=S*Cy[C.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(let v=0;v<f.length;v++){const C=f[v];o.bind(C),n&&C._glBuffers[s].refCount++}return this.activateVao(e,a),u[a.id]=d,u[l]=d,i.bindVertexArray(null),o.unbind(gs.ARRAY_BUFFER),d}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let l=0;l<s.length;l++){const u=s[l]._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&o.dispose(s[l],r))}if(!r){for(const l in n)if(l[0]==="g"){const u=n[l];this._activeVao===u&&this.unbind(),i.deleteVertexArray(u)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let l=null;for(const u in a){const d=a[u],f=o[d.buffer],p=f._glBuffers[i];if(r.attributeData[u]){l!==p&&(s.bind(f),l=p);const m=r.attributeData[u].location;if(n.enableVertexAttribArray(m),n.vertexAttribPointer(m,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(m,d.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,l=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,l,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,l,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}Mk.extension={type:We.RendererSystem,name:"geometry"};Je.add(Mk);const LA=new Ut;class Bw{constructor(e,r){this._texture=e,this.mapCoord=new Ut,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(LA.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(LA));const o=r.baseTexture,a=this.uClampFrame,l=this.clampMargin/o.resolution,u=this.clampOffset;return a[0]=(r._frame.x+l+u)/o.width,a[1]=(r._frame.y+l+u)/o.height,a[2]=(r._frame.x+r._frame.width-l+u)/o.width,a[3]=(r._frame.y+r._frame.height-l+u)/o.height,this.uClampOffset[0]=u/o.realWidth,this.uClampOffset[1]=u/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var S5=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,T5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class A5 extends fn{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||T5,r||S5,n),this.maskSprite=i,this.maskMatrix=new Ut}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Bw(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class C5{constructor(e=null){this.type=xr.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=fn.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=xr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class Bk{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new C5;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==xr.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case xr.SCISSOR:this.renderer.scissor.push(n);break;case xr.STENCIL:this.renderer.stencil.push(n);break;case xr.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case xr.COLOR:this.pushColorMask(n);break}n.type===xr.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case xr.SCISSOR:this.renderer.scissor.pop(r);break;case xr.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case xr.SPRITE:this.popSpriteMask(r);break;case xr.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===xr.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=xr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=xr.SCISSOR:e.type=xr.STENCIL:e.type=xr.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new A5])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}Bk.extension={type:We.RendererSystem,name:"mask"};Je.add(Bk);class Nk{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const FA=new Ut,UA=[],Dk=class op extends Nk{constructor(e){super(e),this.glConst=qe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,UA.pop()??new ht);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||op.isMatrixRotated(r.worldTransform)||op.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){op.isMatrixRotated(s)||(s=s?FA.copyFrom(s):FA.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&UA.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};Dk.extension={type:We.RendererSystem,name:"scissor"};let I5=Dk;Je.add(I5);class Lk extends Nk{constructor(e){super(e),this.glConst=qe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}Lk.extension={type:We.RendererSystem,name:"stencil"};Je.add(Lk);class Fk{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return pt("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return pt("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return pt("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}Fk.extension={type:[We.RendererSystem,We.CanvasRendererSystem],name:"_plugin"};Je.add(Fk);class Uk{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ut,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}Uk.extension={type:We.RendererSystem,name:"projection"};Je.add(Uk);const P5=new Hm,jA=new ht;class jk{constructor(e){this.renderer=e,this._tempMatrix=new Ut}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(jA))||e.getLocalBounds(jA,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=ml.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const l=e.transform;return e.transform=P5,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,a}destroy(){}}jk.extension={type:[We.RendererSystem,We.CanvasRendererSystem],name:"textureGenerator"};Je.add(jk);const Aa=new ht,Ah=new ht;class $k{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new ht,this.destinationFrame=new ht,this.viewportFrame=new ht}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(Aa.width=e.frame.width,Aa.height=e.frame.height,r=Aa),n||(Ah.x=e.frame.x,Ah.y=e.frame.y,Ah.width=r.width,Ah.height=r.height,n=Ah),o=s.framebuffer):(a=i.resolution,r||(Aa.width=i._view.screen.width,Aa.height=i._view.screen.height,r=Aa),n||(n=Aa,n.width=r.width,n.height=r.height));const l=this.viewportFrame;l.x=n.x*a,l.y=n.y*a,l.width=n.width*a,l.height=n.height*a,e||(l.y=i.view.height-(l.y+l.height)),l.ceil(),this.renderer.framebuffer.bind(o,l),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Bt.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:l,y:u,width:d,height:f}=this.viewportFrame;l=Math.round(l),u=Math.round(u),d=Math.round(d),f=Math.round(f),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(l,u,d,f)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}$k.extension={type:We.RendererSystem,name:"renderTexture"};Je.add($k);class R5{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function k5(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=Tk(e,s.type),a={type:o,name:s.name,size:Sk(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function O5(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=Tk(e,s.type);r[o]={name:o,index:i,type:l,size:s.size,isArray:a,value:xk(l,s.size)}}return r}function M5(t,e){var a;const r=kA(t,t.VERTEX_SHADER,e.vertexSrc),n=kA(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||l5(t,i,r,n),e.attributeData=k5(i,t),e.uniformData=O5(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const l=Object.keys(e.attributeData);l.sort((u,d)=>u>d?1:-1);for(let u=0;u<l.length;u++)e.attributeData[l[u]].location=u,t.bindAttribLocation(i,u,l[u]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const l in e.uniformData){const u=e.uniformData[l];o[l]={location:t.getUniformLocation(i,l),value:xk(u.type,u.size)}}return new R5(i,o)}function B5(t,e,r,n,i){r.buffer.update(i)}const N5={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},zk={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function D5(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=zk[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function L5(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function F5(t,e){if(!t.autoManage)return{size:0,syncFunc:B5};const r=L5(t.uniforms,e),{uboElements:n,size:i}=D5(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],l=t.uniforms[a.data.name],u=a.data.name;let d=!1;for(let f=0;f<bu.length;f++){const p=bu[f];if(p.codeUbo&&p.test(a.data,l)){s.push(`offset = ${a.offset/4};`,bu[f].codeUbo(a.data.name,l)),d=!0;break}}if(!d)if(a.data.size>1){const f=Sk(a.data.type),p=Math.max(zk[a.data.type]/16,1),m=f/p,g=(4-m%4)%4;s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*p}; i++)
                {
                    for(var j = 0; j < ${m}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${g};
                }

                `)}else{const f=N5[a.data.type];s.push(`
                cv = ud.${u}.value;
                v = uv.${u};
                offset = ${a.offset/4};
                ${f};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let U5=0;const bf={textureCount:0,uboCount:0};class Hk{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=U5++}systemCheck(){if(!h5())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(bf.textureCount=0,bf.uboCount=0,this.syncUniformGroup(e.uniformGroup,bf)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=s5(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,bf,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=F5(e,this.shader.program.uniformData)),e.autoManage){const l=new Float32Array(a.size/4);e.buffer.update(l)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=M5(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}Hk.extension={type:We.RendererSystem,name:"shader"};Je.add(Hk);class em{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.0 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}em.defaultOptions={hello:!1},em.extension={type:[We.RendererSystem,We.CanvasRendererSystem],name:"startup"};Je.add(em);function j5(t,e=[]){return e[ot.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.ADD]=[t.ONE,t.ONE],e[ot.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.NONE]=[0,0],e[ot.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ot.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ot.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ot.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ot.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ot.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ot.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ot.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ot.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ot.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ot.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const $5=0,z5=1,H5=2,G5=3,W5=4,V5=5,Gk=class L_{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ot.NONE,this._blendEq=!1,this.map=[],this.map[$5]=this.setBlend,this.map[z5]=this.setOffset,this.map[H5]=this.setCullFace,this.map[G5]=this.setDepthTest,this.map[W5]=this.setFrontFace,this.map[V5]=this.setDepthMask,this.checks=[],this.defaultState=new ws,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=j5(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(L_.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(L_.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};Gk.extension={type:We.RendererSystem,name:"state"};let X5=Gk;Je.add(X5);class q5 extends Uc{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Ni(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Uh=class ap{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=ap.defaultMaxIdle,this.checkCountMax=ap.defaultCheckCountMax,this.mode=ap.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Sw.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};Uh.defaultMode=Sw.AUTO,Uh.defaultMaxIdle=60*60,Uh.defaultCheckCountMax=60*10,Uh.extension={type:We.RendererSystem,name:"textureGC"};let La=Uh;Je.add(La);class Iy{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=rt.UNSIGNED_BYTE,this.internalFormat=$e.RGBA,this.samplerType=0}}function Y5(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:Xe.FLOAT,[t.RGBA]:Xe.FLOAT,[t.ALPHA]:Xe.FLOAT,[t.LUMINANCE]:Xe.FLOAT,[t.LUMINANCE_ALPHA]:Xe.FLOAT,[t.R8]:Xe.FLOAT,[t.R8_SNORM]:Xe.FLOAT,[t.RG8]:Xe.FLOAT,[t.RG8_SNORM]:Xe.FLOAT,[t.RGB8]:Xe.FLOAT,[t.RGB8_SNORM]:Xe.FLOAT,[t.RGB565]:Xe.FLOAT,[t.RGBA4]:Xe.FLOAT,[t.RGB5_A1]:Xe.FLOAT,[t.RGBA8]:Xe.FLOAT,[t.RGBA8_SNORM]:Xe.FLOAT,[t.RGB10_A2]:Xe.FLOAT,[t.RGB10_A2UI]:Xe.FLOAT,[t.SRGB8]:Xe.FLOAT,[t.SRGB8_ALPHA8]:Xe.FLOAT,[t.R16F]:Xe.FLOAT,[t.RG16F]:Xe.FLOAT,[t.RGB16F]:Xe.FLOAT,[t.RGBA16F]:Xe.FLOAT,[t.R32F]:Xe.FLOAT,[t.RG32F]:Xe.FLOAT,[t.RGB32F]:Xe.FLOAT,[t.RGBA32F]:Xe.FLOAT,[t.R11F_G11F_B10F]:Xe.FLOAT,[t.RGB9_E5]:Xe.FLOAT,[t.R8I]:Xe.INT,[t.R8UI]:Xe.UINT,[t.R16I]:Xe.INT,[t.R16UI]:Xe.UINT,[t.R32I]:Xe.INT,[t.R32UI]:Xe.UINT,[t.RG8I]:Xe.INT,[t.RG8UI]:Xe.UINT,[t.RG16I]:Xe.INT,[t.RG16UI]:Xe.UINT,[t.RG32I]:Xe.INT,[t.RG32UI]:Xe.UINT,[t.RGB8I]:Xe.INT,[t.RGB8UI]:Xe.UINT,[t.RGB16I]:Xe.INT,[t.RGB16UI]:Xe.UINT,[t.RGB32I]:Xe.INT,[t.RGB32UI]:Xe.UINT,[t.RGBA8I]:Xe.INT,[t.RGBA8UI]:Xe.UINT,[t.RGBA16I]:Xe.INT,[t.RGBA16UI]:Xe.UINT,[t.RGBA32I]:Xe.INT,[t.RGBA32UI]:Xe.UINT,[t.DEPTH_COMPONENT16]:Xe.FLOAT,[t.DEPTH_COMPONENT24]:Xe.FLOAT,[t.DEPTH_COMPONENT32F]:Xe.FLOAT,[t.DEPTH_STENCIL]:Xe.FLOAT,[t.DEPTH24_STENCIL8]:Xe.FLOAT,[t.DEPTH32F_STENCIL8]:Xe.FLOAT}:e={[t.RGB]:Xe.FLOAT,[t.RGBA]:Xe.FLOAT,[t.ALPHA]:Xe.FLOAT,[t.LUMINANCE]:Xe.FLOAT,[t.LUMINANCE_ALPHA]:Xe.FLOAT,[t.DEPTH_STENCIL]:Xe.FLOAT},e}function K5(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[rt.UNSIGNED_BYTE]:{[$e.RGBA]:t.RGBA8,[$e.RGB]:t.RGB8,[$e.RG]:t.RG8,[$e.RED]:t.R8,[$e.RGBA_INTEGER]:t.RGBA8UI,[$e.RGB_INTEGER]:t.RGB8UI,[$e.RG_INTEGER]:t.RG8UI,[$e.RED_INTEGER]:t.R8UI,[$e.ALPHA]:t.ALPHA,[$e.LUMINANCE]:t.LUMINANCE,[$e.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[rt.BYTE]:{[$e.RGBA]:t.RGBA8_SNORM,[$e.RGB]:t.RGB8_SNORM,[$e.RG]:t.RG8_SNORM,[$e.RED]:t.R8_SNORM,[$e.RGBA_INTEGER]:t.RGBA8I,[$e.RGB_INTEGER]:t.RGB8I,[$e.RG_INTEGER]:t.RG8I,[$e.RED_INTEGER]:t.R8I},[rt.UNSIGNED_SHORT]:{[$e.RGBA_INTEGER]:t.RGBA16UI,[$e.RGB_INTEGER]:t.RGB16UI,[$e.RG_INTEGER]:t.RG16UI,[$e.RED_INTEGER]:t.R16UI,[$e.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[rt.SHORT]:{[$e.RGBA_INTEGER]:t.RGBA16I,[$e.RGB_INTEGER]:t.RGB16I,[$e.RG_INTEGER]:t.RG16I,[$e.RED_INTEGER]:t.R16I},[rt.UNSIGNED_INT]:{[$e.RGBA_INTEGER]:t.RGBA32UI,[$e.RGB_INTEGER]:t.RGB32UI,[$e.RG_INTEGER]:t.RG32UI,[$e.RED_INTEGER]:t.R32UI,[$e.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[rt.INT]:{[$e.RGBA_INTEGER]:t.RGBA32I,[$e.RGB_INTEGER]:t.RGB32I,[$e.RG_INTEGER]:t.RG32I,[$e.RED_INTEGER]:t.R32I},[rt.FLOAT]:{[$e.RGBA]:t.RGBA32F,[$e.RGB]:t.RGB32F,[$e.RG]:t.RG32F,[$e.RED]:t.R32F,[$e.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[rt.HALF_FLOAT]:{[$e.RGBA]:t.RGBA16F,[$e.RGB]:t.RGB16F,[$e.RG]:t.RG16F,[$e.RED]:t.R16F},[rt.UNSIGNED_SHORT_5_6_5]:{[$e.RGB]:t.RGB565},[rt.UNSIGNED_SHORT_4_4_4_4]:{[$e.RGBA]:t.RGBA4},[rt.UNSIGNED_SHORT_5_5_5_1]:{[$e.RGBA]:t.RGB5_A1},[rt.UNSIGNED_INT_2_10_10_10_REV]:{[$e.RGBA]:t.RGB10_A2,[$e.RGBA_INTEGER]:t.RGB10_A2UI},[rt.UNSIGNED_INT_10F_11F_11F_REV]:{[$e.RGB]:t.R11F_G11F_B10F},[rt.UNSIGNED_INT_5_9_9_9_REV]:{[$e.RGB]:t.RGB9_E5},[rt.UNSIGNED_INT_24_8]:{[$e.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[rt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[$e.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[rt.UNSIGNED_BYTE]:{[$e.RGBA]:t.RGBA,[$e.RGB]:t.RGB,[$e.ALPHA]:t.ALPHA,[$e.LUMINANCE]:t.LUMINANCE,[$e.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[rt.UNSIGNED_SHORT_5_6_5]:{[$e.RGB]:t.RGB},[rt.UNSIGNED_SHORT_4_4_4_4]:{[$e.RGBA]:t.RGBA},[rt.UNSIGNED_SHORT_5_5_5_1]:{[$e.RGBA]:t.RGBA}},e}class Wk{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new ut,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=K5(e),this.samplerTypes=Y5(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Iy(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Iy(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==Xe.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new Iy(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??Xe.FLOAT,this.webGLVersion===2&&e.type===rt.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==Xe.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&_u(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===vs.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=qs.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==vs.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Gs.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Gs.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Gs.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Gs.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}Wk.extension={type:We.RendererSystem,name:"texture"};Je.add(Wk);class Vk{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const l=a._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,l.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}Vk.extension={type:We.RendererSystem,name:"transformFeedback"};Je.add(Vk);class tm{constructor(e){this.renderer=e}init(e){this.screen=new ht(0,0,e.width,e.height),this.element=e.view||qe.ADAPTER.createCanvas(),this.resolution=e.resolution||qe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}tm.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},tm.extension={type:[We.RendererSystem,We.CanvasRendererSystem],name:"_view"};Je.add(tm);qe.PREFER_ENV=pl.WEBGL2;qe.STRICT_TEXTURE_CACHE=!1;qe.RENDER_OPTIONS={...Jp.defaultOptions,...Zp.defaultOptions,...tm.defaultOptions,...em.defaultOptions};Object.defineProperties(qe,{WRAP_MODE:{get(){return ut.defaultOptions.wrapMode},set(t){pt("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),ut.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return ut.defaultOptions.scaleMode},set(t){pt("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),ut.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return ut.defaultOptions.mipmap},set(t){pt("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),ut.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return ut.defaultOptions.anisotropicLevel},set(t){pt("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),ut.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return pt("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),fn.defaultResolution},set(t){fn.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return pt("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),fn.defaultMultisample},set(t){fn.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Da.defaultMaxTextures},set(t){pt("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Da.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Da.defaultBatchSize},set(t){pt("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Da.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Da.canUploadSameBuffer},set(t){pt("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Da.canUploadSameBuffer=t}},GC_MODE:{get(){return La.defaultMode},set(t){pt("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),La.defaultMode=t}},GC_MAX_IDLE:{get(){return La.defaultMaxIdle},set(t){pt("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),La.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return La.defaultCheckCountMax},set(t){pt("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),La.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Vs.defaultVertexPrecision},set(t){pt("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Vs.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Vs.defaultFragmentPrecision},set(t){pt("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Vs.defaultFragmentPrecision=t}}});var ra=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(ra||{});class Py{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Xk=class Ln{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Py(null,null,1/0),this.deltaMS=1/Ln.targetFPMS,this.elapsedMS=1/Ln.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=ra.NORMAL){return this._addListener(new Py(e,r,n))}addOnce(e,r,n=ra.NORMAL){return this._addListener(new Py(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*Ln.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,Ln.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Ln._shared){const e=Ln._shared=new Ln;e.autoStart=!0,e._protected=!0}return Ln._shared}static get system(){if(!Ln._system){const e=Ln._system=new Ln;e.autoStart=!0,e._protected=!0}return Ln._system}};Xk.targetFPMS=.06;let Lr=Xk;Object.defineProperties(qe,{TARGET_FPMS:{get(){return Lr.targetFPMS},set(t){pt("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Lr.targetFPMS=t}}});class qk{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,ra.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Lr.shared:new Lr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}qk.extension=We.Application;Je.add(qk);const Yk=[];Je.handleByList(We.Renderer,Yk);function Q5(t){for(const e of Yk)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var Z5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,J5=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const e6=Z5,Kk=J5;class Qk{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=yr.HIGH?this.multisample=yr.HIGH:r>=yr.MEDIUM?this.multisample=yr.MEDIUM:r>=yr.LOW?this.multisample=yr.LOW:this.multisample=yr.NONE}destroy(){}}Qk.extension={type:We.RendererSystem,name:"_multisample"};Je.add(Qk);class t6{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class Zk{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new t6(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}Zk.extension={type:We.RendererSystem,name:"buffer"};Je.add(Zk);class Jk{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const l=e.enableTempParent();e.updateTransform(),e.disableTempParent(l)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}Jk.extension={type:We.RendererSystem,name:"objectRenderer"};Je.add(Jk);const lp=class F_ extends q5{constructor(e){super(),this.type=$2.WEBGL,e=Object.assign({},qe.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Di({projectionMatrix:new Ut},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:F_.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(pt("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=F_.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:S4()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return pt("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return pt("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return pt("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return pt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){pt("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return pt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){pt("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return pt("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};lp.extension={type:We.Renderer,priority:1},lp.__plugins={},lp.__systems={};let Nw=lp;Je.handleByMap(We.RendererPlugin,Nw.__plugins);Je.handleByMap(We.RendererSystem,Nw.__systems);Je.add(Nw);class eO extends Cc{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new ut;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Cc?this.addResourceAt(e[n],n):this.addResourceAt(vk(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class r6 extends eO{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=gu.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let l=0;l<i;l++){const u=o[l];s[l]<u.dirtyId&&(s[l]=u.dirtyId,u.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,u.resource.width,u.resource.height,1,r.format,n.type,u.resource.source))}return!0}}class n6 extends so{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const tO=class jh extends eO{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==jh.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<jh.SIDES;a++)this.items[a].target=gu.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=gu.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=gu.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<jh.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===jh.SIDES}};tO.SIDES=6;let i6=tO;class lu extends so{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=lu.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await qe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Tn.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return lu._EMPTY=lu._EMPTY??qe.ADAPTER.createCanvas(0,0),lu._EMPTY}}const U_=class up extends so{constructor(e,r){r=r||{},super(qe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},up.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;so.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${al()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=up.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&up.SVG_XML.test(e)}};U_.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,U_.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let j_=U_;class s6 extends so{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const $_=class z_ extends so{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];so.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:l}=e[s];if(a=a||e[s],a.startsWith("data:"))l=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const u=a.split("?").shift().toLowerCase(),d=u.slice(u.lastIndexOf(".")+1);l=l||z_.MIME_TYPES[d]||`video/${d}`}o.src=a,l&&(o.type=l),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=Lr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Lr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Lr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Lr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||z_.TYPES.includes(r)}};$_.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],$_.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let rO=$_;I_.push(lu,Ik,n6,rO,s6,j_,Um,i6,r6);class rm{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?ht.EMPTY:(e=e||new ht(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:l}=e,u=n*r.x+s*r.y+a,d=i*r.x+o*r.y+l;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,l=e.c,u=e.d,d=e.tx,f=e.ty;let p=this.minX,m=this.minY,g=this.maxX,v=this.maxY,C=o*r+l*n+d,S=a*r+u*n+f;p=C<p?C:p,m=S<m?S:m,g=C>g?C:g,v=S>v?S:v,C=o*i+l*n+d,S=a*i+u*n+f,p=C<p?C:p,m=S<m?S:m,g=C>g?C:g,v=S>v?S:v,C=o*r+l*s+d,S=a*r+u*s+f,p=C<p?C:p,m=S<m?S:m,g=C>g?C:g,v=S>v?S:v,C=o*i+l*s+d,S=a*i+u*s+f,p=C<p?C:p,m=S<m?S:m,g=C>g?C:g,v=S>v?S:v,this.minX=p,this.minY=m,this.maxX=g,this.maxY=v}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let l=r;l<n;l+=2){const u=e[l],d=e[l+1];i=u<i?u:i,s=d<s?d:s,o=u>o?u:o,a=d>a?d:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,l=e.b,u=e.c,d=e.d,f=e.tx,p=e.ty;let m=this.minX,g=this.minY,v=this.maxX,C=this.maxY;for(let S=n;S<i;S+=2){const x=r[S],b=r[S+1],I=a*x+u*b+f,O=d*b+l*x+p;m=Math.min(m,I-s),v=Math.max(v,I+s),g=Math.min(g,O-o),C=Math.max(C,O+o)}this.minX=m,this.minY=g,this.maxX=v,this.maxY=C}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>d?o:d}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,l=this.minY,u=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<l?i:l,this.maxX=s>u?s:u,this.maxY=o>d?o:d}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Yt extends Uc{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Hm,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new rm,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Yt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new ht),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new ht),e=this._localBoundsRect),this._localBounds||(this._localBounds=new rm);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,l=0,u=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=l,this.pivot.y=u,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new o6),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Z4}set angle(e){this.transform.rotation=e*J4}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class o6 extends Yt{constructor(){super(...arguments),this.sortDirty=null}}Yt.prototype.displayObjectUpdateTransform=Yt.prototype.updateTransform;const a6=new Ut;function l6(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const nO=class H_ extends Yt{constructor(){super(),this.children=[],this.sortableChildren=H_.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);_u(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,_u(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,_u(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(l6),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==H_.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=a6.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const l=this.children[o],u=l.cullable;l.cullable=u||!this.cullArea,l.render(e),l.cullable=u}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,a;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let l=0;l<r.length;l++)r[l].enabled&&this._enabledFilters.push(r[l])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==xr.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let l=0,u=this.children.length;l<u;++l)this.children[l].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((a=this._enabledFilters)!=null&&a.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};nO.defaultSortableChildren=!1;let mn=nO;mn.prototype.containerUpdateTransform=mn.prototype.updateTransform;Object.defineProperties(qe,{SORTABLE_CHILDREN:{get(){return mn.defaultSortableChildren},set(t){pt("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),mn.defaultSortableChildren=t}}});var Wm=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Wm||{});const Ch=new gt,u6=new Uint16Array([0,1,2,0,2,3]);class xs extends mn{constructor(e){super(),this._anchor=new cs(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Bt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ot.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ze.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=u6,this.pluginName="batch",this.isSprite=!0,this._roundPixels=qe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=zo(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=zo(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,u=this.vertexData,d=e.trim,f=e.orig,p=this._anchor;let m=0,g=0,v=0,C=0;if(d?(g=d.x-p._x*f.width,m=g+d.width,C=d.y-p._y*f.height,v=C+d.height):(g=-p._x*f.width,m=g+f.width,C=-p._y*f.height,v=C+f.height),u[0]=n*g+s*C+a,u[1]=o*C+i*g+l,u[2]=n*m+s*C+a,u[3]=o*C+i*m+l,u[4]=n*m+s*v+a,u[5]=o*v+i*m+l,u[6]=n*g+s*v+a,u[7]=o*v+i*g+l,this._roundPixels){const S=qe.RESOLUTION;for(let x=0;x<u.length;++x)u[x]=Math.round(u[x]*S)/S}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,l=s.c,u=s.d,d=s.tx,f=s.ty,p=-i._x*n.width,m=p+n.width,g=-i._y*n.height,v=g+n.height;if(r[0]=o*p+l*g+d,r[1]=u*g+a*p+f,r[2]=o*m+l*g+d,r[3]=u*g+a*m+f,r[4]=o*m+l*v+d,r[5]=u*v+a*m+f,r[6]=o*p+l*v+d,r[7]=u*v+a*p+f,this._roundPixels){const C=qe.RESOLUTION;for(let S=0;S<r.length;++S)r[S]=Math.round(r[S]*C)/C}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new rm),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ht),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Ch);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Ch.x>=i&&Ch.x<i+r&&(s=-n*this.anchor.y,Ch.y>=s&&Ch.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof ze?e:ze.from(e,r);return new xs(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=zo(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=zo(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ze.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const wf={willReadFrequently:!0},ts=class tt{static get experimentalLetterSpacingSupported(){let e=tt._experimentalLetterSpacingSupported;if(e!==void 0){const r=qe.ADAPTER.getCanvasRenderingContext2D().prototype;e=tt._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,l,u){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=u}static measureText(e,r,n,i=tt._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=tt.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",wf);a.font=s;const l=(n?tt.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),u=new Array(l.length);let d=0;for(let g=0;g<l.length;g++){const v=tt._measureText(l[g],r.letterSpacing,a);u[g]=v,d=Math.max(d,v)}let f=d+r.strokeThickness;r.dropShadow&&(f+=r.dropShadowDistance);const p=r.lineHeight||o.fontSize+r.strokeThickness;let m=Math.max(p,o.fontSize+r.strokeThickness*2)+r.leading+(l.length-1)*(p+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new tt(e,r,f,m,l,u,p+r.leading,d,o)}static _measureText(e,r,n){let i=!1;tt.experimentalLetterSpacingSupported&&(tt.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(tt.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=tt._canvas){const i=n.getContext("2d",wf);let s=0,o="",a="";const l=Object.create(null),{letterSpacing:u,whiteSpace:d}=r,f=tt.collapseSpaces(d),p=tt.collapseNewlines(d);let m=!f;const g=r.wordWrapWidth+u,v=tt.tokenize(e);for(let C=0;C<v.length;C++){let S=v[C];if(tt.isNewline(S)){if(!p){a+=tt.addLine(o),m=!f,o="",s=0;continue}S=" "}if(f){const b=tt.isBreakingSpace(S),I=tt.isBreakingSpace(o[o.length-1]);if(b&&I)continue}const x=tt.getFromCache(S,u,l,i);if(x>g)if(o!==""&&(a+=tt.addLine(o),o="",s=0),tt.canBreakWords(S,r.breakWords)){const b=tt.wordWrapSplit(S);for(let I=0;I<b.length;I++){let O=b[I],k=O,R=1;for(;b[I+R];){const $=b[I+R];if(!tt.canBreakChars(k,$,S,I,r.breakWords))O+=$;else break;k=$,R++}I+=R-1;const M=tt.getFromCache(O,u,l,i);M+s>g&&(a+=tt.addLine(o),m=!1,o="",s=0),o+=O,s+=M}}else{o.length>0&&(a+=tt.addLine(o),o="",s=0);const b=C===v.length-1;a+=tt.addLine(S,!b),m=!1,o="",s=0}else x+s>g&&(m=!1,a+=tt.addLine(o),o="",s=0),(o.length>0||!tt.isBreakingSpace(S)||m)&&(o+=S,s+=x)}return a+=tt.addLine(o,!1),a}static addLine(e,r=!0){return e=tt.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=tt._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!tt.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:tt._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:tt._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(tt.isBreakingSpace(s,o)||tt.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return tt.graphemeSegmenter(e)}static measureFont(e){if(tt._fonts[e])return tt._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=tt._canvas,i=tt._context;i.font=e;const s=tt.METRICS_STRING+tt.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(tt.BASELINE_SYMBOL).width);const l=Math.ceil(tt.HEIGHT_MULTIPLIER*a);if(a=a*tt.BASELINE_MULTIPLIER|0,o===0||l===0)return tt._fonts[e]=r,r;n.width=o,n.height=l,i.fillStyle="#f00",i.fillRect(0,0,o,l),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const u=i.getImageData(0,0,o,l).data,d=u.length,f=o*4;let p=0,m=0,g=!1;for(p=0;p<a;++p){for(let v=0;v<f;v+=4)if(u[m+v]!==255){g=!0;break}if(!g)m+=f;else break}for(r.ascent=a-p,m=d-f,g=!1,p=l;p>a;--p){for(let v=0;v<f;v+=4)if(u[m+v]!==255){g=!0;break}if(!g)m-=f;else break}return r.descent=p-a,r.fontSize=r.ascent+r.descent,tt._fonts[e]=r,r}static clearMetrics(e=""){e?delete tt._fonts[e]:tt._fonts={}}static get _canvas(){var e;if(!tt.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",wf))!=null&&e.measureText)return tt.__canvas=n,n;r=qe.ADAPTER.createCanvas()}catch{r=qe.ADAPTER.createCanvas()}r.width=r.height=10,tt.__canvas=r}return tt.__canvas}static get _context(){return tt.__context||(tt.__context=tt._canvas.getContext("2d",wf)),tt.__context}};ts.METRICS_STRING="|ÉqÅ",ts.BASELINE_SYMBOL="M",ts.BASELINE_MULTIPLIER=1.4,ts.HEIGHT_MULTIPLIER=2,ts.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),ts.experimentalLetterSpacing=!1,ts._fonts={},ts._newlines=[10,13],ts._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let No=ts;const h6=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],iO=class $h{constructor(e){this.styleID=0,this.reset(),ky(this,e,e)}clone(){const e={};return ky(e,this,$h.defaultStyle),new $h(e)}reset(){ky(this,$h.defaultStyle,$h.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=Ry(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=Ry(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){c6(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=Ry(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!h6.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};iO.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Wm.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let na=iO;function Ry(t){const e=Bt.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function c6(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function ky(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const d6={texture:!0,children:!1,baseTexture:!0},sO=class G_ extends xs{constructor(e,r,n){let i=!1;n||(n=qe.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=ze.from(n);s.orig=new ht,s.trim=new ht,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=G_.defaultResolution??qe.RESOLUTION,this._autoResolution=G_.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return No.experimentalLetterSpacing}static set experimentalLetterSpacing(e){pt("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),No.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=No.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,l=i.lineHeight,u=i.lineWidths,d=i.maxLineWidth,f=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let p,m;const g=r.dropShadow?2:1;for(let v=0;v<g;++v){const C=r.dropShadow&&v===0,S=C?Math.ceil(Math.max(1,o)+r.padding*2):0,x=S*this._resolution;if(C){n.fillStyle="black",n.strokeStyle="black";const I=r.dropShadowColor,O=r.dropShadowBlur*this._resolution,k=r.dropShadowDistance*this._resolution;n.shadowColor=Bt.shared.setValue(I).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=O,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*k,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*k+x}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let b=(l-f.fontSize)/2;l-f.fontSize<0&&(b=0);for(let I=0;I<a.length;I++)p=r.strokeThickness/2,m=r.strokeThickness/2+I*l+f.ascent+b,r.align==="right"?p+=d-u[I]:r.align==="center"&&(p+=(d-u[I])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[I],p+r.padding,m+r.padding-S,!0),r.fill&&this.drawLetterSpacing(a[I],p+r.padding,m+r.padding-S)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(No.experimentalLetterSpacingSupported&&(No.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const l=No.graphemeSegmenter(e);let u=this.context.measureText(e).width,d=0;for(let f=0;f<l.length;++f){const p=l[f];i?this.context.strokeText(p,a,n):this.context.fillText(p,a,n);let m="";for(let g=f+1;g<l.length;++g)m+=l[g];d=this.context.measureText(m).width,a+=u-d+s,u=d}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=$4(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,l=this.canvas.width/this._resolution-o-a*2,u=this.canvas.height/this._resolution-o-a*2,d=i.slice(),f=e.fillGradientStops.slice();if(!f.length){const p=d.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(d.unshift(i[0]),f.unshift(0),d.push(i[i.length-1]),f.push(1),e.fillGradientType===Wm.LINEAR_VERTICAL){s=this.context.createLinearGradient(l/2,a,l/2,u+a);const p=n.fontProperties.fontSize+e.strokeThickness;for(let m=0;m<r.length;m++){const g=n.lineHeight*(m-1)+p,v=n.lineHeight*m;let C=v;m>0&&g>v&&(C=(v+g)/2);const S=v+p,x=n.lineHeight*(m+1);let b=S;m+1<r.length&&x<S&&(b=(S+x)/2);const I=(b-C)/u;for(let O=0;O<d.length;O++){let k=0;typeof f[O]=="number"?k=f[O]:k=O/d.length;let R=Math.min(1,Math.max(0,C/u+k*I));R=Number(R.toFixed(5)),s.addColorStop(R,d[O])}}}else{s=this.context.createLinearGradient(a,u/2,l+a,u/2);const p=d.length+1;let m=1;for(let g=0;g<d.length;g++){let v;typeof f[g]=="number"?v=f[g]:v=m/p,s.addColorStop(v,d[g]),m++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},d6,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=zo(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=zo(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof na?this._style=e:this._style=new na(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};sO.defaultAutoResolution=!0;let Dw=sO;class nm{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class hp{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),l={};for(const u in a){const d=a[u].split("="),f=d[0],p=d[1].replace(/"/gm,""),m=parseFloat(p),g=isNaN(m)?p:m;l[f]=g}n[o].push(l)}const i=new nm;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class W_{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new nm,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),l=e.getElementsByTagName("distanceField");for(let u=0;u<n.length;u++)r.info.push({face:n[u].getAttribute("face"),size:parseInt(n[u].getAttribute("size"),10)});for(let u=0;u<i.length;u++)r.common.push({lineHeight:parseInt(i[u].getAttribute("lineHeight"),10)});for(let u=0;u<s.length;u++)r.page.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});for(let u=0;u<o.length;u++){const d=o[u];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(let u=0;u<a.length;u++)r.kerning.push({first:parseInt(a[u].getAttribute("first"),10),second:parseInt(a[u].getAttribute("second"),10),amount:parseInt(a[u].getAttribute("amount"),10)});for(let u=0;u<l.length;u++)r.distanceField.push({fieldType:l[u].getAttribute("fieldType"),distanceRange:parseInt(l[u].getAttribute("distanceRange"),10)});return r}}class V_{static test(e){return typeof e=="string"&&e.includes("<font>")?W_.test(qe.ADAPTER.parseXML(e)):!1}static parse(e){return W_.parse(qe.ADAPTER.parseXML(e))}}const Oy=[hp,W_,V_];function f6(t){for(let e=0;e<Oy.length;e++)if(Oy[e].test(t))return Oy[e];return null}function p6(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const l=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,d=t.width/n-l-u*2,f=t.height/n-l-u*2,p=o.slice(),m=r.fillGradientStops.slice();if(!m.length){const g=p.length+1;for(let v=1;v<g;++v)m.push(v/g)}if(p.unshift(o[0]),m.unshift(0),p.push(o[o.length-1]),m.push(1),r.fillGradientType===Wm.LINEAR_VERTICAL){a=e.createLinearGradient(d/2,u,d/2,f+u);let g=0;const v=(s.fontProperties.fontSize+r.strokeThickness)/f;for(let C=0;C<i.length;C++){const S=s.lineHeight*C;for(let x=0;x<p.length;x++){let b=0;typeof m[x]=="number"?b=m[x]:b=x/p.length;const I=S/f+b*v;let O=Math.max(g,I);O=Math.min(O,1),a.addColorStop(O,p[x]),g=O}}}else{a=e.createLinearGradient(u,f/2,d+u,f/2);const g=p.length+1;let v=1;for(let C=0;C<p.length;C++){let S;typeof m[C]=="number"?S=m[C]:S=v/g,a.addColorStop(S,p[C]),v++}}return a}function m6(t,e,r,n,i,s,o){const a=r.text,l=r.fontProperties;e.translate(n,i),e.scale(s,s);const u=o.strokeThickness/2,d=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=p6(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const f=o.dropShadowColor,p=o.dropShadowBlur*s,m=o.dropShadowDistance*s;e.shadowColor=Bt.shared.setValue(f).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*m,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*m}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,u,d+r.lineHeight-l.descent),o.fill&&e.fillText(a,u,d+r.lineHeight-l.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function cp(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function oO(t){return Array.from?Array.from(t):t.split("")}function g6(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...oO(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Ro=class rs{constructor(e,r,n){var d;const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,l=io(o.file),u={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/l,this.chars={},this.pageTextures=u;for(let f=0;f<e.page.length;f++){const{id:p,file:m}=e.page[f];u[p]=r instanceof Array?r[f]:r[m],a!=null&&a.fieldType&&a.fieldType!=="none"&&(u[p].baseTexture.alphaMode=Tn.NO_PREMULTIPLIED_ALPHA,u[p].baseTexture.mipmap=vs.OFF)}for(let f=0;f<e.char.length;f++){const{id:p,page:m}=e.char[f];let{x:g,y:v,width:C,height:S,xoffset:x,yoffset:b,xadvance:I}=e.char[f];g/=l,v/=l,C/=l,S/=l,x/=l,b/=l,I/=l;const O=new ht(g+u[m].frame.x/l,v+u[m].frame.y/l,C,S);this.chars[p]={xOffset:x,yOffset:b,xAdvance:I,kerning:{},texture:new ze(u[m].baseTexture,O),page:m}}for(let f=0;f<e.kerning.length;f++){let{first:p,second:m,amount:g}=e.kerning[f];p/=l,m/=l,g/=l,this.chars[m]&&(this.chars[m].kerning[p]=g)}this.distanceFieldRange=a==null?void 0:a.distanceRange,this.distanceFieldType=((d=a==null?void 0:a.fieldType)==null?void 0:d.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof nm)i=e;else{const o=f6(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof ze&&(r=[r]);const s=new rs(i,r,n);return rs.available[s.font]=s,s}static uninstall(e){const r=rs.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete rs.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:l,...u}=Object.assign({},rs.defaultOptions,n),d=g6(i),f=r instanceof na?r:new na(r),p=a,m=new nm;m.info[0]={face:f.fontFamily,size:f.fontSize},m.common[0]={lineHeight:f.fontSize};let g=0,v=0,C,S,x,b=0;const I=[];for(let k=0;k<d.length;k++){C||(C=qe.ADAPTER.createCanvas(),C.width=a,C.height=l,S=C.getContext("2d"),x=new ut(C,{resolution:o,...u}),I.push(new ze(x)),m.page.push({id:I.length-1,file:""}));const R=d[k],M=No.measureText(R,f,!1,C),$=M.width,Y=Math.ceil(M.height),se=Math.ceil((f.fontStyle==="italic"?2:1)*$);if(v>=l-Y*o){if(v===0)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${R}')`);--k,C=null,S=null,x=null,v=0,g=0,b=0;continue}if(b=Math.max(Y+M.fontProperties.descent,b),se*o+g>=p){if(g===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${R}')`);--k,v+=b*o,v=Math.ceil(v),g=0,b=0;continue}m6(C,S,M,g,v,o,f);const B=cp(M.text);m.char.push({id:B,page:I.length-1,x:g/o,y:v/o,width:se,height:Y,xoffset:0,yoffset:0,xadvance:$-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),g+=(se+2*s)*o,g=Math.ceil(g)}if(!(n!=null&&n.skipKerning))for(let k=0,R=d.length;k<R;k++){const M=d[k];for(let $=0;$<R;$++){const Y=d[$],se=S.measureText(M).width,B=S.measureText(Y).width,F=S.measureText(M+Y).width-(se+B);F&&m.kerning.push({first:cp(M),second:cp(Y),amount:F})}}const O=new rs(m,I,!0);return rs.available[e]!==void 0&&rs.uninstall(e),rs.available[e]=O,O}};Ro.ALPHA=[["a","z"],["A","Z"]," "],Ro.NUMERIC=[["0","9"]],Ro.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Ro.ASCII=[[" ","~"]],Ro.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Ro.ALPHANUMERIC},Ro.available={};let ko=Ro;class y6{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const My=new gt,$A=new Ja,aO=class lO extends mn{constructor(e,r,n,i=ki.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||ws.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=qe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===ki.TRIANGLES&&r.length<lO.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,l=i.d,u=i.tx,d=i.ty,f=this.vertexData;for(let p=0;p<f.length/2;p++){const m=r[p*2],g=r[p*2+1];f[p*2]=s*m+a*g+u,f[p*2+1]=o*m+l*g+d}if(this._roundPixels){const p=qe.RESOLUTION;for(let m=0;m<f.length;++m)f[m]=Math.round(f[m]*p)/p}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new y6(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,My);const r=this.geometry.getBuffer("aVertexPosition").data,n=$A.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const l=i[a]*2,u=i[a+1]*2,d=i[a+2]*2;if(n[0]=r[l],n[1]=r[l+1],n[2]=r[u],n[3]=r[u+1],n[4]=r[d],n[5]=r[d+1],$A.contains(My.x,My.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};aO.BATCHABLE_SIZE=100;let Ic=aO;class Vm extends ta{constructor(e,r,n){super();const i=new Sr(e),s=new Sr(r,!0),o=new Sr(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,rt.FLOAT).addAttribute("aTextureCoord",s,2,!1,rt.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var v6=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,_6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Pc extends ys{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Ut.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Vs.from(_6,v6),n),this._colorDirty=!1,this.uvMatrix=new Bw(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Bt(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Bt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var b6=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,w6=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const zA=[],HA=[],GA=[],uO=class hO extends mn{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:l}=Object.assign({},hO.styleDefaults,r);if(!ko.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new Bt(i),this._font=void 0,this._fontName=a,this._fontSize=l,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new cs(()=>{this.dirty=!0},this,0,0),this._roundPixels=qe.ROUND_PIXELS,this.dirty=!0,this._resolution=qe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var se;const e=ko.available[this._fontName],r=this.fontSize,n=r/e.size,i=new gt,s=[],o=[],a=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=oO(l),d=this._maxWidth*e.size/r,f=e.distanceFieldType==="none"?zA:HA;let p=null,m=0,g=0,v=0,C=-1,S=0,x=0,b=0,I=0;for(let B=0;B<u.length;B++){const F=u[B],K=cp(F);if(/(?:\s)/.test(F)&&(C=B,S=m,I++),F==="\r"||F===`
`){o.push(m),a.push(-1),g=Math.max(g,m),++v,++x,i.x=0,i.y+=e.lineHeight,p=null,I=0;continue}const Z=e.chars[K];if(!Z)continue;p&&Z.kerning[p]&&(i.x+=Z.kerning[p]);const de=GA.pop()||{texture:ze.EMPTY,line:0,charCode:0,prevSpaces:0,position:new gt};de.texture=Z.texture,de.line=v,de.charCode=K,de.position.x=Math.round(i.x+Z.xOffset+this._letterSpacing/2),de.position.y=Math.round(i.y+Z.yOffset),de.prevSpaces=I,s.push(de),m=de.position.x+Math.max(Z.xAdvance-Z.xOffset,Z.texture.orig.width),i.x+=Z.xAdvance+this._letterSpacing,b=Math.max(b,Z.yOffset+Z.texture.height),p=K,C!==-1&&d>0&&i.x>d&&(++x,_u(s,1+C-x,1+B-C),B=C,C=-1,o.push(S),a.push(s.length>0?s[s.length-1].prevSpaces:0),g=Math.max(g,S),v++,i.x=0,i.y+=e.lineHeight,p=null,I=0)}const O=u[u.length-1];O!=="\r"&&O!==`
`&&(/(?:\s)/.test(O)&&(m=S),o.push(m),g=Math.max(g,m),a.push(-1));const k=[];for(let B=0;B<=v;B++){let F=0;this._align==="right"?F=g-o[B]:this._align==="center"?F=(g-o[B])/2:this._align==="justify"&&(F=a[B]<0?0:(g-o[B])/a[B]),k.push(F)}const R=s.length,M={},$=[],Y=this._activePagesMeshData;f.push(...Y);for(let B=0;B<R;B++){const F=s[B].texture,K=F.baseTexture.uid;if(!M[K]){let Z=f.pop();if(!Z){const oe=new Vm;let D,J;e.distanceFieldType==="none"?(D=new Pc(ze.EMPTY),J=ot.NORMAL):(D=new Pc(ze.EMPTY,{program:Vs.from(w6,b6),uniforms:{uFWidth:0}}),J=ot.NORMAL_NPM);const W=new Ic(oe,D);W.blendMode=J,Z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:W,vertices:null,uvs:null,indices:null}}Z.index=0,Z.indexCount=0,Z.vertexCount=0,Z.uvsCount=0,Z.total=0;const{_textureCache:de}=this;de[K]=de[K]||new ze(F.baseTexture),Z.mesh.texture=de[K],Z.mesh.tint=this._tintColor.value,$.push(Z),M[K]=Z}M[K].total++}for(let B=0;B<Y.length;B++)$.includes(Y[B])||this.removeChild(Y[B].mesh);for(let B=0;B<$.length;B++)$[B].mesh.parent!==this&&this.addChild($[B].mesh);this._activePagesMeshData=$;for(const B in M){const F=M[B],K=F.total;if(!(((se=F.indices)==null?void 0:se.length)>6*K)||F.vertices.length<Ic.BATCHABLE_SIZE*2)F.vertices=new Float32Array(4*2*K),F.uvs=new Float32Array(4*2*K),F.indices=new Uint16Array(6*K);else{const Z=F.total,de=F.vertices;for(let oe=Z*4*2;oe<de.length;oe++)de[oe]=0}F.mesh.size=6*K}for(let B=0;B<R;B++){const F=s[B];let K=F.position.x+k[F.line]*(this._align==="justify"?F.prevSpaces:1);this._roundPixels&&(K=Math.round(K));const Z=K*n,de=F.position.y*n,oe=F.texture,D=M[oe.baseTexture.uid],J=oe.frame,W=oe._uvs,te=D.index++;D.indices[te*6+0]=0+te*4,D.indices[te*6+1]=1+te*4,D.indices[te*6+2]=2+te*4,D.indices[te*6+3]=0+te*4,D.indices[te*6+4]=2+te*4,D.indices[te*6+5]=3+te*4,D.vertices[te*8+0]=Z,D.vertices[te*8+1]=de,D.vertices[te*8+2]=Z+J.width*n,D.vertices[te*8+3]=de,D.vertices[te*8+4]=Z+J.width*n,D.vertices[te*8+5]=de+J.height*n,D.vertices[te*8+6]=Z,D.vertices[te*8+7]=de+J.height*n,D.uvs[te*8+0]=W.x0,D.uvs[te*8+1]=W.y0,D.uvs[te*8+2]=W.x1,D.uvs[te*8+3]=W.y1,D.uvs[te*8+4]=W.x2,D.uvs[te*8+5]=W.y2,D.uvs[te*8+6]=W.x3,D.uvs[te*8+7]=W.y3}this._textWidth=g*n,this._textHeight=(i.y+e.lineHeight)*n;for(const B in M){const F=M[B];if(this.anchor.x!==0||this.anchor.y!==0){let oe=0;const D=this._textWidth*this.anchor.x,J=this._textHeight*this.anchor.y;for(let W=0;W<F.total;W++)F.vertices[oe++]-=D,F.vertices[oe++]-=J,F.vertices[oe++]-=D,F.vertices[oe++]-=J,F.vertices[oe++]-=D,F.vertices[oe++]-=J,F.vertices[oe++]-=D,F.vertices[oe++]-=J}this._maxLineHeight=b*n;const K=F.mesh.geometry.getBuffer("aVertexPosition"),Z=F.mesh.geometry.getBuffer("aTextureCoord"),de=F.mesh.geometry.getIndex();K.data=F.vertices,Z.data=F.uvs,de.data=F.indices,K.update(),Z.update(),de.update()}for(let B=0;B<s.length;B++)GA.push(s[B]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=ko.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:l}=this.worldTransform,u=Math.sqrt(s*s+o*o),d=Math.sqrt(a*a+l*l),f=(Math.abs(u)+Math.abs(d))/2,p=this.fontSize/i,m=e._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=f*r*p*m}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=ko.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!ko.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??ko.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=ko.available[this._fontName].distanceFieldType==="none"?zA:HA;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ze.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};uO.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let x6=uO;const WA={loader:We.LoadParser,resolver:We.ResolveParser,cache:We.CacheParser,detection:We.DetectionParser};Je.handle(We.Asset,t=>{const e=t.ref;Object.entries(WA).filter(([r])=>!!e[r]).forEach(([r,n])=>Je.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(WA).filter(r=>!!e[r]).forEach(r=>Je.remove(e[r]))});class E6{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Gu(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function ua(t,e){const r=t.split("?")[0],n=Ar.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Ri=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),X_=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function cO(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?cO(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function S6(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),cO(t,i,0,r,n)}else n.push(t);return n}const im=t=>!Array.isArray(t);class T6{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Ri(e);let i;for(let a=0;a<this.parsers.length;a++){const l=this.parsers[a];if(l.test(r)){i=l.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof ze){const a=r;n.forEach(l=>{a.baseTexture!==ze.EMPTY.baseTexture&&ut.addToCache(a.baseTexture,l),ze.addToCache(a,l)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const ja=new T6;class A6{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.load&&((o=u.test)!=null&&o.call(u,e,r,this))){s=u;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];u.parse&&u.parse&&await((a=u.testParse)==null?void 0:a.call(u,i,r,this))&&(i=await u.parse(i,r,this)||i,n.parser=u)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=im(e),o=Ri(e,u=>({alias:[u],src:u})),a=o.length,l=o.map(async u=>{const d=Ar.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[d]||(this.promiseCache[d]=this._getLoadPromiseAndParser(d,u)),i[u.src]=await this.promiseCache[d].promise,r&&r(++n/a)}catch(f){throw delete this.promiseCache[d],delete i[u.src],new Error(`[Loader.load] Failed to load ${d}.
${f}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const r=Ri(e,n=>({alias:[n],src:n})).map(async n=>{var o,a;const i=Ar.toAbsolute(n.src),s=this.promiseCache[i];if(s){const l=await s.promise;delete this.promiseCache[i],(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,l,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Fi=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Fi||{});const C6=".json",I6="application/json",P6={extension:{type:We.LoadParser,priority:Fi.Low},name:"loadJson",test(t){return Gu(t,I6)||ua(t,C6)},async load(t){return await(await qe.ADAPTER.fetch(t)).json()}};Je.add(P6);const R6=".txt",k6="text/plain",O6={name:"loadTxt",extension:{type:We.LoadParser,priority:Fi.Low},test(t){return Gu(t,k6)||ua(t,R6)},async load(t){return await(await qe.ADAPTER.fetch(t)).text()}};Je.add(O6);const M6=["normal","bold","100","200","300","400","500","600","700","800","900"],B6=[".ttf",".otf",".woff",".woff2"],N6=["font/ttf","font/otf","font/woff","font/woff2"],D6=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function L6(t){const e=Ar.extname(t),r=Ar.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(D6)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const F6=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function U6(t){return F6.test(t)?t:encodeURI(t)}const j6={extension:{type:We.LoadParser,priority:Fi.Low},name:"loadWebFont",test(t){return Gu(t,N6)||ua(t,B6)},async load(t,e){var n,i,s;const r=qe.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??L6(t),l=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(d=>M6.includes(d)))??["normal"],u=e.data??{};for(let d=0;d<l.length;d++){const f=l[d],p=new FontFace(a,`url(${U6(t)})`,{...u,weight:f});await p.load(),r.add(p),o.push(p)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>qe.ADAPTER.getFontFaceSet().delete(e))}};Je.add(j6);const $6=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let wu=null,q_=class extends Worker{constructor(){wu||(wu=URL.createObjectURL(new Blob([$6],{type:"application/javascript"}))),super(wu)}};q_.revokeObjectURL=function(){wu&&(URL.revokeObjectURL(wu),wu=null)};const z6=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let xu=null;class dO extends Worker{constructor(){xu||(xu=URL.createObjectURL(new Blob([z6],{type:"application/javascript"}))),super(xu)}}dO.revokeObjectURL=function(){xu&&(URL.revokeObjectURL(xu),xu=null)};let VA=0,By;class H6{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=new q_;r.addEventListener("message",n=>{r.terminate(),q_.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){By===void 0&&(By=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<By&&(this._createdWorkers++,e=new dO,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[VA]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:VA++,id:n})}}const XA=new H6;function zc(t,e,r){t.resource.internal=!0;const n=new ze(t),i=()=>{delete e.promiseCache[r],ja.has(r)&&ja.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const G6=[".jpeg",".jpg",".png",".webp",".avif"],W6=["image/jpeg","image/png","image/webp","image/avif"];async function V6(t){const e=await qe.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Xm={name:"loadTextures",extension:{type:We.LoadParser,priority:Fi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Gu(t,W6)||ua(t,G6)},async load(t,e,r){var a;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await XA.isImageBitmapSupported()?i=await XA.loadImageBitmap(t):i=await V6(t):i=await new Promise((l,u)=>{const d=new Image;d.crossOrigin=this.config.crossOrigin,d.src=t,d.complete?l(d):(d.onload=()=>l(d),d.onerror=f=>u(f))});const s={...e.data};s.resolution??(s.resolution=io(t)),n&&((a=s.resourceOptions)==null?void 0:a.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new ut(i,s);return o.resource.src=t,zc(o,r,t)},unload(t){t.destroy(!0)}};Je.add(Xm);const X6=".svg",q6="image/svg+xml",Y6={extension:{type:We.LoadParser,priority:Fi.High},name:"loadSVG",test(t){return Gu(t,q6)||ua(t,X6)},async testParse(t){return j_.test(t)},async parse(t,e,r){var s;const n=new j_(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new ut(n,{resolution:io(t),...e==null?void 0:e.data});return i.resource.src=e.src,zc(i,r,e.src)},async load(t,e){return(await qe.ADAPTER.fetch(t)).text()},unload:Xm.unload};Je.add(Y6);const K6=[".mp4",".m4v",".webm",".ogv"],Q6=["video/mp4","video/webm","video/ogg"],Z6={name:"loadVideo",extension:{type:We.LoadParser,priority:Fi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return Gu(t,Q6)||ua(t,K6)},async load(t,e,r){var o;let n;const i=await(await qe.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const a={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions,autoLoad:!0},l=new rO(s,a);await l.load();const u=new ut(l,{alphaMode:await E4(),resolution:io(t),...e==null?void 0:e.data});u.resource.src=t,n=zc(u,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return n},unload(t){t.destroy(!0)}};Je.add(Z6);class J6{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return Ri(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>(a==null?void 0:a.src)??(a==null?void 0:a.srcs)??a):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const l=this._createBundleAssetId(e,o);n.push(l),a=[o,l]}else{const l=o.map(u=>this._createBundleAssetId(e,u));n.push(...l),a=[...o,...l]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(pt("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=l=>{this.hasKey(l)&&console.warn(`[Resolver] already has key: ${l} overwriting`)},Ri(o).forEach(l=>{const{src:u,srcs:d}=l;let{data:f,format:p,loadParser:m}=l;const g=Ri(u||d).map(S=>typeof S=="string"?S6(S):Array.isArray(S)?S:[S]),v=this.getAlias(l);Array.isArray(v)?v.forEach(a):a(v);const C=[];g.forEach(S=>{S.forEach(x=>{let b={};if(typeof x!="object"){b.src=x;for(let I=0;I<this._parsers.length;I++){const O=this._parsers[I];if(O.test(x)){b=O.parse(x);break}}}else f=x.data??f,p=x.format??p,m=x.loadParser??m,b={...b,...x};if(!v)throw new Error(`[Resolver] alias is undefined for this asset: ${b.src}`);b=this.buildResolvedAsset(b,{aliases:v,data:f,format:p,loadParser:m}),C.push(b)})}),v.forEach(S=>{this._assetMap[S]=C})})}resolveBundle(e){const r=im(e);e=Ri(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=im(e);e=Ri(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a==null||a.priority.forEach(l=>{a.params[l].forEach(u=>{const d=s.filter(f=>f[l]?f[l]===u:!1);d.length&&(s=d)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Ar.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??Ar.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class e8{constructor(){this._detections=[],this._initialized=!1,this.resolver=new J6,this.loader=new A6,this.cache=ja,this._backgroundLoader=new E6(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let a=e.manifest;typeof a=="string"&&(a=await this.load(a)),this.resolver.addManifest(a)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=im(e),i=Ri(e).map(a=>{if(typeof a!="string"){const l=this.resolver.getAlias(a);return l.some(u=>!this.resolver.hasKey(u))&&this.add(a),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{r==null||r(++a/l)},d=o.map(f=>{const p=i[f];return l+=Object.keys(p).length,this._mapLoadToResolve(p,u).then(m=>{s[f]=m})});return await Promise.all(d),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return ja.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=ja.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,l)=>{const u=s[a.src],d=[a.src];a.alias&&d.push(...a.alias),o[i[l]]=u,ja.set(d,u)}),o}async unload(e){this._initialized||await this.init();const r=Ri(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Ri(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{ja.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return Xm.config.preferWorkers}set preferWorkers(e){pt("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const xf=new e8;Je.handleByList(We.LoadParser,xf.loader.parsers).handleByList(We.ResolveParser,xf.resolver.parsers).handleByList(We.CacheParser,xf.cache.parsers).handleByList(We.DetectionParser,xf.detections);const t8={extension:We.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ze),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};Je.add(t8);async function fO(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const r8={extension:{type:We.DetectionParser,priority:1},test:async()=>fO("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Je.add(r8);const n8={extension:{type:We.DetectionParser,priority:0},test:async()=>fO("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Je.add(n8);const qA=["png","jpg","jpeg"],i8={extension:{type:We.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...qA],remove:async t=>t.filter(e=>!qA.includes(e))};Je.add(i8);const s8="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Lw(t){return s8?!1:document.createElement("video").canPlayType(t)!==""}const o8={extension:{type:We.DetectionParser,priority:0},test:async()=>Lw("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};Je.add(o8);const a8={extension:{type:We.DetectionParser,priority:0},test:async()=>Lw("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};Je.add(a8);const l8={extension:{type:We.DetectionParser,priority:0},test:async()=>Lw("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};Je.add(l8);const u8={extension:We.ResolveParser,test:Xm.test,parse:t=>{var e;return{resolution:parseFloat(((e=qe.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Ar.extname(t).slice(1),src:t}}};Je.add(u8);const h8=[".xml",".fnt"],c8={extension:{type:We.LoadParser,priority:Fi.Normal},name:"loadBitmapFont",test(t){return h8.includes(Ar.extname(t).toLowerCase())},async testParse(t){return hp.test(t)||V_.test(t)},async parse(t,e,r){const n=hp.test(t)?hp.parse(t):V_.parse(t),{src:i}=e,{page:s}=n,o=[];for(let u=0;u<s.length;++u){const d=s[u].file;let f=Ar.join(Ar.dirname(i),d);f=X_(f,i),o.push(f)}const a=await r.load(o),l=o.map(u=>a[u]);return ko.install(n,l,!0)},async load(t,e){return(await qe.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Je.add(c8);const sm={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===Gr.CIRC){const g=t.shape;r=g.x,n=g.y,o=a=g.radius,i=s=0}else if(t.type===Gr.ELIP){const g=t.shape;r=g.x,n=g.y,o=g.width,a=g.height,i=s=0}else{const g=t.shape,v=g.width/2,C=g.height/2;r=g.x+v,n=g.y+C,o=a=Math.max(0,Math.min(g.radius,Math.min(v,C))),i=v-o,s=C-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(e.length=u,u===0)return;if(l===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let d=0,f=l*4+(i?2:0)+2,p=f,m=u;{const g=i+o,v=s,C=r+g,S=r-g,x=n+v;if(e[d++]=C,e[d++]=x,e[--f]=x,e[--f]=S,s){const b=n-v;e[p++]=S,e[p++]=b,e[--m]=b,e[--m]=C}}for(let g=1;g<l;g++){const v=Math.PI/2*(g/l),C=i+Math.cos(v)*o,S=s+Math.sin(v)*a,x=r+C,b=r-C,I=n+S,O=n-S;e[d++]=x,e[d++]=I,e[--f]=I,e[--f]=b,e[p++]=b,e[p++]=O,e[--m]=O,e[--m]=x}{const g=i,v=s+a,C=r+g,S=r-g,x=n+v,b=n-v;e[d++]=C,e[d++]=x,e[--m]=b,e[--m]=C,i&&(e[d++]=S,e[d++]=x,e[--m]=b,e[--m]=S)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,l;if(t.type!==Gr.RREC){const d=t.shape;a=d.x,l=d.y}else{const d=t.shape;a=d.x+d.width/2,l=d.y+d.height/2}const u=t.matrix;n.push(t.matrix?u.a*a+u.c*l+u.tx:a,t.matrix?u.b*a+u.d*l+u.ty:l),s++,n.push(r[0],r[1]);for(let d=2;d<r.length;d+=2)n.push(r[d],r[d+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function YA(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],l=t[i+1];n+=(a-s)*(l+o),s=a,o=l}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,l=s,u=s+1;[t[o],t[l]]=[t[l],t[o]],[t[a],t[u]]=[t[u],t[a]]}}}const pO={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){YA(r,!1);const o=[];for(let u=0;u<n.length;u++){const d=n[u];YA(d.points,!0),o.push(r.length/2),r=r.concat(d.points)}const a=GL(r,o,2);if(!a)return;const l=i.length/2;for(let u=0;u<a.length;u+=3)s.push(a[u]+l),s.push(a[u+1]+l),s.push(a[u+2]+l);for(let u=0;u<r.length;u++)i.push(r[u])}}},d8={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},f8={build(t){sm.build(t)},triangulate(t,e){sm.triangulate(t,e)}};var ri=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(ri||{}),Ho=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Ho||{});const Nu={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class KA{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],l=o[o.length-1]-r,u=a-e,d=i-r,f=n-e,p=Math.abs(l*f-u*d);if(p<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const m=l*l+u*u,g=d*d+f*f,v=l*d+u*f,C=s*Math.sqrt(m)/p,S=s*Math.sqrt(g)/p,x=C*v/m,b=S*v/g,I=C*f+S*u,O=C*d+S*l,k=u*(S+x),R=l*(S+x),M=f*(C+b),$=d*(C+b),Y=Math.atan2(R-O,k-I),se=Math.atan2($-O,M-I);return{cx:I+e,cy:O+r,radius:s,startAngle:Y,endAngle:se,anticlockwise:u*d>f*l}}static arc(e,r,n,i,s,o,a,l,u){const d=a-o,f=Nu._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/Qp)*40),p=d/(f*2),m=p*2,g=Math.cos(p),v=Math.sin(p),C=f-1,S=C%1/C;for(let x=0;x<=C;++x){const b=x+S*x,I=p+o+m*b,O=Math.cos(I),k=-Math.sin(I);u.push((g*O+v*k)*s+n,(g*-k+v*O)*s+i)}}}class p8{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Fw{static curveLength(e,r,n,i,s,o,a,l){let u=0,d=0,f=0,p=0,m=0,g=0,v=0,C=0,S=0,x=0,b=0,I=e,O=r;for(let k=1;k<=10;++k)d=k/10,f=d*d,p=f*d,m=1-d,g=m*m,v=g*m,C=v*e+3*g*d*n+3*m*f*s+p*a,S=v*r+3*g*d*i+3*m*f*o+p*l,x=I-C,b=O-S,I=C,O=S,u+=Math.sqrt(x*x+b*b);return u}static curveTo(e,r,n,i,s,o,a){const l=a[a.length-2],u=a[a.length-1];a.length-=2;const d=Nu._segmentsCount(Fw.curveLength(l,u,e,r,n,i,s,o));let f=0,p=0,m=0,g=0,v=0;a.push(l,u);for(let C=1,S=0;C<=d;++C)S=C/d,f=1-S,p=f*f,m=p*f,g=S*S,v=g*S,a.push(m*l+3*p*S*e+3*f*g*n+v*s,m*u+3*p*S*r+3*f*g*i+v*o)}}function QA(t,e,r,n,i,s,o,a){const l=t-r*i,u=e-n*i,d=t+r*s,f=e+n*s;let p,m;o?(p=n,m=-r):(p=-n,m=r);const g=l+p,v=u+m,C=d+p,S=f+m;return a.push(g,v,C,S),2}function Ca(t,e,r,n,i,s,o,a){const l=r-t,u=n-e;let d=Math.atan2(l,u),f=Math.atan2(i-t,s-e);a&&d<f?d+=Math.PI*2:!a&&d>f&&(f+=Math.PI*2);let p=d;const m=f-d,g=Math.abs(m),v=Math.sqrt(l*l+u*u),C=(15*g*Math.sqrt(v)/Math.PI>>0)+1,S=m/C;if(p+=S,a){o.push(t,e,r,n);for(let x=1,b=p;x<C;x++,b+=S)o.push(t,e,t+Math.sin(b)*v,e+Math.cos(b)*v);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let x=1,b=p;x<C;x++,b+=S)o.push(t+Math.sin(b)*v,e+Math.cos(b)*v,t,e);o.push(i,s,t,e)}return C*2}function m8(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new gt(n[0],n[1]),a=new gt(n[n.length-2],n[n.length-1]),l=r.type!==Gr.POLY||r.closeStroke,u=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(l){n=n.slice(),u&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const oe=(o.x+a.x)*.5,D=(a.y+o.y)*.5;n.unshift(oe,D),n.push(oe,D)}const d=e.points,f=n.length/2;let p=n.length;const m=d.length/2,g=s.width/2,v=g*g,C=s.miterLimit*s.miterLimit;let S=n[0],x=n[1],b=n[2],I=n[3],O=0,k=0,R=-(x-I),M=S-b,$=0,Y=0,se=Math.sqrt(R*R+M*M);R/=se,M/=se,R*=g,M*=g;const B=s.alignment,F=(1-B)*2,K=B*2;l||(s.cap===Ho.ROUND?p+=Ca(S-R*(F-K)*.5,x-M*(F-K)*.5,S-R*F,x-M*F,S+R*K,x+M*K,d,!0)+2:s.cap===Ho.SQUARE&&(p+=QA(S,x,R,M,F,K,!0,d))),d.push(S-R*F,x-M*F,S+R*K,x+M*K);for(let oe=1;oe<f-1;++oe){S=n[(oe-1)*2],x=n[(oe-1)*2+1],b=n[oe*2],I=n[oe*2+1],O=n[(oe+1)*2],k=n[(oe+1)*2+1],R=-(x-I),M=S-b,se=Math.sqrt(R*R+M*M),R/=se,M/=se,R*=g,M*=g,$=-(I-k),Y=b-O,se=Math.sqrt($*$+Y*Y),$/=se,Y/=se,$*=g,Y*=g;const D=b-S,J=x-I,W=b-O,te=k-I,N=D*W+J*te,ie=J*W-te*D,pe=ie<0;if(Math.abs(ie)<.001*Math.abs(N)){d.push(b-R*F,I-M*F,b+R*K,I+M*K),N>=0&&(s.join===ri.ROUND?p+=Ca(b,I,b-R*F,I-M*F,b-$*F,I-Y*F,d,!1)+4:p+=2,d.push(b-$*K,I-Y*K,b+$*F,I+Y*F));continue}const Be=(-R+S)*(-M+I)-(-R+b)*(-M+x),ge=(-$+O)*(-Y+I)-(-$+b)*(-Y+k),H=(D*ge-W*Be)/ie,U=(te*Be-J*ge)/ie,le=(H-b)*(H-b)+(U-I)*(U-I),_e=b+(H-b)*F,ue=I+(U-I)*F,he=b-(H-b)*K,ye=I-(U-I)*K,Ee=Math.min(D*D+J*J,W*W+te*te),G=pe?F:K,ee=Ee+G*G*v,re=le<=ee;let xe=s.join;if(xe===ri.MITER&&le/v>C&&(xe=ri.BEVEL),re)switch(xe){case ri.MITER:{d.push(_e,ue,he,ye);break}case ri.BEVEL:{pe?d.push(_e,ue,b+R*K,I+M*K,_e,ue,b+$*K,I+Y*K):d.push(b-R*F,I-M*F,he,ye,b-$*F,I-Y*F,he,ye),p+=2;break}case ri.ROUND:{pe?(d.push(_e,ue,b+R*K,I+M*K),p+=Ca(b,I,b+R*K,I+M*K,b+$*K,I+Y*K,d,!0)+4,d.push(_e,ue,b+$*K,I+Y*K)):(d.push(b-R*F,I-M*F,he,ye),p+=Ca(b,I,b-R*F,I-M*F,b-$*F,I-Y*F,d,!1)+4,d.push(b-$*F,I-Y*F,he,ye));break}}else{switch(d.push(b-R*F,I-M*F,b+R*K,I+M*K),xe){case ri.MITER:{pe?d.push(he,ye,he,ye):d.push(_e,ue,_e,ue),p+=2;break}case ri.ROUND:{pe?p+=Ca(b,I,b+R*K,I+M*K,b+$*K,I+Y*K,d,!0)+2:p+=Ca(b,I,b-R*F,I-M*F,b-$*F,I-Y*F,d,!1)+2;break}}d.push(b-$*F,I-Y*F,b+$*K,I+Y*K),p+=2}}S=n[(f-2)*2],x=n[(f-2)*2+1],b=n[(f-1)*2],I=n[(f-1)*2+1],R=-(x-I),M=S-b,se=Math.sqrt(R*R+M*M),R/=se,M/=se,R*=g,M*=g,d.push(b-R*F,I-M*F,b+R*K,I+M*K),l||(s.cap===Ho.ROUND?p+=Ca(b-R*(F-K)*.5,I-M*(F-K)*.5,b-R*F,I-M*F,b+R*K,I+M*K,d,!1)+2:s.cap===Ho.SQUARE&&(p+=QA(b,I,R,M,F,K,!1,d)));const Z=e.indices,de=Nu.epsilon*Nu.epsilon;for(let oe=m;oe<p+m-2;++oe)S=d[oe*2],x=d[oe*2+1],b=d[(oe+1)*2],I=d[(oe+1)*2+1],O=d[(oe+2)*2],k=d[(oe+2)*2+1],!(Math.abs(S*(I-k)+b*(k-x)+O*(x-I))<de)&&Z.push(oe,oe+1,oe+2)}function g8(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Gr.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,l=i.length/2,u=o.length/2;let d=u;for(o.push(i[0],i[1]),r=1;r<l;r++)o.push(i[r*2],i[r*2+1]),a.push(d,d+1),d++;s&&a.push(d,u)}function ZA(t,e){t.lineStyle.native?g8(t,e):m8(t,e)}class Uw{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,l=r-2*i+o,u=2*n-2*e,d=2*i-2*r,f=4*(a*a+l*l),p=4*(a*u+l*d),m=u*u+d*d,g=2*Math.sqrt(f+p+m),v=Math.sqrt(f),C=2*f*v,S=2*Math.sqrt(m),x=p/v;return(C*g+v*p*(g-S)+(4*m*f-p*p)*Math.log((2*v+x+g)/(x+S)))/(4*C)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],l=Nu._segmentsCount(Uw.curveLength(o,a,e,r,n,i));let u=0,d=0;for(let f=1;f<=l;++f){const p=f/l;u=o+(e-o)*p,d=a+(r-a)*p,s.push(u+(e+(n-e)*p-u)*p,d+(r+(i-r)*p-d)*p)}}}const Ny={[Gr.POLY]:pO,[Gr.CIRC]:sm,[Gr.ELIP]:sm,[Gr.RECT]:d8,[Gr.RREC]:f8},JA=[],Ef=[];class om{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new om(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Fl=new gt,mO=class gO extends bk{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new rm,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Ef.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),JA.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new om(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new om(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,Fl):Fl.copyFrom(e),i.shape.contains(Fl.x,Fl.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(Fl.x,Fl.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let l=this.shapeIndex;l<r.length;l++){this.shapeIndex++;const u=r[l],d=u.fillStyle,f=u.lineStyle;Ny[u.type].build(u),u.matrix&&this.transformPoints(u.points,u.matrix),(d.visible||f.visible)&&this.processHoles(u.holes);for(let p=0;p<2;p++){const m=p===0?d:f;if(!m.visible)continue;const g=m.texture.baseTexture,v=this.indices.length,C=this.points.length/2;g.wrapMode=qs.REPEAT,p===0?this.processFill(u):this.processLine(u);const S=this.points.length/2-C;S!==0&&(n&&!this._compareStyles(i,m)&&(n.end(v,C),n=null),n||(n=JA.pop()||new p8,n.begin(m,v,C),this.batches.push(n),i=m),this.addUvs(this.points,e,m.texture,C,S,m.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<gO.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++ut._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),Ef.push(this.drawCalls[f]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=Ef.pop();i||(i=new R_,i.texArray=new B_),i.texArray.count=0,i.start=0,i.size=0,i.type=ki.TRIANGLES;let s=0,o=null,a=0,l=!1,u=ki.TRIANGLES,d=0;this.drawCalls.push(i);for(let f=0;f<this.batches.length;f++){const p=this.batches[f],m=8,g=p.style,v=g.texture.baseTexture;l!==!!g.native&&(l=!!g.native,u=l?ki.LINES:ki.TRIANGLES,o=null,s=m,e++),o!==v&&(o=v,v._batchEnabled!==e&&(s===m&&(e++,s=0,i.size>0&&(i=Ef.pop(),i||(i=new R_,i.texArray=new B_),this.drawCalls.push(i)),i.start=d,i.size=0,i.texArray.count=0,i.type=u),v.touched=1,v._batchEnabled=e,v._batchLocation=s,v.wrapMode=qs.REPEAT,i.texArray.elements[i.texArray.count++]=v,s++)),i.size+=p.size,d+=p.size,a=v._batchLocation,this.addColors(r,g.color,g.alpha,p.attribSize,p.attribStart),this.addTextureIds(n,a,p.attribSize,p.attribStart)}ut._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let l=0;for(let u=0;u<e.length/2;u++)o[l++]=e[u*2],o[l++]=e[u*2+1],o[l++]=r[u*2],o[l++]=r[u*2+1],a[l++]=n[u],o[l++]=i[u];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?pO.triangulate(e,this):Ny[e.type].triangulate(e,this)}processLine(e){ZA(e,this);for(let r=0;r<e.holes.length;r++)ZA(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];Ny[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=Bt.shared.setValue(r).toLittleEndianNumber(),a=Bt.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let l=0;l<i;l++)e[s+l]=a}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let a=0;const l=r.length,u=n.frame;for(;a<s;){let f=e[(i+a)*2],p=e[(i+a)*2+1];if(o){const m=o.a*f+o.c*p+o.tx;p=o.b*f+o.d*p+o.ty,f=m}a++,r.push(f/u.width,p/u.height)}const d=n.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(r,n,l,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,l=r.frame,u=l.width/s.width,d=l.height/s.height;let f=l.x/l.width,p=l.y/l.height,m=Math.floor(e[n]+o),g=Math.floor(e[n+1]+o);for(let v=n+2;v<a;v+=2)m=Math.min(m,Math.floor(e[v]+o)),g=Math.min(g,Math.floor(e[v+1]+o));f-=m,p-=g;for(let v=n;v<a;v+=2)e[v]=(e[v]+f)*u,e[v+1]=(e[v+1]+p)*d}};mO.BATCHABLE_SIZE=100;let y8=mO;class qm{constructor(){this.color=16777215,this.alpha=1,this.texture=ze.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new qm;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ze.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class jw extends qm{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ho.BUTT,this.join=ri.MITER,this.miterLimit=10}clone(){const e=new jw;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Ho.BUTT,this.join=ri.MITER,this.miterLimit=10}}const Dy={},Y_=class dp extends mn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new qm,this._lineStyle=new jw,this._matrix=null,this._holeMode=!1,this.state=ws.for2d(),this._geometry=e||new y8,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Bt(16777215),this.blendMode=ot.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new dp(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:ze.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ho.BUTT,join:ri.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Ja,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Ja,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),Uw.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),Fw.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,a=KA.curveTo(e,r,n,i,s,o);if(a){const{cx:l,cy:u,radius:d,startAngle:f,endAngle:p,anticlockwise:m}=a;this.arc(l,u,d,f,p,m)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=Qp:o&&i<=s&&(i+=Qp),s-i===0)return this;const a=e+Math.cos(i)*n,l=r+Math.sin(i)*n,u=this._geometry.closePointEps;let d=this.currentPath?this.currentPath.points:null;if(d){const f=Math.abs(d[d.length-2]-a),p=Math.abs(d[d.length-1]-l);f<u&&p<u||d.push(a,l)}else this.moveTo(a,l),d=this.currentPath.points;return KA.arc(a,l,e,r,n,i,s,o,d),this}beginFill(e=0,r){return this.beginTextureFill({texture:ze.WHITE,color:e,alpha:r})}normalizeColor(e){const r=Bt.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:ze.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new ht(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new zm(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new jm(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new $m(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new Ja(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Gr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),l=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),u=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),d={vertexData:a,blendMode:r,indices:u,uvs:l,_batchRGB:Bt.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=d}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,Bt.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let l=0;l<a;l++)e.texture.bind(n.elements[l],l);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!Dy[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let l=0;l<i;l++)s[l]=l;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ut,default:Di.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;Dy[n]=new ys(a,o)}r=Dy[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,dp._TEMP_POINT),this._geometry.containsPoint(dp._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=Bt.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,l=r.ty,u=this._geometry.points,d=this.vertexData;let f=0;for(let p=0;p<u.length;p+=2){const m=u[p],g=u[p+1];d[f++]=n*m+s*g+a,d[f++]=o*g+i*m+l}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};Y_.curves=Nu,Y_._TEMP_POINT=new gt;let oc=Y_;class v8 extends Vm{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,l=this.height/o;for(let d=0;d<e;d++){const f=d%this.segWidth,p=d/this.segWidth|0;r.push(f*a,p*l),n.push(f/s,p/o)}const u=s*o;for(let d=0;d<u;d++){const f=d%s,p=d/s|0,m=p*this.segWidth+f,g=p*this.segWidth+f+1,v=(p+1)*this.segWidth+f,C=(p+1)*this.segWidth+f+1;i.push(m,g,v,g,C,v)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class _8 extends Vm{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,l=e[0];const u=this._width*this.textureScale,d=e.length;for(let p=0;p<d;p++){const m=p*4;if(this.textureScale>0){const g=l.x-e[p].x,v=l.y-e[p].y,C=Math.sqrt(g*g+v*v);l=e[p],a+=C/u}else a=p/(d-1);s[m]=a,s[m+1]=0,s[m+2]=a,s[m+3]=1}let f=0;for(let p=0;p<d-1;p++){const m=p*2;o[f++]=m,o[f++]=m+1,o[f++]=m+2,o[f++]=m+2,o[f++]=m+1,o[f++]=m+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,l=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let u=0;u<a;u++){const d=e[u],f=u*4;u<e.length-1?n=e[u+1]:n=d,s=-(n.x-r.x),i=n.y-r.y;const p=Math.sqrt(i*i+s*s);p<1e-6?(i=0,s=0):(i/=p,s/=p,i*=l,s*=l),o[f]=d.x+i,o[f+1]=d.y+s,o[f+2]=d.x-i,o[f+3]=d.y-s,r=d}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class b8 extends Ic{constructor(e,r,n){const i=new v8(e.width,e.height,r,n),s=new Pc(ze.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Sf=10;class w8 extends b8{constructor(e,r,n,i,s){var o,a,l,u;super(ze.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??Sf,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??Sf,this._topHeight=n??((l=e.defaultBorders)==null?void 0:l.top)??Sf,this._bottomHeight=s??((u=e.defaultBorders)==null?void 0:u.bottom)??Sf,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class x8 extends Ic{constructor(e=ze.EMPTY,r,n,i,s){const o=new Vm(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new Pc(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class E8 extends Ic{constructor(e,r,n=0){const i=new _8(e.height,r,n),s=new Pc(e);n>0&&(e.baseTexture.wrapMode=qs.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class S8 extends mn{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ot.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Bt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class eC{constructor(e,r,n){this.geometry=new ta,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||rt.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Sr(L4(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Sr(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Sr(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===rt.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===rt.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===rt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===rt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var T8=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,A8=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class yO extends Gm{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ut,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:rt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ys.from(A8,T8,{}),this.state=ws.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const l=r[0]._texture.baseTexture,u=l.alphaMode>0;this.state.blendMode=gk(e.blendMode,u),s.state.set(this.state);const d=s.gl,f=e.worldTransform.copyTo(this.tempMatrix);f.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=f.toArray(!0),this.shader.uniforms.uColor=Bt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,u).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=l,this.renderer.shader.bind(this.shader);let p=!1;for(let m=0,g=0;m<o;m+=i,g+=1){let v=o-m;v>i&&(v=i),g>=a.length&&a.push(this._generateOneMoreBuffer(e));const C=a[g];C.uploadDynamic(r,m,v);const S=e._bufferUpdateIDs[g]||0;p=p||C._updateID<S,p&&(C._updateID=e._updateID,C.uploadStatic(r,m,v)),s.geometry.bind(C.geometry),d.drawElements(d.TRIANGLES,v*6,d.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new eC(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new eC(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,l=0,u=0,d=0;for(let f=0;f<n;++f){const p=e[r+f],m=p._texture,g=p.scale.x,v=p.scale.y,C=m.trim,S=m.orig;C?(l=C.x-p.anchor.x*S.width,a=l+C.width,d=C.y-p.anchor.y*S.height,u=d+C.height):(a=S.width*(1-p.anchor.x),l=S.width*-p.anchor.x,u=S.height*(1-p.anchor.y),d=S.height*-p.anchor.y),i[o]=l*g,i[o+1]=d*v,i[o+s]=a*g,i[o+s+1]=d*v,i[o+s*2]=a*g,i[o+s*2+1]=u*v,i[o+s*3]=l*g,i[o+s*3+1]=u*v,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].position;i[o]=l.x,i[o+1]=l.y,i[o+s]=l.x,i[o+s+1]=l.y,i[o+s*2]=l.x,i[o+s*2+1]=l.y,i[o+s*3]=l.x,i[o+s*3+1]=l.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const l=e[r+a].rotation;i[o]=l,i[o+s]=l,i[o+s*2]=l,i[o+s*3]=l,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a]._texture._uvs;l?(i[o]=l.x0,i[o+1]=l.y0,i[o+s]=l.x1,i[o+s+1]=l.y1,i[o+s*2]=l.x2,i[o+s*2+1]=l.y2,i[o+s*3]=l.x3,i[o+s*3+1]=l.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const l=e[r+a],u=Bt.shared.setValue(l._tintRGB).toPremultiplied(l.alpha,l.texture.baseTexture.alphaMode>0);i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}yO.extension={name:"particle",type:We.RendererPlugin};Je.add(yO);class Rc extends xs{constructor(e,r=!0){super(e[0]instanceof ze?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Lr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Lr.shared.add(this.update,this,ra.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(ze.from(e[n]));return new Rc(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(ze.from(e[n]));return new Rc(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ze)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Lr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Lr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Ih=new gt;class $w extends xs{constructor(e,r=100,n=100){super(e),this.tileTransform=new Hm,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Bw(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new ht),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Ih);const r=this._width,n=this._height,i=-r*this.anchor._x;if(Ih.x>=i&&Ih.x<i+r){const s=-n*this.anchor._y;if(Ih.y>=s&&Ih.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof ze?e:ze.from(e,r);return new $w(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var C8=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,I8=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,P8=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,tC=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,R8=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Tf=new Ut;class vO extends Gm{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new Rk,this.state=ws.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=ys.from(tC,R8,r),this.shader=e.context.webGLVersion>1?ys.from(I8,C8,r):ys.from(tC,P8,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,l=a.baseTexture,u=l.alphaMode>0,d=e.tileTransform.localTransform,f=e.uvMatrix;let p=l.isPowerOfTwo&&a.frame.width===l.width&&a.frame.height===l.height;p&&(l._glTextures[r.CONTEXT_UID]?p=l.wrapMode!==qs.CLAMP:l.wrapMode===qs.CLAMP&&(l.wrapMode=qs.REPEAT));const m=p?this.simpleShader:this.shader,g=a.width,v=a.height,C=e._width,S=e._height;Tf.set(d.a*g/C,d.b*g/S,d.c*v/C,d.d*v/S,d.tx/C,d.ty/S),Tf.invert(),p?Tf.prepend(f.mapCoord):(m.uniforms.uMapCoord=f.mapCoord.toArray(!0),m.uniforms.uClampFrame=f.uClampFrame,m.uniforms.uClampOffset=f.uClampOffset),m.uniforms.uTransform=Tf.toArray(!0),m.uniforms.uColor=Bt.shared.setValue(e.tint).premultiply(e.worldAlpha,u).toArray(m.uniforms.uColor),m.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),m.uniforms.uSampler=a,r.shader.bind(m),r.geometry.bind(n),this.state.blendMode=gk(e.blendMode,u),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}vO.extension={name:"tilingSprite",type:We.RendererPlugin};Je.add(vO);const _O=class K_{constructor(e){this.stage=new mn,e=Object.assign({forceCanvas:!1},e),this.renderer=Q5(e),K_._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=K_._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};_O._plugins=[];let Ym=_O;Je.handleByList(We.Application,Ym._plugins);class bO{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}bO.extension=We.Application;Je.add(bO);var wO={exports:{}},k8="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",O8=k8,M8=O8;function xO(){}function EO(){}EO.resetWarningCache=xO;var B8=function(){function t(n,i,s,o,a,l){if(l!==M8){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:EO,resetWarningCache:xO};return r.PropTypes=r,r};wO.exports=B8();var N8=wO.exports;const Et=fm(N8);function Hn(t){return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(t)}function SO(t){var e=function(r,n){if(Hn(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Hn(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Hn(e)==="symbol"?e:String(e)}function fr(t,e,r){return(e=SO(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ly(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oo(t){return function(e){if(Array.isArray(e))return Ly(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Ly(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ly(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function hr(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var D8=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var F8=function(t){return t==null};function zh(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=oo(t);else{if(t===null||Hn(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!F8(r)&&!isNaN(r)}).map(Number)}function rC(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Fy(t){return t instanceof gt||t instanceof cs}var am=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Uy(t,e,r){if(Fy(t[e])&&Fy(r))t[e].copyFrom(r);else if(Fy(t[e])){var n=zh(r);hr(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(r),Hn(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Ul,TO=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},AO=function(t){return function(){return!t.apply(void 0,arguments)}},Q_="children",U8=(fr(Ul={},Q_,!0),fr(Ul,"parent",!0),fr(Ul,"worldAlpha",!0),fr(Ul,"worldTransform",!0),fr(Ul,"worldVisible",!0),Ul),Z_={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},_s=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var l,u;a==null||(l=a.__reactpixi)===null||l===void 0||(u=l.root)===null||u===void 0||u.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,l){if(r.hasOwnProperty(a))return hr(l.typeofs.some(function(u){return Hn(r[a])===u})||l.instanceofs.some(function(u){return r[a]instanceof u}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return hr(r.texture instanceof ze,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ze]});hr(!!s,"".concat(t," could not get texture from props"));var o=ze.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},j8=AO(TO([].concat(oo(Object.keys(U8)),oo(am))));function bs(t,e,r){var n=!1;if(hr(Yt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Hn(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<am.length;o++){var a=am[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var l=Object.keys(r||{});if(r.overwriteProps){for(var u=0;u<l.length;u++){var d=l[u];e[d]!==r[d]&&(n=!0,Uy(t,d,r[d]))}return n}for(var f=l.filter(j8),p=0;p<f.length;p++){var m=f[p],g=r[m];r[m]!==e[m]&&(n=!0),g!==void 0?Uy(t,m,g):m in Z_?(console.warn("setting default value: ".concat(m,", from: ").concat(t[m]," to: ").concat(g," for"),t),n=!0,Uy(t,m,Z_[m])):console.warn("ignoring prop: ".concat(m,", from ").concat(t[m]," to ").concat(g," for"),t)}return n}var $8=function(t,e){var r=e.text,n=e.style;return new x6(r,n)},z8=function(){return new mn};function ha(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var l,u,d={},f=Object.keys(o);for(u=0;u<f.length;u++)l=f[u],a.indexOf(l)>=0||(d[l]=o[l]);return d}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var H8=["draw","geometry"],G8=function(t,e){var r=e.geometry;hr(!r||r instanceof oc,"Graphics geometry needs to be a `Graphics`");var n=r?new oc(r.geometry):new oc;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var l=bs(i,s,ha(o,H8));return s.draw!==a&&typeof a=="function"&&(l=!0,a.call(n,n)),l},n},W8=["image","texture"],V8=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,l=e.bottomHeight,u=l===void 0?10:l,d=_s("NineSlicePlane",t,e),f=new w8(d,n,s,a,u);return f.applyProps=function(p,m,g){var v=g.image,C=g.texture,S=bs(p,m,ha(g,W8));return(v||C)&&(C!==m.texture&&(S=!0),p.texture=_s("NineSlicePlane",t,g)),S},f};function nC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Af(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nC(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var X8=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,l=Af(Af({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),u=Af(Af({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),d=new S8(n,l,s,a);return d.willUnmount=function(f,p,m){f.destroy(u)},d},q8=["image","texture"],Y8=function(t,e){var r=new xs(_s("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,l=bs(n,i,ha(s,q8));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(l=!0),n.texture=_s("Sprite",t,s)),l},r},K8=["textures","isPlaying","initialFrame","images"],Q8=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(u){return u.map(function(d){return hr(d instanceof ze||(d==null?void 0:d.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),d})},l=n?Rc.fromImages(n):new Rc(a(r));return l[s?"gotoAndPlay":"gotoAndStop"](o||0),l.applyProps=function(u,d,f){var p=f.textures,m=f.isPlaying,g=f.initialFrame,v=f.images,C=bs(u,d,ha(f,K8));if(v&&d.images!==v){for(var S=[],x=0;x<v.length;++x)S.push(ze.from(v[x]));u.textures=S,C=!0}if(p&&d.textures!==p&&(u.textures=a(p),C=!0),m!==d.isPlaying||g!==d.initialFrame){var b=typeof g=="number"?g:l.currentFrame||0;l[m?"gotoAndPlay":"gotoAndStop"](b),C=!0}return C},l},Z8=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new Dw(n,s);return o?(a.updateText(),new xs(a.texture)):a},J8=["tileScale","tilePosition","image","texture"],ej=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=_s("TilingSprite",t,e),a=new $w(o,n,s);return a.applyProps=function(l,u,d){var f=d.tileScale,p=d.tilePosition,m=d.image,g=d.texture,v=bs(l,u,ha(d,J8));if(p){var C,S=zh(p);(C=l.tilePosition).set.apply(C,oo(S)),v=!rC(zh(u.tilePosition),S)||v}if(f){var x,b=zh(f);(x=l.tileScale).set.apply(x,oo(b)),v=!rC(zh(u.tileScale),b)||v}return(m||g)&&(g!==u.texture&&(v=!0),l.texture=_s("Sprite",t,d)),v},a},tj=["image","texture"],rj=function(t,e){var r=_s("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?ki.TRIANGLES:o,l=new x8(r,n,i,s,a);return l.applyProps=function(u,d,f){var p=f.image,m=f.texture,g=bs(u,d,ha(f,tj));return(p||m)&&(m!==d.texture&&(g=!0),u.texture=_s("Mesh",t,f)),g},l},nj=["image","texture"],ij=function(t,e){var r=_s("SimpleRope",t,e),n=e.points,i=new E8(r,n);return i.applyProps=function(s,o,a){var l=a.image,u=a.texture,d=ha(a,nj);hr(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<Point>");var f=bs(s,o,d);return(l||u)&&(u!==o.texture&&(f=!0),s.texture=_s("SimpleRope",t,a)),f},i},sj=Object.freeze({__proto__:null,BitmapText:$8,Container:z8,Graphics:G8,NineSlicePlane:V8,ParticleContainer:X8,Sprite:Y8,Text:Z8,TilingSprite:ej,SimpleMesh:rj,SimpleRope:ij,AnimatedSprite:Q8});function iC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iC(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Rn={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},oj=Object.keys(Rn).reduce(function(t,e){return sC(sC({},t),{},fr({},e,sj[e]))},{}),CO={};function aj(t,e){return hr(!!t,"Expect type to be defined, got `%s`",t),hr(!Rn[t],"Component `%s` could not be created, already exists in default components.",t),CO[t]=e,t}var oC,aC,lC,uC,J_={},eb={},lj={get exports(){return eb},set exports(t){eb=t}},hC={};function uj(){return aC||(aC=1,lj.exports=(oC||(oC=1,function(t){function e(D,J){var W=D.length;D.push(J);e:for(;0<W;){var te=W-1>>>1,N=D[te];if(!(0<i(N,J)))break e;D[te]=J,D[W]=N,W=te}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var J=D[0],W=D.pop();if(W!==J){D[0]=W;e:for(var te=0,N=D.length,ie=N>>>1;te<ie;){var pe=2*(te+1)-1,Be=D[pe],ge=pe+1,H=D[ge];if(0>i(Be,W))ge<N&&0>i(H,Be)?(D[te]=H,D[ge]=W,te=ge):(D[te]=Be,D[pe]=W,te=pe);else{if(!(ge<N&&0>i(H,W)))break e;D[te]=H,D[ge]=W,te=ge}}}return J}function i(D,J){var W=D.sortIndex-J.sortIndex;return W!==0?W:D.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],d=1,f=null,p=3,m=!1,g=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function b(D){for(var J=r(u);J!==null;){if(J.callback===null)n(u);else{if(!(J.startTime<=D))break;n(u),J.sortIndex=J.expirationTime,e(l,J)}J=r(u)}}function I(D){if(v=!1,b(D),!g)if(r(l)!==null)g=!0,de(O);else{var J=r(u);J!==null&&oe(I,J.startTime-D)}}function O(D,J){g=!1,v&&(v=!1,S($),$=-1),m=!0;var W=p;try{for(b(J),f=r(l);f!==null&&(!(f.expirationTime>J)||D&&!B());){var te=f.callback;if(typeof te=="function"){f.callback=null,p=f.priorityLevel;var N=te(f.expirationTime<=J);J=t.unstable_now(),typeof N=="function"?f.callback=N:f===r(l)&&n(l),b(J)}else n(l);f=r(l)}if(f!==null)var ie=!0;else{var pe=r(u);pe!==null&&oe(I,pe.startTime-J),ie=!1}return ie}finally{f=null,p=W,m=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,R=!1,M=null,$=-1,Y=5,se=-1;function B(){return!(t.unstable_now()-se<Y)}function F(){if(M!==null){var D=t.unstable_now();se=D;var J=!0;try{J=M(!0,D)}finally{J?k():(R=!1,M=null)}}else R=!1}if(typeof x=="function")k=function(){x(F)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Z=K.port2;K.port1.onmessage=F,k=function(){Z.postMessage(null)}}else k=function(){C(F,0)};function de(D){M=D,R||(R=!0,k())}function oe(D,J){$=C(function(){D(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(D){D.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,de(O))},t.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<D?Math.floor(1e3/D):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(D){switch(p){case 1:case 2:case 3:var J=3;break;default:J=p}var W=p;p=J;try{return D()}finally{p=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(D,J){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=p;p=D;try{return J()}finally{p=W}},t.unstable_scheduleCallback=function(D,J,W){var te=t.unstable_now();switch(W=typeof W=="object"&&W!==null&&typeof(W=W.delay)=="number"&&0<W?te+W:te,D){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return D={id:d++,callback:J,priorityLevel:D,startTime:W,expirationTime:N=W+N,sortIndex:-1},W>te?(D.sortIndex=W,e(u,D),r(l)===null&&D===r(u)&&(v?(S($),$=-1):v=!0,oe(I,W-te))):(D.sortIndex=N,e(l,D),g||m||(g=!0,de(O))),D},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(D){var J=p;return function(){var W=p;p=J;try{return D.apply(this,arguments)}finally{p=W}}}}(hC)),hC)),eb}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function hj(){return uC||(uC=1,lC=function(t){var e={},r=fs,n=uj(),i=Object.assign;function s(h){for(var c="https://reactjs.org/docs/error-decoder.html?invariant="+h,y=1;y<arguments.length;y++)c+="&args[]="+encodeURIComponent(arguments[y]);return"Minified React error #"+h+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),l=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),I=Symbol.iterator;function O(h){return h===null||typeof h!="object"?null:typeof(h=I&&h[I]||h["@@iterator"])=="function"?h:null}function k(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case u:return"Fragment";case l:return"Portal";case f:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case C:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case m:return(h.displayName||"Context")+".Consumer";case p:return(h._context.displayName||"Context")+".Provider";case g:var c=h.render;return(h=h.displayName)||(h=(h=c.displayName||c.name||"")!==""?"ForwardRef("+h+")":"ForwardRef"),h;case S:return(c=h.displayName||null)!==null?c:k(h.type)||"Memo";case x:c=h._payload,h=h._init;try{return k(h(c))}catch{}}return null}function R(h){var c=h.type;switch(h.tag){case 24:return"Cache";case 9:return(c.displayName||"Context")+".Consumer";case 10:return(c._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=(h=c.render).displayName||h.name||"",c.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return c;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return k(c);case 8:return c===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c}return null}function M(h){var c=h,y=h;if(h.alternate)for(;c.return;)c=c.return;else{h=c;do 4098&(c=h).flags&&(y=c.return),h=c.return;while(h)}return c.tag===3?y:null}function $(h){if(M(h)!==h)throw Error(s(188))}function Y(h){var c=h.alternate;if(!c){if((c=M(h))===null)throw Error(s(188));return c!==h?null:h}for(var y=h,w=c;;){var A=y.return;if(A===null)break;var P=A.alternate;if(P===null){if((w=A.return)!==null){y=w;continue}break}if(A.child===P.child){for(P=A.child;P;){if(P===y)return $(A),h;if(P===w)return $(A),c;P=P.sibling}throw Error(s(188))}if(y.return!==w.return)y=A,w=P;else{for(var z=!1,ne=A.child;ne;){if(ne===y){z=!0,y=A,w=P;break}if(ne===w){z=!0,w=A,y=P;break}ne=ne.sibling}if(!z){for(ne=P.child;ne;){if(ne===y){z=!0,y=P,w=A;break}if(ne===w){z=!0,w=P,y=A;break}ne=ne.sibling}if(!z)throw Error(s(189))}}if(y.alternate!==w)throw Error(s(190))}if(y.tag!==3)throw Error(s(188));return y.stateNode.current===y?h:c}function se(h){return(h=Y(h))!==null?B(h):null}function B(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var c=B(h);if(c!==null)return c;h=h.sibling}return null}function F(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){if(h.tag!==4){var c=F(h);if(c!==null)return c}h=h.sibling}return null}var K,Z=Array.isArray,de=t.getPublicInstance,oe=t.getRootHostContext,D=t.getChildHostContext,J=t.prepareForCommit,W=t.resetAfterCommit,te=t.createInstance,N=t.appendInitialChild,ie=t.finalizeInitialChildren,pe=t.prepareUpdate,Be=t.shouldSetTextContent,ge=t.createTextInstance,H=t.scheduleTimeout,U=t.cancelTimeout,le=t.noTimeout,_e=t.isPrimaryRenderer,ue=t.supportsMutation,he=t.supportsPersistence,ye=t.supportsHydration,Ee=t.getInstanceFromNode,G=t.preparePortalMount,ee=t.getCurrentEventPriority,re=t.detachDeletedInstance,xe=t.supportsMicrotasks,ve=t.scheduleMicrotask,Q=t.supportsTestSelectors,me=t.findFiberRoot,Fe=t.getBoundingRect,He=t.getTextContent,Qe=t.isHiddenSubtree,ft=t.matchAccessibilityRole,E=t.setFocusIfFocusable,_=t.setupIntersectionObserver,T=t.appendChild,j=t.appendChildToContainer,V=t.commitTextUpdate,L=t.commitMount,X=t.commitUpdate,ce=t.insertBefore,Oe=t.insertInContainerBefore,Se=t.removeChild,Ne=t.removeChildFromContainer,Ve=t.resetTextContent,st=t.hideInstance,Kt=t.hideTextInstance,qr=t.unhideInstance,Ct=t.unhideTextInstance,Yr=t.clearContainer,or=t.cloneInstance,Qt=t.createContainerChildSet,jt=t.appendChildToContainerChildSet,Ir=t.finalizeContainerChildren,lt=t.replaceContainerChildren,Dt=t.cloneHiddenInstance,Ur=t.cloneHiddenTextInstance,_r=t.canHydrateInstance,kn=t.canHydrateTextInstance,Ss=t.canHydrateSuspenseInstance,di=t.isSuspenseInstancePending,gl=t.isSuspenseInstanceFallback,Vc=t.getSuspenseInstanceFallbackErrorDetails,fM=t.registerSuspenseInstanceRetry,Xc=t.getNextHydratableSibling,pM=t.getFirstHydratableChild,mM=t.getFirstHydratableChildWithinContainer,gM=t.getFirstHydratableChildWithinSuspenseInstance,yM=t.hydrateInstance,vM=t.hydrateTextInstance,_M=t.hydrateSuspenseInstance,bM=t.getNextHydratableInstanceAfterSuspenseInstance,wM=t.commitHydratedContainer,xM=t.commitHydratedSuspenseInstance,EM=t.clearSuspenseBoundary,SM=t.clearSuspenseBoundaryFromContainer,TM=t.shouldDeleteUnhydratedTailInstances,AM=t.didNotMatchHydratedContainerTextInstance,CM=t.didNotMatchHydratedTextInstance;function Vu(h){if(K===void 0)try{throw Error()}catch(y){var c=y.stack.trim().match(/\n( *(at )?)/);K=c&&c[1]||""}return`
`+K+h}var rg=!1;function ng(h,c){if(!h||rg)return"";rg=!0;var y=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(c)if(c=function(){throw Error()},Object.defineProperty(c.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(c,[])}catch(we){var w=we}Reflect.construct(h,[],c)}else{try{c.call()}catch(we){w=we}h.call(c.prototype)}else{try{throw Error()}catch(we){w=we}h()}}catch(we){if(we&&w&&typeof we.stack=="string"){for(var A=we.stack.split(`
`),P=w.stack.split(`
`),z=A.length-1,ne=P.length-1;1<=z&&0<=ne&&A[z]!==P[ne];)ne--;for(;1<=z&&0<=ne;z--,ne--)if(A[z]!==P[ne]){if(z!==1||ne!==1)do if(z--,0>--ne||A[z]!==P[ne]){var fe=`
`+A[z].replace(" at new "," at ");return h.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",h.displayName)),fe}while(1<=z&&0<=ne);break}}}finally{rg=!1,Error.prepareStackTrace=y}return(h=h?h.displayName||h.name:"")?Vu(h):""}var IM=Object.prototype.hasOwnProperty,ig=[],yl=-1;function co(h){return{current:h}}function $t(h){0>yl||(h.current=ig[yl],ig[yl]=null,yl--)}function Ot(h,c){yl++,ig[yl]=h.current,h.current=c}var fo={},Kr=co(fo),vn=co(!1),ca=fo;function vl(h,c){var y=h.type.contextTypes;if(!y)return fo;var w=h.stateNode;if(w&&w.__reactInternalMemoizedUnmaskedChildContext===c)return w.__reactInternalMemoizedMaskedChildContext;var A,P={};for(A in y)P[A]=c[A];return w&&((h=h.stateNode).__reactInternalMemoizedUnmaskedChildContext=c,h.__reactInternalMemoizedMaskedChildContext=P),P}function On(h){return(h=h.childContextTypes)!=null}function sg(){$t(vn),$t(Kr)}function qw(h,c,y){if(Kr.current!==fo)throw Error(s(168));Ot(Kr,c),Ot(vn,y)}function Yw(h,c,y){var w=h.stateNode;if(c=c.childContextTypes,typeof w.getChildContext!="function")return y;for(var A in w=w.getChildContext())if(!(A in c))throw Error(s(108,R(h)||"Unknown",A));return i({},y,w)}function qc(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||fo,ca=Kr.current,Ot(Kr,h),Ot(vn,vn.current),!0}function Kw(h,c,y){var w=h.stateNode;if(!w)throw Error(s(169));y?(h=Yw(h,c,ca),w.__reactInternalMemoizedMergedChildContext=h,$t(vn),$t(Kr),Ot(Kr,h)):$t(vn),Ot(vn,y)}var fi=Math.clz32?Math.clz32:function(h){return(h>>>=0)===0?32:31-(PM(h)/RM|0)|0},PM=Math.log,RM=Math.LN2,og=64,ag=4194304;function Xu(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&h;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&h;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Yc(h,c){var y=h.pendingLanes;if(y===0)return 0;var w=0,A=h.suspendedLanes,P=h.pingedLanes,z=268435455&y;if(z!==0){var ne=z&~A;ne!==0?w=Xu(ne):(P&=z)!==0&&(w=Xu(P))}else(z=y&~A)!==0?w=Xu(z):P!==0&&(w=Xu(P));if(w===0)return 0;if(c!==0&&c!==w&&!(c&A)&&((A=w&-w)>=(P=c&-c)||A===16&&4194240&P))return c;if(4&w&&(w|=16&y),(c=h.entangledLanes)!==0)for(h=h.entanglements,c&=w;0<c;)A=1<<(y=31-fi(c)),w|=h[y],c&=~A;return w}function kM(h,c){switch(h){case 1:case 2:case 4:return c+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;default:return-1}}function lg(h){return(h=-1073741825&h.pendingLanes)!==0?h:1073741824&h?1073741824:0}function Qw(){var h=og;return!(4194240&(og<<=1))&&(og=64),h}function ug(h){for(var c=[],y=0;31>y;y++)c.push(h);return c}function qu(h,c,y){h.pendingLanes|=c,c!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),(h=h.eventTimes)[c=31-fi(c)]=y}function hg(h,c){var y=h.entangledLanes|=c;for(h=h.entanglements;y;){var w=31-fi(y),A=1<<w;A&c|h[w]&c&&(h[w]|=c),y&=~A}}var wt=0;function Zw(h){return 1<(h&=-h)?4<h?268435455&h?16:536870912:4:1}var cg=n.unstable_scheduleCallback,Jw=n.unstable_cancelCallback,OM=n.unstable_shouldYield,MM=n.unstable_requestPaint,Pr=n.unstable_now,dg=n.unstable_ImmediatePriority,BM=n.unstable_UserBlockingPriority,ex=n.unstable_NormalPriority,NM=n.unstable_IdlePriority,Kc=null,Ui=null,pi=typeof Object.is=="function"?Object.is:function(h,c){return h===c&&(h!==0||1/h==1/c)||h!=h&&c!=c},Ts=null,Qc=!1,fg=!1;function tx(h){Ts===null?Ts=[h]:Ts.push(h)}function ji(){if(!fg&&Ts!==null){fg=!0;var h=0,c=wt;try{var y=Ts;for(wt=1;h<y.length;h++){var w=y[h];do w=w(!0);while(w!==null)}Ts=null,Qc=!1}catch(A){throw Ts!==null&&(Ts=Ts.slice(h+1)),cg(dg,ji),A}finally{wt=c,fg=!1}}return null}var _l=[],bl=0,Zc=null,Jc=0,Xn=[],qn=0,da=null,$i=1,As="";function fa(h,c){_l[bl++]=Jc,_l[bl++]=Zc,Zc=h,Jc=c}function rx(h,c,y){Xn[qn++]=$i,Xn[qn++]=As,Xn[qn++]=da,da=h;var w=$i;h=As;var A=32-fi(w)-1;w&=~(1<<A),y+=1;var P=32-fi(c)+A;if(30<P){var z=A-A%5;P=(w&(1<<z)-1).toString(32),w>>=z,A-=z,$i=1<<32-fi(c)+A|y<<A|w,As=P+h}else $i=1<<P|y<<A|w,As=h}function pg(h){h.return!==null&&(fa(h,1),rx(h,1,0))}function mg(h){for(;h===Zc;)Zc=_l[--bl],_l[bl]=null,Jc=_l[--bl],_l[bl]=null;for(;h===da;)da=Xn[--qn],Xn[qn]=null,As=Xn[--qn],Xn[qn]=null,$i=Xn[--qn],Xn[qn]=null}var Mn=null,Yn=null,zt=!1,Yu=!1,mi=null;function nx(h,c){var y=ei(5,null,null,0);y.elementType="DELETED",y.stateNode=c,y.return=h,(c=h.deletions)===null?(h.deletions=[y],h.flags|=16):c.push(y)}function ix(h,c){switch(h.tag){case 5:return(c=_r(c,h.type,h.pendingProps))!==null&&(h.stateNode=c,Mn=h,Yn=pM(c),!0);case 6:return(c=kn(c,h.pendingProps))!==null&&(h.stateNode=c,Mn=h,Yn=null,!0);case 13:if((c=Ss(c))!==null){var y=da!==null?{id:$i,overflow:As}:null;return h.memoizedState={dehydrated:c,treeContext:y,retryLane:1073741824},(y=ei(18,null,null,0)).stateNode=c,y.return=h,h.child=y,Mn=h,Yn=null,!0}return!1;default:return!1}}function gg(h){return(1&h.mode)!=0&&(128&h.flags)==0}function yg(h){if(zt){var c=Yn;if(c){var y=c;if(!ix(h,c)){if(gg(h))throw Error(s(418));c=Xc(y);var w=Mn;c&&ix(h,c)?nx(w,y):(h.flags=-4097&h.flags|2,zt=!1,Mn=h)}}else{if(gg(h))throw Error(s(418));h.flags=-4097&h.flags|2,zt=!1,Mn=h}}}function sx(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;Mn=h}function ed(h){if(!ye||h!==Mn)return!1;if(!zt)return sx(h),zt=!0,!1;if(h.tag!==3&&(h.tag!==5||TM(h.type)&&!Be(h.type,h.memoizedProps))){var c=Yn;if(c){if(gg(h))throw ox(),Error(s(418));for(;c;)nx(h,c),c=Xc(c)}}if(sx(h),h.tag===13){if(!ye)throw Error(s(316));if(!(h=(h=h.memoizedState)!==null?h.dehydrated:null))throw Error(s(317));Yn=bM(h)}else Yn=Mn?Xc(h.stateNode):null;return!0}function ox(){for(var h=Yn;h;)h=Xc(h)}function wl(){ye&&(Yn=Mn=null,Yu=zt=!1)}function vg(h){mi===null?mi=[h]:mi.push(h)}var DM=o.ReactCurrentBatchConfig;function td(h,c){if(pi(h,c))return!0;if(typeof h!="object"||h===null||typeof c!="object"||c===null)return!1;var y=Object.keys(h),w=Object.keys(c);if(y.length!==w.length)return!1;for(w=0;w<y.length;w++){var A=y[w];if(!IM.call(c,A)||!pi(h[A],c[A]))return!1}return!0}function LM(h){switch(h.tag){case 5:return Vu(h.type);case 16:return Vu("Lazy");case 13:return Vu("Suspense");case 19:return Vu("SuspenseList");case 0:case 2:case 15:return h=ng(h.type,!1);case 11:return h=ng(h.type.render,!1);case 1:return h=ng(h.type,!0);default:return""}}function gi(h,c){if(h&&h.defaultProps){for(var y in c=i({},c),h=h.defaultProps)c[y]===void 0&&(c[y]=h[y]);return c}return c}var rd=co(null),nd=null,xl=null,_g=null;function bg(){_g=xl=nd=null}function ax(h,c,y){_e?(Ot(rd,c._currentValue),c._currentValue=y):(Ot(rd,c._currentValue2),c._currentValue2=y)}function wg(h){var c=rd.current;$t(rd),_e?h._currentValue=c:h._currentValue2=c}function xg(h,c,y){for(;h!==null;){var w=h.alternate;if((h.childLanes&c)!==c?(h.childLanes|=c,w!==null&&(w.childLanes|=c)):w!==null&&(w.childLanes&c)!==c&&(w.childLanes|=c),h===y)break;h=h.return}}function El(h,c){nd=h,_g=xl=null,(h=h.dependencies)!==null&&h.firstContext!==null&&(h.lanes&c&&(_n=!0),h.firstContext=null)}function Kn(h){var c=_e?h._currentValue:h._currentValue2;if(_g!==h)if(h={context:h,memoizedValue:c,next:null},xl===null){if(nd===null)throw Error(s(308));xl=h,nd.dependencies={lanes:0,firstContext:h}}else xl=xl.next=h;return c}var pa=null;function Eg(h){pa===null?pa=[h]:pa.push(h)}function lx(h,c,y,w){var A=c.interleaved;return A===null?(y.next=y,Eg(c)):(y.next=A.next,A.next=y),c.interleaved=y,zi(h,w)}function zi(h,c){h.lanes|=c;var y=h.alternate;for(y!==null&&(y.lanes|=c),y=h,h=h.return;h!==null;)h.childLanes|=c,(y=h.alternate)!==null&&(y.childLanes|=c),y=h,h=h.return;return y.tag===3?y.stateNode:null}var po=!1;function Sg(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ux(h,c){h=h.updateQueue,c.updateQueue===h&&(c.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function Cs(h,c){return{eventTime:h,lane:c,tag:0,payload:null,callback:null,next:null}}function mo(h,c,y){var w=h.updateQueue;if(w===null)return null;if(w=w.shared,(2&vt)!=0){var A=w.pending;return A===null?c.next=c:(c.next=A.next,A.next=c),w.pending=c,zi(h,y)}return(A=w.interleaved)===null?(c.next=c,Eg(w)):(c.next=A.next,A.next=c),w.interleaved=c,zi(h,y)}function id(h,c,y){if((c=c.updateQueue)!==null&&(c=c.shared,(4194240&y)!=0)){var w=c.lanes;y|=w&=h.pendingLanes,c.lanes=y,hg(h,y)}}function hx(h,c){var y=h.updateQueue,w=h.alternate;if(w!==null&&y===(w=w.updateQueue)){var A=null,P=null;if((y=y.firstBaseUpdate)!==null){do{var z={eventTime:y.eventTime,lane:y.lane,tag:y.tag,payload:y.payload,callback:y.callback,next:null};P===null?A=P=z:P=P.next=z,y=y.next}while(y!==null);P===null?A=P=c:P=P.next=c}else A=P=c;return y={baseState:w.baseState,firstBaseUpdate:A,lastBaseUpdate:P,shared:w.shared,effects:w.effects},void(h.updateQueue=y)}(h=y.lastBaseUpdate)===null?y.firstBaseUpdate=c:h.next=c,y.lastBaseUpdate=c}function sd(h,c,y,w){var A=h.updateQueue;po=!1;var P=A.firstBaseUpdate,z=A.lastBaseUpdate,ne=A.shared.pending;if(ne!==null){A.shared.pending=null;var fe=ne,we=fe.next;fe.next=null,z===null?P=we:z.next=we,z=fe;var Re=h.alternate;Re!==null&&(ne=(Re=Re.updateQueue).lastBaseUpdate)!==z&&(ne===null?Re.firstBaseUpdate=we:ne.next=we,Re.lastBaseUpdate=fe)}if(P!==null){var Ge=A.baseState;for(z=0,Re=we=fe=null,ne=P;;){var Ae=ne.lane,je=ne.eventTime;if((w&Ae)===Ae){Re!==null&&(Re=Re.next={eventTime:je,lane:0,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null});e:{var Ze=h,dt=ne;switch(Ae=c,je=y,dt.tag){case 1:if(typeof(Ze=dt.payload)=="function"){Ge=Ze.call(je,Ge,Ae);break e}Ge=Ze;break e;case 3:Ze.flags=-65537&Ze.flags|128;case 0:if((Ae=typeof(Ze=dt.payload)=="function"?Ze.call(je,Ge,Ae):Ze)==null)break e;Ge=i({},Ge,Ae);break e;case 2:po=!0}}ne.callback!==null&&ne.lane!==0&&(h.flags|=64,(Ae=A.effects)===null?A.effects=[ne]:Ae.push(ne))}else je={eventTime:je,lane:Ae,tag:ne.tag,payload:ne.payload,callback:ne.callback,next:null},Re===null?(we=Re=je,fe=Ge):Re=Re.next=je,z|=Ae;if((ne=ne.next)===null){if((ne=A.shared.pending)===null)break;ne=(Ae=ne).next,Ae.next=null,A.lastBaseUpdate=Ae,A.shared.pending=null}}if(Re===null&&(fe=Ge),A.baseState=fe,A.firstBaseUpdate=we,A.lastBaseUpdate=Re,(c=A.shared.interleaved)!==null){A=c;do z|=A.lane,A=A.next;while(A!==c)}else P===null&&(A.shared.lanes=0);ga|=z,h.lanes=z,h.memoizedState=Ge}}function cx(h,c,y){if(h=c.effects,c.effects=null,h!==null)for(c=0;c<h.length;c++){var w=h[c],A=w.callback;if(A!==null){if(w.callback=null,w=y,typeof A!="function")throw Error(s(191,A));A.call(w)}}}var dx=new r.Component().refs;function Tg(h,c,y,w){y=(y=y(w,c=h.memoizedState))==null?c:i({},c,y),h.memoizedState=y,h.lanes===0&&(h.updateQueue.baseState=y)}var od={isMounted:function(h){return!!(h=h._reactInternals)&&M(h)===h},enqueueSetState:function(h,c,y){h=h._reactInternals;var w=Jr(),A=_o(h),P=Cs(w,A);P.payload=c,y!=null&&(P.callback=y),(c=mo(h,P,A))!==null&&(Jn(c,h,A,w),id(c,h,A))},enqueueReplaceState:function(h,c,y){h=h._reactInternals;var w=Jr(),A=_o(h),P=Cs(w,A);P.tag=1,P.payload=c,y!=null&&(P.callback=y),(c=mo(h,P,A))!==null&&(Jn(c,h,A,w),id(c,h,A))},enqueueForceUpdate:function(h,c){h=h._reactInternals;var y=Jr(),w=_o(h),A=Cs(y,w);A.tag=2,c!=null&&(A.callback=c),(c=mo(h,A,w))!==null&&(Jn(c,h,w,y),id(c,h,w))}};function fx(h,c,y,w,A,P,z){return typeof(h=h.stateNode).shouldComponentUpdate=="function"?h.shouldComponentUpdate(w,P,z):!c.prototype||!c.prototype.isPureReactComponent||!td(y,w)||!td(A,P)}function px(h,c,y){var w=!1,A=fo,P=c.contextType;return typeof P=="object"&&P!==null?P=Kn(P):(A=On(c)?ca:Kr.current,P=(w=(w=c.contextTypes)!=null)?vl(h,A):fo),c=new c(y,P),h.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=od,h.stateNode=c,c._reactInternals=h,w&&((h=h.stateNode).__reactInternalMemoizedUnmaskedChildContext=A,h.__reactInternalMemoizedMaskedChildContext=P),c}function mx(h,c,y,w){h=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(y,w),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(y,w),c.state!==h&&od.enqueueReplaceState(c,c.state,null)}function Ag(h,c,y,w){var A=h.stateNode;A.props=y,A.state=h.memoizedState,A.refs=dx,Sg(h);var P=c.contextType;typeof P=="object"&&P!==null?A.context=Kn(P):(P=On(c)?ca:Kr.current,A.context=vl(h,P)),A.state=h.memoizedState,typeof(P=c.getDerivedStateFromProps)=="function"&&(Tg(h,c,P,y),A.state=h.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof A.getSnapshotBeforeUpdate=="function"||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(c=A.state,typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount(),c!==A.state&&od.enqueueReplaceState(A,A.state,null),sd(h,y,A,w),A.state=h.memoizedState),typeof A.componentDidMount=="function"&&(h.flags|=4194308)}function Ku(h,c,y){if((h=y.ref)!==null&&typeof h!="function"&&typeof h!="object"){if(y._owner){if(y=y._owner){if(y.tag!==1)throw Error(s(309));var w=y.stateNode}if(!w)throw Error(s(147,h));var A=w,P=""+h;return c!==null&&c.ref!==null&&typeof c.ref=="function"&&c.ref._stringRef===P?c.ref:(c=function(z){var ne=A.refs;ne===dx&&(ne=A.refs={}),z===null?delete ne[P]:ne[P]=z},c._stringRef=P,c)}if(typeof h!="string")throw Error(s(284));if(!y._owner)throw Error(s(290,h))}return h}function ad(h,c){throw h=Object.prototype.toString.call(c),Error(s(31,h==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":h))}function gx(h){return(0,h._init)(h._payload)}function yx(h){function c(ke,ae){if(h){var be=ke.deletions;be===null?(ke.deletions=[ae],ke.flags|=16):be.push(ae)}}function y(ke,ae){if(!h)return null;for(;ae!==null;)c(ke,ae),ae=ae.sibling;return null}function w(ke,ae){for(ke=new Map;ae!==null;)ae.key!==null?ke.set(ae.key,ae):ke.set(ae.index,ae),ae=ae.sibling;return ke}function A(ke,ae){return(ke=wo(ke,ae)).index=0,ke.sibling=null,ke}function P(ke,ae,be){return ke.index=be,h?(be=ke.alternate)!==null?(be=be.index)<ae?(ke.flags|=2,ae):be:(ke.flags|=2,ae):(ke.flags|=1048576,ae)}function z(ke){return h&&ke.alternate===null&&(ke.flags|=2),ke}function ne(ke,ae,be,De){return ae===null||ae.tag!==6?((ae=d0(be,ke.mode,De)).return=ke,ae):((ae=A(ae,be)).return=ke,ae)}function fe(ke,ae,be,De){var it=be.type;return it===u?Re(ke,ae,be.props.children,De,be.key):ae!==null&&(ae.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===x&&gx(it)===ae.type)?((De=A(ae,be.props)).ref=Ku(ke,ae,be),De.return=ke,De):((De=Md(be.type,be.key,be.props,null,ke.mode,De)).ref=Ku(ke,ae,be),De.return=ke,De)}function we(ke,ae,be,De){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==be.containerInfo||ae.stateNode.implementation!==be.implementation?((ae=f0(be,ke.mode,De)).return=ke,ae):((ae=A(ae,be.children||[])).return=ke,ae)}function Re(ke,ae,be,De,it){return ae===null||ae.tag!==7?((ae=_a(be,ke.mode,De,it)).return=ke,ae):((ae=A(ae,be)).return=ke,ae)}function Ge(ke,ae,be){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return(ae=d0(""+ae,ke.mode,be)).return=ke,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case a:return(be=Md(ae.type,ae.key,ae.props,null,ke.mode,be)).ref=Ku(ke,null,ae),be.return=ke,be;case l:return(ae=f0(ae,ke.mode,be)).return=ke,ae;case x:return Ge(ke,(0,ae._init)(ae._payload),be)}if(Z(ae)||O(ae))return(ae=_a(ae,ke.mode,be,null)).return=ke,ae;ad(ke,ae)}return null}function Ae(ke,ae,be,De){var it=ae!==null?ae.key:null;if(typeof be=="string"&&be!==""||typeof be=="number")return it!==null?null:ne(ke,ae,""+be,De);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case a:return be.key===it?fe(ke,ae,be,De):null;case l:return be.key===it?we(ke,ae,be,De):null;case x:return Ae(ke,ae,(it=be._init)(be._payload),De)}if(Z(be)||O(be))return it!==null?null:Re(ke,ae,be,De,null);ad(ke,be)}return null}function je(ke,ae,be,De,it){if(typeof De=="string"&&De!==""||typeof De=="number")return ne(ae,ke=ke.get(be)||null,""+De,it);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case a:return fe(ae,ke=ke.get(De.key===null?be:De.key)||null,De,it);case l:return we(ae,ke=ke.get(De.key===null?be:De.key)||null,De,it);case x:return je(ke,ae,be,(0,De._init)(De._payload),it)}if(Z(De)||O(De))return Re(ae,ke=ke.get(be)||null,De,it,null);ad(ae,De)}return null}function Ze(ke,ae,be,De){for(var it=null,St=null,et=ae,xt=ae=0,$r=null;et!==null&&xt<be.length;xt++){et.index>xt?($r=et,et=null):$r=et.sibling;var Tt=Ae(ke,et,be[xt],De);if(Tt===null){et===null&&(et=$r);break}h&&et&&Tt.alternate===null&&c(ke,et),ae=P(Tt,ae,xt),St===null?it=Tt:St.sibling=Tt,St=Tt,et=$r}if(xt===be.length)return y(ke,et),zt&&fa(ke,xt),it;if(et===null){for(;xt<be.length;xt++)(et=Ge(ke,be[xt],De))!==null&&(ae=P(et,ae,xt),St===null?it=et:St.sibling=et,St=et);return zt&&fa(ke,xt),it}for(et=w(ke,et);xt<be.length;xt++)($r=je(et,ke,xt,be[xt],De))!==null&&(h&&$r.alternate!==null&&et.delete($r.key===null?xt:$r.key),ae=P($r,ae,xt),St===null?it=$r:St.sibling=$r,St=$r);return h&&et.forEach(function(xo){return c(ke,xo)}),zt&&fa(ke,xt),it}function dt(ke,ae,be,De){var it=O(be);if(typeof it!="function")throw Error(s(150));if((be=it.call(be))==null)throw Error(s(151));for(var St=it=null,et=ae,xt=ae=0,$r=null,Tt=be.next();et!==null&&!Tt.done;xt++,Tt=be.next()){et.index>xt?($r=et,et=null):$r=et.sibling;var xo=Ae(ke,et,Tt.value,De);if(xo===null){et===null&&(et=$r);break}h&&et&&xo.alternate===null&&c(ke,et),ae=P(xo,ae,xt),St===null?it=xo:St.sibling=xo,St=xo,et=$r}if(Tt.done)return y(ke,et),zt&&fa(ke,xt),it;if(et===null){for(;!Tt.done;xt++,Tt=be.next())(Tt=Ge(ke,Tt.value,De))!==null&&(ae=P(Tt,ae,xt),St===null?it=Tt:St.sibling=Tt,St=Tt);return zt&&fa(ke,xt),it}for(et=w(ke,et);!Tt.done;xt++,Tt=be.next())(Tt=je(et,ke,xt,Tt.value,De))!==null&&(h&&Tt.alternate!==null&&et.delete(Tt.key===null?xt:Tt.key),ae=P(Tt,ae,xt),St===null?it=Tt:St.sibling=Tt,St=Tt);return h&&et.forEach(function(aB){return c(ke,aB)}),zt&&fa(ke,xt),it}return function ke(ae,be,De,it){if(typeof De=="object"&&De!==null&&De.type===u&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case a:e:{for(var St=De.key,et=be;et!==null;){if(et.key===St){if((St=De.type)===u){if(et.tag===7){y(ae,et.sibling),(be=A(et,De.props.children)).return=ae,ae=be;break e}}else if(et.elementType===St||typeof St=="object"&&St!==null&&St.$$typeof===x&&gx(St)===et.type){y(ae,et.sibling),(be=A(et,De.props)).ref=Ku(ae,et,De),be.return=ae,ae=be;break e}y(ae,et);break}c(ae,et),et=et.sibling}De.type===u?((be=_a(De.props.children,ae.mode,it,De.key)).return=ae,ae=be):((it=Md(De.type,De.key,De.props,null,ae.mode,it)).ref=Ku(ae,be,De),it.return=ae,ae=it)}return z(ae);case l:e:{for(et=De.key;be!==null;){if(be.key===et){if(be.tag===4&&be.stateNode.containerInfo===De.containerInfo&&be.stateNode.implementation===De.implementation){y(ae,be.sibling),(be=A(be,De.children||[])).return=ae,ae=be;break e}y(ae,be);break}c(ae,be),be=be.sibling}(be=f0(De,ae.mode,it)).return=ae,ae=be}return z(ae);case x:return ke(ae,be,(et=De._init)(De._payload),it)}if(Z(De))return Ze(ae,be,De,it);if(O(De))return dt(ae,be,De,it);ad(ae,De)}return typeof De=="string"&&De!==""||typeof De=="number"?(De=""+De,be!==null&&be.tag===6?(y(ae,be.sibling),(be=A(be,De)).return=ae,ae=be):(y(ae,be),(be=d0(De,ae.mode,it)).return=ae,ae=be),z(ae)):y(ae,be)}}var Sl=yx(!0),vx=yx(!1),Qu={},Qn=co(Qu),Zu=co(Qu),Tl=co(Qu);function Hi(h){if(h===Qu)throw Error(s(174));return h}function Cg(h,c){Ot(Tl,c),Ot(Zu,h),Ot(Qn,Qu),h=oe(c),$t(Qn),Ot(Qn,h)}function Al(){$t(Qn),$t(Zu),$t(Tl)}function _x(h){var c=Hi(Tl.current),y=Hi(Qn.current);y!==(c=D(y,h.type,c))&&(Ot(Zu,h),Ot(Qn,c))}function Ig(h){Zu.current===h&&($t(Qn),$t(Zu))}var ar=co(0);function ld(h){for(var c=h;c!==null;){if(c.tag===13){var y=c.memoizedState;if(y!==null&&((y=y.dehydrated)===null||di(y)||gl(y)))return c}else if(c.tag===19&&c.memoizedProps.revealOrder!==void 0){if(128&c.flags)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break;for(;c.sibling===null;){if(c.return===null||c.return===h)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Pg=[];function Rg(){for(var h=0;h<Pg.length;h++){var c=Pg[h];_e?c._workInProgressVersionPrimary=null:c._workInProgressVersionSecondary=null}Pg.length=0}var ud=o.ReactCurrentDispatcher,kg=o.ReactCurrentBatchConfig,ma=0,Zt=null,Rr=null,kr=null,hd=!1,Ju=!1,eh=0,FM=0;function Qr(){throw Error(s(321))}function Og(h,c){if(c===null)return!1;for(var y=0;y<c.length&&y<h.length;y++)if(!pi(h[y],c[y]))return!1;return!0}function Mg(h,c,y,w,A,P){if(ma=P,Zt=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,ud.current=h===null||h.memoizedState===null?zM:HM,h=y(w,A),Ju){P=0;do{if(Ju=!1,eh=0,25<=P)throw Error(s(301));P+=1,kr=Rr=null,c.updateQueue=null,ud.current=GM,h=y(w,A)}while(Ju)}if(ud.current=fd,c=Rr!==null&&Rr.next!==null,ma=0,kr=Rr=Zt=null,hd=!1,c)throw Error(s(300));return h}function Bg(){var h=eh!==0;return eh=0,h}function Gi(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Zt.memoizedState=kr=h:kr=kr.next=h,kr}function Zn(){if(Rr===null){var h=Zt.alternate;h=h!==null?h.memoizedState:null}else h=Rr.next;var c=kr===null?Zt.memoizedState:kr.next;if(c!==null)kr=c,Rr=h;else{if(h===null)throw Error(s(310));h={memoizedState:(Rr=h).memoizedState,baseState:Rr.baseState,baseQueue:Rr.baseQueue,queue:Rr.queue,next:null},kr===null?Zt.memoizedState=kr=h:kr=kr.next=h}return kr}function th(h,c){return typeof c=="function"?c(h):c}function Ng(h){var c=Zn(),y=c.queue;if(y===null)throw Error(s(311));y.lastRenderedReducer=h;var w=Rr,A=w.baseQueue,P=y.pending;if(P!==null){if(A!==null){var z=A.next;A.next=P.next,P.next=z}w.baseQueue=A=P,y.pending=null}if(A!==null){P=A.next,w=w.baseState;var ne=z=null,fe=null,we=P;do{var Re=we.lane;if((ma&Re)===Re)fe!==null&&(fe=fe.next={lane:0,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),w=we.hasEagerState?we.eagerState:h(w,we.action);else{var Ge={lane:Re,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null};fe===null?(ne=fe=Ge,z=w):fe=fe.next=Ge,Zt.lanes|=Re,ga|=Re}we=we.next}while(we!==null&&we!==P);fe===null?z=w:fe.next=ne,pi(w,c.memoizedState)||(_n=!0),c.memoizedState=w,c.baseState=z,c.baseQueue=fe,y.lastRenderedState=w}if((h=y.interleaved)!==null){A=h;do P=A.lane,Zt.lanes|=P,ga|=P,A=A.next;while(A!==h)}else A===null&&(y.lanes=0);return[c.memoizedState,y.dispatch]}function Dg(h){var c=Zn(),y=c.queue;if(y===null)throw Error(s(311));y.lastRenderedReducer=h;var w=y.dispatch,A=y.pending,P=c.memoizedState;if(A!==null){y.pending=null;var z=A=A.next;do P=h(P,z.action),z=z.next;while(z!==A);pi(P,c.memoizedState)||(_n=!0),c.memoizedState=P,c.baseQueue===null&&(c.baseState=P),y.lastRenderedState=P}return[P,w]}function bx(){}function xx(h,c){var y=Zt,w=Zn(),A=c(),P=!pi(w.memoizedState,A);if(P&&(w.memoizedState=A,_n=!0),w=w.queue,Lg(Tx.bind(null,y,w,h),[h]),w.getSnapshot!==c||P||kr!==null&&1&kr.memoizedState.tag){if(y.flags|=2048,rh(9,Sx.bind(null,y,w,A,c),void 0,null),Or===null)throw Error(s(349));30&ma||Ex(y,c,A)}return A}function Ex(h,c,y){h.flags|=16384,h={getSnapshot:c,value:y},(c=Zt.updateQueue)===null?(c={lastEffect:null,stores:null},Zt.updateQueue=c,c.stores=[h]):(y=c.stores)===null?c.stores=[h]:y.push(h)}function Sx(h,c,y,w){c.value=y,c.getSnapshot=w,Ax(c)&&Cx(h)}function Tx(h,c,y){return y(function(){Ax(c)&&Cx(h)})}function Ax(h){var c=h.getSnapshot;h=h.value;try{var y=c();return!pi(h,y)}catch{return!0}}function Cx(h){var c=zi(h,1);c!==null&&Jn(c,h,1,-1)}function Ix(h){var c=Gi();return typeof h=="function"&&(h=h()),c.memoizedState=c.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:th,lastRenderedState:h},c.queue=h,h=h.dispatch=$M.bind(null,Zt,h),[c.memoizedState,h]}function rh(h,c,y,w){return h={tag:h,create:c,destroy:y,deps:w,next:null},(c=Zt.updateQueue)===null?(c={lastEffect:null,stores:null},Zt.updateQueue=c,c.lastEffect=h.next=h):(y=c.lastEffect)===null?c.lastEffect=h.next=h:(w=y.next,y.next=h,h.next=w,c.lastEffect=h),h}function Px(){return Zn().memoizedState}function cd(h,c,y,w){var A=Gi();Zt.flags|=h,A.memoizedState=rh(1|c,y,void 0,w===void 0?null:w)}function dd(h,c,y,w){var A=Zn();w=w===void 0?null:w;var P=void 0;if(Rr!==null){var z=Rr.memoizedState;if(P=z.destroy,w!==null&&Og(w,z.deps))return void(A.memoizedState=rh(c,y,P,w))}Zt.flags|=h,A.memoizedState=rh(1|c,y,P,w)}function Rx(h,c){return cd(8390656,8,h,c)}function Lg(h,c){return dd(2048,8,h,c)}function kx(h,c){return dd(4,2,h,c)}function Ox(h,c){return dd(4,4,h,c)}function Mx(h,c){return typeof c=="function"?(h=h(),c(h),function(){c(null)}):c!=null?(h=h(),c.current=h,function(){c.current=null}):void 0}function Bx(h,c,y){return y=y!=null?y.concat([h]):null,dd(4,4,Mx.bind(null,c,h),y)}function Fg(){}function Nx(h,c){var y=Zn();c=c===void 0?null:c;var w=y.memoizedState;return w!==null&&c!==null&&Og(c,w[1])?w[0]:(y.memoizedState=[h,c],h)}function Dx(h,c){var y=Zn();c=c===void 0?null:c;var w=y.memoizedState;return w!==null&&c!==null&&Og(c,w[1])?w[0]:(h=h(),y.memoizedState=[h,c],h)}function Lx(h,c,y){return 21&ma?(pi(y,c)||(y=Qw(),Zt.lanes|=y,ga|=y,h.baseState=!0),c):(h.baseState&&(h.baseState=!1,_n=!0),h.memoizedState=y)}function UM(h,c){var y=wt;wt=y!==0&&4>y?y:4,h(!0);var w=kg.transition;kg.transition={};try{h(!1),c()}finally{wt=y,kg.transition=w}}function Fx(){return Zn().memoizedState}function jM(h,c,y){var w=_o(h);y={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null},Ux(h)?jx(c,y):(y=lx(h,c,y,w))!==null&&(Jn(y,h,w,Jr()),$x(y,c,w))}function $M(h,c,y){var w=_o(h),A={lane:w,action:y,hasEagerState:!1,eagerState:null,next:null};if(Ux(h))jx(c,A);else{var P=h.alternate;if(h.lanes===0&&(P===null||P.lanes===0)&&(P=c.lastRenderedReducer)!==null)try{var z=c.lastRenderedState,ne=P(z,y);if(A.hasEagerState=!0,A.eagerState=ne,pi(ne,z)){var fe=c.interleaved;return fe===null?(A.next=A,Eg(c)):(A.next=fe.next,fe.next=A),void(c.interleaved=A)}}catch{}(y=lx(h,c,A,w))!==null&&(Jn(y,h,w,A=Jr()),$x(y,c,w))}}function Ux(h){var c=h.alternate;return h===Zt||c!==null&&c===Zt}function jx(h,c){Ju=hd=!0;var y=h.pending;y===null?c.next=c:(c.next=y.next,y.next=c),h.pending=c}function $x(h,c,y){if(4194240&y){var w=c.lanes;y|=w&=h.pendingLanes,c.lanes=y,hg(h,y)}}var fd={readContext:Kn,useCallback:Qr,useContext:Qr,useEffect:Qr,useImperativeHandle:Qr,useInsertionEffect:Qr,useLayoutEffect:Qr,useMemo:Qr,useReducer:Qr,useRef:Qr,useState:Qr,useDebugValue:Qr,useDeferredValue:Qr,useTransition:Qr,useMutableSource:Qr,useSyncExternalStore:Qr,useId:Qr,unstable_isNewReconciler:!1},zM={readContext:Kn,useCallback:function(h,c){return Gi().memoizedState=[h,c===void 0?null:c],h},useContext:Kn,useEffect:Rx,useImperativeHandle:function(h,c,y){return y=y!=null?y.concat([h]):null,cd(4194308,4,Mx.bind(null,c,h),y)},useLayoutEffect:function(h,c){return cd(4194308,4,h,c)},useInsertionEffect:function(h,c){return cd(4,2,h,c)},useMemo:function(h,c){var y=Gi();return c=c===void 0?null:c,h=h(),y.memoizedState=[h,c],h},useReducer:function(h,c,y){var w=Gi();return c=y!==void 0?y(c):c,w.memoizedState=w.baseState=c,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:c},w.queue=h,h=h.dispatch=jM.bind(null,Zt,h),[w.memoizedState,h]},useRef:function(h){return h={current:h},Gi().memoizedState=h},useState:Ix,useDebugValue:Fg,useDeferredValue:function(h){return Gi().memoizedState=h},useTransition:function(){var h=Ix(!1),c=h[0];return h=UM.bind(null,h[1]),Gi().memoizedState=h,[c,h]},useMutableSource:function(){},useSyncExternalStore:function(h,c,y){var w=Zt,A=Gi();if(zt){if(y===void 0)throw Error(s(407));y=y()}else{if(y=c(),Or===null)throw Error(s(349));30&ma||Ex(w,c,y)}A.memoizedState=y;var P={value:y,getSnapshot:c};return A.queue=P,Rx(Tx.bind(null,w,P,h),[h]),w.flags|=2048,rh(9,Sx.bind(null,w,P,y,c),void 0,null),y},useId:function(){var h=Gi(),c=Or.identifierPrefix;if(zt){var y=As;c=":"+c+"R"+(y=($i&~(1<<32-fi($i)-1)).toString(32)+y),0<(y=eh++)&&(c+="H"+y.toString(32)),c+=":"}else c=":"+c+"r"+(y=FM++).toString(32)+":";return h.memoizedState=c},unstable_isNewReconciler:!1},HM={readContext:Kn,useCallback:Nx,useContext:Kn,useEffect:Lg,useImperativeHandle:Bx,useInsertionEffect:kx,useLayoutEffect:Ox,useMemo:Dx,useReducer:Ng,useRef:Px,useState:function(){return Ng(th)},useDebugValue:Fg,useDeferredValue:function(h){return Lx(Zn(),Rr.memoizedState,h)},useTransition:function(){return[Ng(th)[0],Zn().memoizedState]},useMutableSource:bx,useSyncExternalStore:xx,useId:Fx,unstable_isNewReconciler:!1},GM={readContext:Kn,useCallback:Nx,useContext:Kn,useEffect:Lg,useImperativeHandle:Bx,useInsertionEffect:kx,useLayoutEffect:Ox,useMemo:Dx,useReducer:Dg,useRef:Px,useState:function(){return Dg(th)},useDebugValue:Fg,useDeferredValue:function(h){var c=Zn();return Rr===null?c.memoizedState=h:Lx(c,Rr.memoizedState,h)},useTransition:function(){return[Dg(th)[0],Zn().memoizedState]},useMutableSource:bx,useSyncExternalStore:xx,useId:Fx,unstable_isNewReconciler:!1};function Cl(h,c){try{var y="",w=c;do y+=LM(w),w=w.return;while(w);var A=y}catch(P){A=`
Error generating stack: `+P.message+`
`+P.stack}return{value:h,source:c,stack:A,digest:null}}function Ug(h,c,y){return{value:h,source:null,stack:y??null,digest:c??null}}function jg(h,c){try{console.error(c.value)}catch(y){setTimeout(function(){throw y})}}var WM=typeof WeakMap=="function"?WeakMap:Map;function zx(h,c,y){(y=Cs(-1,y)).tag=3,y.payload={element:null};var w=c.value;return y.callback=function(){Cd||(Cd=!0,s0=w),jg(0,c)},y}function Hx(h,c,y){(y=Cs(-1,y)).tag=3;var w=h.type.getDerivedStateFromError;if(typeof w=="function"){var A=c.value;y.payload=function(){return w(A)},y.callback=function(){jg(0,c)}}var P=h.stateNode;return P!==null&&typeof P.componentDidCatch=="function"&&(y.callback=function(){jg(0,c),typeof w!="function"&&(yo===null?yo=new Set([this]):yo.add(this));var z=c.stack;this.componentDidCatch(c.value,{componentStack:z!==null?z:""})}),y}function Gx(h,c,y){var w=h.pingCache;if(w===null){w=h.pingCache=new WM;var A=new Set;w.set(c,A)}else(A=w.get(c))===void 0&&(A=new Set,w.set(c,A));A.has(y)||(A.add(y),h=eB.bind(null,h,c,y),c.then(h,h))}function Wx(h){do{var c;if((c=h.tag===13)&&(c=(c=h.memoizedState)===null||c.dehydrated!==null),c)return h;h=h.return}while(h!==null);return null}function Vx(h,c,y,w,A){return 1&h.mode?(h.flags|=65536,h.lanes=A,h):(h===c?h.flags|=65536:(h.flags|=128,y.flags|=131072,y.flags&=-52805,y.tag===1&&(y.alternate===null?y.tag=17:((c=Cs(-1,1)).tag=2,mo(y,c,1))),y.lanes|=1),h)}var VM=o.ReactCurrentOwner,_n=!1;function bn(h,c,y,w){c.child=h===null?vx(c,null,y,w):Sl(c,h.child,y,w)}function Xx(h,c,y,w,A){y=y.render;var P=c.ref;return El(c,A),w=Mg(h,c,y,w,P,A),y=Bg(),h===null||_n?(zt&&y&&pg(c),c.flags|=1,bn(h,c,w,A),c.child):(c.updateQueue=h.updateQueue,c.flags&=-2053,h.lanes&=~A,Is(h,c,A))}function qx(h,c,y,w,A){if(h===null){var P=y.type;return typeof P!="function"||c0(P)||P.defaultProps!==void 0||y.compare!==null||y.defaultProps!==void 0?((h=Md(y.type,null,w,c,c.mode,A)).ref=c.ref,h.return=c,c.child=h):(c.tag=15,c.type=P,Yx(h,c,P,w,A))}if(P=h.child,(h.lanes&A)==0){var z=P.memoizedProps;if((y=(y=y.compare)!==null?y:td)(z,w)&&h.ref===c.ref)return Is(h,c,A)}return c.flags|=1,(h=wo(P,w)).ref=c.ref,h.return=c,c.child=h}function Yx(h,c,y,w,A){if(h!==null){var P=h.memoizedProps;if(td(P,w)&&h.ref===c.ref){if(_n=!1,c.pendingProps=w=P,(h.lanes&A)==0)return c.lanes=h.lanes,Is(h,c,A);131072&h.flags&&(_n=!0)}}return $g(h,c,y,w,A)}function Kx(h,c,y){var w=c.pendingProps,A=w.children,P=h!==null?h.memoizedState:null;if(w.mode==="hidden")if(!(1&c.mode))c.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(Pl,Bn),Bn|=y;else{if(!(1073741824&y))return h=P!==null?P.baseLanes|y:y,c.lanes=c.childLanes=1073741824,c.memoizedState={baseLanes:h,cachePool:null,transitions:null},c.updateQueue=null,Ot(Pl,Bn),Bn|=h,null;c.memoizedState={baseLanes:0,cachePool:null,transitions:null},w=P!==null?P.baseLanes:y,Ot(Pl,Bn),Bn|=w}else P!==null?(w=P.baseLanes|y,c.memoizedState=null):w=y,Ot(Pl,Bn),Bn|=w;return bn(h,c,A,y),c.child}function Qx(h,c){var y=c.ref;(h===null&&y!==null||h!==null&&h.ref!==y)&&(c.flags|=512,c.flags|=2097152)}function $g(h,c,y,w,A){var P=On(y)?ca:Kr.current;return P=vl(c,P),El(c,A),y=Mg(h,c,y,w,P,A),w=Bg(),h===null||_n?(zt&&w&&pg(c),c.flags|=1,bn(h,c,y,A),c.child):(c.updateQueue=h.updateQueue,c.flags&=-2053,h.lanes&=~A,Is(h,c,A))}function Zx(h,c,y,w,A){if(On(y)){var P=!0;qc(c)}else P=!1;if(El(c,A),c.stateNode===null)yd(h,c),px(c,y,w),Ag(c,y,w,A),w=!0;else if(h===null){var z=c.stateNode,ne=c.memoizedProps;z.props=ne;var fe=z.context,we=y.contextType;typeof we=="object"&&we!==null?we=Kn(we):we=vl(c,we=On(y)?ca:Kr.current);var Re=y.getDerivedStateFromProps,Ge=typeof Re=="function"||typeof z.getSnapshotBeforeUpdate=="function";Ge||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(ne!==w||fe!==we)&&mx(c,z,w,we),po=!1;var Ae=c.memoizedState;z.state=Ae,sd(c,w,z,A),fe=c.memoizedState,ne!==w||Ae!==fe||vn.current||po?(typeof Re=="function"&&(Tg(c,y,Re,w),fe=c.memoizedState),(ne=po||fx(c,y,ne,w,Ae,fe,we))?(Ge||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(c.flags|=4194308)):(typeof z.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=w,c.memoizedState=fe),z.props=w,z.state=fe,z.context=we,w=ne):(typeof z.componentDidMount=="function"&&(c.flags|=4194308),w=!1)}else{z=c.stateNode,ux(h,c),ne=c.memoizedProps,we=c.type===c.elementType?ne:gi(c.type,ne),z.props=we,Ge=c.pendingProps,Ae=z.context,typeof(fe=y.contextType)=="object"&&fe!==null?fe=Kn(fe):fe=vl(c,fe=On(y)?ca:Kr.current);var je=y.getDerivedStateFromProps;(Re=typeof je=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(ne!==Ge||Ae!==fe)&&mx(c,z,w,fe),po=!1,Ae=c.memoizedState,z.state=Ae,sd(c,w,z,A);var Ze=c.memoizedState;ne!==Ge||Ae!==Ze||vn.current||po?(typeof je=="function"&&(Tg(c,y,je,w),Ze=c.memoizedState),(we=po||fx(c,y,we,w,Ae,Ze,fe)||!1)?(Re||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(w,Ze,fe),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(w,Ze,fe)),typeof z.componentDidUpdate=="function"&&(c.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof z.componentDidUpdate!="function"||ne===h.memoizedProps&&Ae===h.memoizedState||(c.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ne===h.memoizedProps&&Ae===h.memoizedState||(c.flags|=1024),c.memoizedProps=w,c.memoizedState=Ze),z.props=w,z.state=Ze,z.context=fe,w=we):(typeof z.componentDidUpdate!="function"||ne===h.memoizedProps&&Ae===h.memoizedState||(c.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ne===h.memoizedProps&&Ae===h.memoizedState||(c.flags|=1024),w=!1)}return zg(h,c,y,w,P,A)}function zg(h,c,y,w,A,P){Qx(h,c);var z=(128&c.flags)!=0;if(!w&&!z)return A&&Kw(c,y,!1),Is(h,c,P);w=c.stateNode,VM.current=c;var ne=z&&typeof y.getDerivedStateFromError!="function"?null:w.render();return c.flags|=1,h!==null&&z?(c.child=Sl(c,h.child,null,P),c.child=Sl(c,null,ne,P)):bn(h,c,ne,P),c.memoizedState=w.state,A&&Kw(c,y,!0),c.child}function Jx(h){var c=h.stateNode;c.pendingContext?qw(0,c.pendingContext,c.pendingContext!==c.context):c.context&&qw(0,c.context,!1),Cg(h,c.containerInfo)}function eE(h,c,y,w,A){return wl(),vg(A),c.flags|=256,bn(h,c,y,w),c.child}var nh,ih,pd,md,Hg={dehydrated:null,treeContext:null,retryLane:0};function Gg(h){return{baseLanes:h,cachePool:null,transitions:null}}function tE(h,c,y){var w,A=c.pendingProps,P=ar.current,z=!1,ne=(128&c.flags)!=0;if((w=ne)||(w=(h===null||h.memoizedState!==null)&&(2&P)!=0),w?(z=!0,c.flags&=-129):h!==null&&h.memoizedState===null||(P|=1),Ot(ar,1&P),h===null)return yg(c),(h=c.memoizedState)!==null&&(h=h.dehydrated)!==null?(1&c.mode?gl(h)?c.lanes=8:c.lanes=1073741824:c.lanes=1,null):(ne=A.children,h=A.fallback,z?(A=c.mode,z=c.child,ne={mode:"hidden",children:ne},!(1&A)&&z!==null?(z.childLanes=0,z.pendingProps=ne):z=Bd(ne,A,0,null),h=_a(h,A,y,null),z.return=c,h.return=c,z.sibling=h,c.child=z,c.child.memoizedState=Gg(y),c.memoizedState=Hg,h):Wg(c,ne));if((P=h.memoizedState)!==null&&(w=P.dehydrated)!==null)return function(we,Re,Ge,Ae,je,Ze,dt){if(Ge)return 256&Re.flags?(Re.flags&=-257,gd(we,Re,dt,Ae=Ug(Error(s(422))))):Re.memoizedState!==null?(Re.child=we.child,Re.flags|=128,null):(Ze=Ae.fallback,je=Re.mode,Ae=Bd({mode:"visible",children:Ae.children},je,0,null),(Ze=_a(Ze,je,dt,null)).flags|=2,Ae.return=Re,Ze.return=Re,Ae.sibling=Ze,Re.child=Ae,1&Re.mode&&Sl(Re,we.child,null,dt),Re.child.memoizedState=Gg(dt),Re.memoizedState=Hg,Ze);if(!(1&Re.mode))return gd(we,Re,dt,null);if(gl(je))return Ae=Vc(je).digest,Ze=Error(s(419)),Ae=Ug(Ze,Ae,void 0),gd(we,Re,dt,Ae);if(Ge=(dt&we.childLanes)!=0,_n||Ge){if((Ae=Or)!==null){switch(dt&-dt){case 4:je=2;break;case 16:je=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:je=32;break;case 536870912:je=268435456;break;default:je=0}(je=je&(Ae.suspendedLanes|dt)?0:je)!==0&&je!==Ze.retryLane&&(Ze.retryLane=je,zi(we,je),Jn(Ae,we,je,-1))}return h0(),gd(we,Re,dt,Ae=Ug(Error(s(421))))}return di(je)?(Re.flags|=128,Re.child=we.child,Re=tB.bind(null,we),fM(je,Re),null):(we=Ze.treeContext,ye&&(Yn=gM(je),Mn=Re,zt=!0,mi=null,Yu=!1,we!==null&&(Xn[qn++]=$i,Xn[qn++]=As,Xn[qn++]=da,$i=we.id,As=we.overflow,da=Re)),Re=Wg(Re,Ae.children),Re.flags|=4096,Re)}(h,c,ne,A,w,P,y);if(z){z=A.fallback,ne=c.mode,w=(P=h.child).sibling;var fe={mode:"hidden",children:A.children};return!(1&ne)&&c.child!==P?((A=c.child).childLanes=0,A.pendingProps=fe,c.deletions=null):(A=wo(P,fe)).subtreeFlags=14680064&P.subtreeFlags,w!==null?z=wo(w,z):(z=_a(z,ne,y,null)).flags|=2,z.return=c,A.return=c,A.sibling=z,c.child=A,A=z,z=c.child,ne=(ne=h.child.memoizedState)===null?Gg(y):{baseLanes:ne.baseLanes|y,cachePool:null,transitions:ne.transitions},z.memoizedState=ne,z.childLanes=h.childLanes&~y,c.memoizedState=Hg,A}return h=(z=h.child).sibling,A=wo(z,{mode:"visible",children:A.children}),!(1&c.mode)&&(A.lanes=y),A.return=c,A.sibling=null,h!==null&&((y=c.deletions)===null?(c.deletions=[h],c.flags|=16):y.push(h)),c.child=A,c.memoizedState=null,A}function Wg(h,c){return(c=Bd({mode:"visible",children:c},h.mode,0,null)).return=h,h.child=c}function gd(h,c,y,w){return w!==null&&vg(w),Sl(c,h.child,null,y),(h=Wg(c,c.pendingProps.children)).flags|=2,c.memoizedState=null,h}function rE(h,c,y){h.lanes|=c;var w=h.alternate;w!==null&&(w.lanes|=c),xg(h.return,c,y)}function Vg(h,c,y,w,A){var P=h.memoizedState;P===null?h.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:w,tail:y,tailMode:A}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=w,P.tail=y,P.tailMode=A)}function nE(h,c,y){var w=c.pendingProps,A=w.revealOrder,P=w.tail;if(bn(h,c,w.children,y),(2&(w=ar.current))!=0)w=1&w|2,c.flags|=128;else{if(h!==null&&128&h.flags)e:for(h=c.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&rE(h,y,c);else if(h.tag===19)rE(h,y,c);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}w&=1}if(Ot(ar,w),(1&c.mode)==0)c.memoizedState=null;else switch(A){case"forwards":for(y=c.child,A=null;y!==null;)(h=y.alternate)!==null&&ld(h)===null&&(A=y),y=y.sibling;(y=A)===null?(A=c.child,c.child=null):(A=y.sibling,y.sibling=null),Vg(c,!1,A,y,P);break;case"backwards":for(y=null,A=c.child,c.child=null;A!==null;){if((h=A.alternate)!==null&&ld(h)===null){c.child=A;break}h=A.sibling,A.sibling=y,y=A,A=h}Vg(c,!0,y,null,P);break;case"together":Vg(c,!1,null,null,void 0);break;default:c.memoizedState=null}return c.child}function yd(h,c){!(1&c.mode)&&h!==null&&(h.alternate=null,c.alternate=null,c.flags|=2)}function Is(h,c,y){if(h!==null&&(c.dependencies=h.dependencies),ga|=c.lanes,(y&c.childLanes)==0)return null;if(h!==null&&c.child!==h.child)throw Error(s(153));if(c.child!==null){for(y=wo(h=c.child,h.pendingProps),c.child=y,y.return=c;h.sibling!==null;)h=h.sibling,(y=y.sibling=wo(h,h.pendingProps)).return=c;y.sibling=null}return c.child}function Wi(h){h.flags|=4}function iE(h,c){if(h!==null&&h.child===c.child)return!0;if(16&c.flags)return!1;for(h=c.child;h!==null;){if(12854&h.flags||12854&h.subtreeFlags)return!1;h=h.sibling}return!0}if(ue)nh=function(h,c){for(var y=c.child;y!==null;){if(y.tag===5||y.tag===6)N(h,y.stateNode);else if(y.tag!==4&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===c)break;for(;y.sibling===null;){if(y.return===null||y.return===c)return;y=y.return}y.sibling.return=y.return,y=y.sibling}},ih=function(){},pd=function(h,c,y,w,A){if((h=h.memoizedProps)!==w){var P=c.stateNode,z=Hi(Qn.current);y=pe(P,y,h,w,A,z),(c.updateQueue=y)&&Wi(c)}},md=function(h,c,y,w){y!==w&&Wi(c)};else if(he){nh=function(h,c,y,w){for(var A=c.child;A!==null;){if(A.tag===5){var P=A.stateNode;y&&w&&(P=Dt(P,A.type,A.memoizedProps,A)),N(h,P)}else if(A.tag===6)P=A.stateNode,y&&w&&(P=Ur(P,A.memoizedProps,A)),N(h,P);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)(P=A.child)!==null&&(P.return=A),nh(h,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===c)break;for(;A.sibling===null;){if(A.return===null||A.return===c)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};var sE=function(h,c,y,w){for(var A=c.child;A!==null;){if(A.tag===5){var P=A.stateNode;y&&w&&(P=Dt(P,A.type,A.memoizedProps,A)),jt(h,P)}else if(A.tag===6)P=A.stateNode,y&&w&&(P=Ur(P,A.memoizedProps,A)),jt(h,P);else if(A.tag!==4){if(A.tag===22&&A.memoizedState!==null)(P=A.child)!==null&&(P.return=A),sE(h,A,!0,!0);else if(A.child!==null){A.child.return=A,A=A.child;continue}}if(A===c)break;for(;A.sibling===null;){if(A.return===null||A.return===c)return;A=A.return}A.sibling.return=A.return,A=A.sibling}};ih=function(h,c){var y=c.stateNode;if(!iE(h,c)){h=y.containerInfo;var w=Qt(h);sE(w,c,!1,!1),y.pendingChildren=w,Wi(c),Ir(h,w)}},pd=function(h,c,y,w,A){var P=h.stateNode,z=h.memoizedProps;if((h=iE(h,c))&&z===w)c.stateNode=P;else{var ne=c.stateNode,fe=Hi(Qn.current),we=null;z!==w&&(we=pe(ne,y,z,w,A,fe)),h&&we===null?c.stateNode=P:(P=or(P,we,y,z,w,c,h,ne),ie(P,y,w,A,fe)&&Wi(c),c.stateNode=P,h?Wi(c):nh(P,c,!1,!1))}},md=function(h,c,y,w){y!==w?(h=Hi(Tl.current),y=Hi(Qn.current),c.stateNode=ge(w,h,y,c),Wi(c)):c.stateNode=h.stateNode}}else ih=function(){},pd=function(){},md=function(){};function sh(h,c){if(!zt)switch(h.tailMode){case"hidden":c=h.tail;for(var y=null;c!==null;)c.alternate!==null&&(y=c),c=c.sibling;y===null?h.tail=null:y.sibling=null;break;case"collapsed":y=h.tail;for(var w=null;y!==null;)y.alternate!==null&&(w=y),y=y.sibling;w===null?c||h.tail===null?h.tail=null:h.tail.sibling=null:w.sibling=null}}function un(h){var c=h.alternate!==null&&h.alternate.child===h.child,y=0,w=0;if(c)for(var A=h.child;A!==null;)y|=A.lanes|A.childLanes,w|=14680064&A.subtreeFlags,w|=14680064&A.flags,A.return=h,A=A.sibling;else for(A=h.child;A!==null;)y|=A.lanes|A.childLanes,w|=A.subtreeFlags,w|=A.flags,A.return=h,A=A.sibling;return h.subtreeFlags|=w,h.childLanes=y,c}function XM(h,c,y){var w=c.pendingProps;switch(mg(c),c.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return un(c),null;case 1:case 17:return On(c.type)&&sg(),un(c),null;case 3:return y=c.stateNode,Al(),$t(vn),$t(Kr),Rg(),y.pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),h!==null&&h.child!==null||(ed(c)?Wi(c):h===null||h.memoizedState.isDehydrated&&!(256&c.flags)||(c.flags|=1024,mi!==null&&(l0(mi),mi=null))),ih(h,c),un(c),null;case 5:Ig(c),y=Hi(Tl.current);var A=c.type;if(h!==null&&c.stateNode!=null)pd(h,c,A,w,y),h.ref!==c.ref&&(c.flags|=512,c.flags|=2097152);else{if(!w){if(c.stateNode===null)throw Error(s(166));return un(c),null}if(h=Hi(Qn.current),ed(c)){if(!ye)throw Error(s(175));h=yM(c.stateNode,c.type,c.memoizedProps,y,h,c,!Yu),c.updateQueue=h,h!==null&&Wi(c)}else{var P=te(A,w,y,h,c);nh(P,c,!1,!1),c.stateNode=P,ie(P,A,w,y,h)&&Wi(c)}c.ref!==null&&(c.flags|=512,c.flags|=2097152)}return un(c),null;case 6:if(h&&c.stateNode!=null)md(h,c,h.memoizedProps,w);else{if(typeof w!="string"&&c.stateNode===null)throw Error(s(166));if(h=Hi(Tl.current),y=Hi(Qn.current),ed(c)){if(!ye)throw Error(s(176));if(h=c.stateNode,y=c.memoizedProps,(w=vM(h,y,c,!Yu))&&(A=Mn)!==null)switch(A.tag){case 3:AM(A.stateNode.containerInfo,h,y,(1&A.mode)!=0);break;case 5:CM(A.type,A.memoizedProps,A.stateNode,h,y,(1&A.mode)!=0)}w&&Wi(c)}else c.stateNode=ge(w,h,y,c)}return un(c),null;case 13:if($t(ar),w=c.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(zt&&Yn!==null&&1&c.mode&&!(128&c.flags))ox(),wl(),c.flags|=98560,A=!1;else if(A=ed(c),w!==null&&w.dehydrated!==null){if(h===null){if(!A)throw Error(s(318));if(!ye)throw Error(s(344));if(!(A=(A=c.memoizedState)!==null?A.dehydrated:null))throw Error(s(317));_M(A,c)}else wl(),!(128&c.flags)&&(c.memoizedState=null),c.flags|=4;un(c),A=!1}else mi!==null&&(l0(mi),mi=null),A=!0;if(!A)return 65536&c.flags?c:null}return 128&c.flags?(c.lanes=y,c):((y=w!==null)!=(h!==null&&h.memoizedState!==null)&&y&&(c.child.flags|=8192,1&c.mode&&(h===null||1&ar.current?br===0&&(br=3):h0())),c.updateQueue!==null&&(c.flags|=4),un(c),null);case 4:return Al(),ih(h,c),h===null&&G(c.stateNode.containerInfo),un(c),null;case 10:return wg(c.type._context),un(c),null;case 19:if($t(ar),(A=c.memoizedState)===null)return un(c),null;if(w=(128&c.flags)!=0,(P=A.rendering)===null)if(w)sh(A,!1);else{if(br!==0||h!==null&&128&h.flags)for(h=c.child;h!==null;){if((P=ld(h))!==null){for(c.flags|=128,sh(A,!1),(h=P.updateQueue)!==null&&(c.updateQueue=h,c.flags|=4),c.subtreeFlags=0,h=y,y=c.child;y!==null;)A=h,(w=y).flags&=14680066,(P=w.alternate)===null?(w.childLanes=0,w.lanes=A,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=P.childLanes,w.lanes=P.lanes,w.child=P.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=P.memoizedProps,w.memoizedState=P.memoizedState,w.updateQueue=P.updateQueue,w.type=P.type,A=P.dependencies,w.dependencies=A===null?null:{lanes:A.lanes,firstContext:A.firstContext}),y=y.sibling;return Ot(ar,1&ar.current|2),c.child}h=h.sibling}A.tail!==null&&Pr()>i0&&(c.flags|=128,w=!0,sh(A,!1),c.lanes=4194304)}else{if(!w)if((h=ld(P))!==null){if(c.flags|=128,w=!0,(h=h.updateQueue)!==null&&(c.updateQueue=h,c.flags|=4),sh(A,!0),A.tail===null&&A.tailMode==="hidden"&&!P.alternate&&!zt)return un(c),null}else 2*Pr()-A.renderingStartTime>i0&&y!==1073741824&&(c.flags|=128,w=!0,sh(A,!1),c.lanes=4194304);A.isBackwards?(P.sibling=c.child,c.child=P):((h=A.last)!==null?h.sibling=P:c.child=P,A.last=P)}return A.tail!==null?(c=A.tail,A.rendering=c,A.tail=c.sibling,A.renderingStartTime=Pr(),c.sibling=null,h=ar.current,Ot(ar,w?1&h|2:1&h),c):(un(c),null);case 22:case 23:return u0(),y=c.memoizedState!==null,h!==null&&h.memoizedState!==null!==y&&(c.flags|=8192),y&&1&c.mode?1073741824&Bn&&(un(c),ue&&6&c.subtreeFlags&&(c.flags|=8192)):un(c),null;case 24:case 25:return null}throw Error(s(156,c.tag))}function qM(h,c){switch(mg(c),c.tag){case 1:return On(c.type)&&sg(),65536&(h=c.flags)?(c.flags=-65537&h|128,c):null;case 3:return Al(),$t(vn),$t(Kr),Rg(),65536&(h=c.flags)&&!(128&h)?(c.flags=-65537&h|128,c):null;case 5:return Ig(c),null;case 13:if($t(ar),(h=c.memoizedState)!==null&&h.dehydrated!==null){if(c.alternate===null)throw Error(s(340));wl()}return 65536&(h=c.flags)?(c.flags=-65537&h|128,c):null;case 19:return $t(ar),null;case 4:return Al(),null;case 10:return wg(c.type._context),null;case 22:case 23:return u0(),null;default:return null}}var vd=!1,Zr=!1,YM=typeof WeakSet=="function"?WeakSet:Set,Ye=null;function Il(h,c){var y=h.ref;if(y!==null)if(typeof y=="function")try{y(null)}catch(w){Ht(h,c,w)}else y.current=null}function oE(h,c,y){try{y()}catch(w){Ht(h,c,w)}}var aE=!1;function oh(h,c,y){var w=c.updateQueue;if((w=w!==null?w.lastEffect:null)!==null){var A=w=w.next;do{if((A.tag&h)===h){var P=A.destroy;A.destroy=void 0,P!==void 0&&oE(c,y,P)}A=A.next}while(A!==w)}}function _d(h,c){if((c=(c=c.updateQueue)!==null?c.lastEffect:null)!==null){var y=c=c.next;do{if((y.tag&h)===h){var w=y.create;y.destroy=w()}y=y.next}while(y!==c)}}function Xg(h){var c=h.ref;if(c!==null){var y=h.stateNode;h.tag===5?h=de(y):h=y,typeof c=="function"?c(h):c.current=h}}function lE(h){var c=h.alternate;c!==null&&(h.alternate=null,lE(c)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(c=h.stateNode)!==null&&re(c),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function uE(h){return h.tag===5||h.tag===3||h.tag===4}function hE(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||uE(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(2&h.flags||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(2&h.flags))return h.stateNode}}function qg(h,c,y){var w=h.tag;if(w===5||w===6)h=h.stateNode,c?Oe(y,h,c):j(y,h);else if(w!==4&&(h=h.child)!==null)for(qg(h,c,y),h=h.sibling;h!==null;)qg(h,c,y),h=h.sibling}function Yg(h,c,y){var w=h.tag;if(w===5||w===6)h=h.stateNode,c?ce(y,h,c):T(y,h);else if(w!==4&&(h=h.child)!==null)for(Yg(h,c,y),h=h.sibling;h!==null;)Yg(h,c,y),h=h.sibling}var hn=null,Vi=!1;function Xi(h,c,y){for(y=y.child;y!==null;)Kg(h,c,y),y=y.sibling}function Kg(h,c,y){if(Ui&&typeof Ui.onCommitFiberUnmount=="function")try{Ui.onCommitFiberUnmount(Kc,y)}catch{}switch(y.tag){case 5:Zr||Il(y,c);case 6:if(ue){var w=hn,A=Vi;hn=null,Xi(h,c,y),Vi=A,(hn=w)!==null&&(Vi?Ne(hn,y.stateNode):Se(hn,y.stateNode))}else Xi(h,c,y);break;case 18:ue&&hn!==null&&(Vi?SM(hn,y.stateNode):EM(hn,y.stateNode));break;case 4:ue?(w=hn,A=Vi,hn=y.stateNode.containerInfo,Vi=!0,Xi(h,c,y),hn=w,Vi=A):(he&&(w=y.stateNode.containerInfo,A=Qt(w),lt(w,A)),Xi(h,c,y));break;case 0:case 11:case 14:case 15:if(!Zr&&(w=y.updateQueue)!==null&&(w=w.lastEffect)!==null){A=w=w.next;do{var P=A,z=P.destroy;P=P.tag,z!==void 0&&(2&P||4&P)&&oE(y,c,z),A=A.next}while(A!==w)}Xi(h,c,y);break;case 1:if(!Zr&&(Il(y,c),typeof(w=y.stateNode).componentWillUnmount=="function"))try{w.props=y.memoizedProps,w.state=y.memoizedState,w.componentWillUnmount()}catch(ne){Ht(y,c,ne)}Xi(h,c,y);break;case 21:Xi(h,c,y);break;case 22:1&y.mode?(Zr=(w=Zr)||y.memoizedState!==null,Xi(h,c,y),Zr=w):Xi(h,c,y);break;default:Xi(h,c,y)}}function cE(h){var c=h.updateQueue;if(c!==null){h.updateQueue=null;var y=h.stateNode;y===null&&(y=h.stateNode=new YM),c.forEach(function(w){var A=rB.bind(null,h,w);y.has(w)||(y.add(w),w.then(A,A))})}}function yi(h,c){var y=c.deletions;if(y!==null)for(var w=0;w<y.length;w++){var A=y[w];try{var P=h,z=c;if(ue){var ne=z;e:for(;ne!==null;){switch(ne.tag){case 5:hn=ne.stateNode,Vi=!1;break e;case 3:case 4:hn=ne.stateNode.containerInfo,Vi=!0;break e}ne=ne.return}if(hn===null)throw Error(s(160));Kg(P,z,A),hn=null,Vi=!1}else Kg(P,z,A);var fe=A.alternate;fe!==null&&(fe.return=null),A.return=null}catch(we){Ht(A,c,we)}}if(12854&c.subtreeFlags)for(c=c.child;c!==null;)dE(c,h),c=c.sibling}function dE(h,c){var y=h.alternate,w=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(yi(c,h),qi(h),4&w){try{oh(3,h,h.return),_d(3,h)}catch(Ae){Ht(h,h.return,Ae)}try{oh(5,h,h.return)}catch(Ae){Ht(h,h.return,Ae)}}break;case 1:yi(c,h),qi(h),512&w&&y!==null&&Il(y,y.return);break;case 5:if(yi(c,h),qi(h),512&w&&y!==null&&Il(y,y.return),ue){if(32&h.flags){var A=h.stateNode;try{Ve(A)}catch(Ae){Ht(h,h.return,Ae)}}if(4&w&&(A=h.stateNode)!=null){var P=h.memoizedProps;if(y=y!==null?y.memoizedProps:P,w=h.type,c=h.updateQueue,h.updateQueue=null,c!==null)try{X(A,c,w,y,P,h)}catch(Ae){Ht(h,h.return,Ae)}}}break;case 6:if(yi(c,h),qi(h),4&w&&ue){if(h.stateNode===null)throw Error(s(162));A=h.stateNode,P=h.memoizedProps,y=y!==null?y.memoizedProps:P;try{V(A,y,P)}catch(Ae){Ht(h,h.return,Ae)}}break;case 3:if(yi(c,h),qi(h),4&w){if(ue&&ye&&y!==null&&y.memoizedState.isDehydrated)try{wM(c.containerInfo)}catch(Ae){Ht(h,h.return,Ae)}if(he){A=c.containerInfo,P=c.pendingChildren;try{lt(A,P)}catch(Ae){Ht(h,h.return,Ae)}}}break;case 4:if(yi(c,h),qi(h),4&w&&he){A=(P=h.stateNode).containerInfo,P=P.pendingChildren;try{lt(A,P)}catch(Ae){Ht(h,h.return,Ae)}}break;case 13:yi(c,h),qi(h),8192&(A=h.child).flags&&(P=A.memoizedState!==null,A.stateNode.isHidden=P,!P||A.alternate!==null&&A.alternate.memoizedState!==null||(n0=Pr())),4&w&&cE(h);break;case 22:var z=y!==null&&y.memoizedState!==null;if(1&h.mode?(Zr=(y=Zr)||z,yi(c,h),Zr=y):yi(c,h),qi(h),8192&w){if(y=h.memoizedState!==null,(h.stateNode.isHidden=y)&&!z&&(1&h.mode)!=0)for(Ye=h,w=h.child;w!==null;){for(c=Ye=w;Ye!==null;){var ne=(z=Ye).child;switch(z.tag){case 0:case 11:case 14:case 15:oh(4,z,z.return);break;case 1:Il(z,z.return);var fe=z.stateNode;if(typeof fe.componentWillUnmount=="function"){var we=z,Re=z.return;try{var Ge=we;fe.props=Ge.memoizedProps,fe.state=Ge.memoizedState,fe.componentWillUnmount()}catch(Ae){Ht(we,Re,Ae)}}break;case 5:Il(z,z.return);break;case 22:if(z.memoizedState!==null){mE(c);continue}}ne!==null?(ne.return=z,Ye=ne):mE(c)}w=w.sibling}if(ue){e:if(w=null,ue)for(c=h;;){if(c.tag===5){if(w===null){w=c;try{A=c.stateNode,y?st(A):qr(c.stateNode,c.memoizedProps)}catch(Ae){Ht(h,h.return,Ae)}}}else if(c.tag===6){if(w===null)try{P=c.stateNode,y?Kt(P):Ct(P,c.memoizedProps)}catch(Ae){Ht(h,h.return,Ae)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===h)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;w===c&&(w=null),c=c.return}w===c&&(w=null),c.sibling.return=c.return,c=c.sibling}}}break;case 19:yi(c,h),qi(h),4&w&&cE(h);break;case 21:break;default:yi(c,h),qi(h)}}function qi(h){var c=h.flags;if(2&c){try{if(ue){e:{for(var y=h.return;y!==null;){if(uE(y)){var w=y;break e}y=y.return}throw Error(s(160))}switch(w.tag){case 5:var A=w.stateNode;32&w.flags&&(Ve(A),w.flags&=-33),Yg(h,hE(h),A);break;case 3:case 4:var P=w.stateNode.containerInfo;qg(h,hE(h),P);break;default:throw Error(s(161))}}}catch(z){Ht(h,h.return,z)}h.flags&=-3}4096&c&&(h.flags&=-4097)}function KM(h,c,y){Ye=h,fE(h)}function fE(h,c,y){for(var w=(1&h.mode)!=0;Ye!==null;){var A=Ye,P=A.child;if(A.tag===22&&w){var z=A.memoizedState!==null||vd;if(!z){var ne=A.alternate,fe=ne!==null&&ne.memoizedState!==null||Zr;ne=vd;var we=Zr;if(vd=z,(Zr=fe)&&!we)for(Ye=A;Ye!==null;)fe=(z=Ye).child,z.tag===22&&z.memoizedState!==null?gE(A):fe!==null?(fe.return=z,Ye=fe):gE(A);for(;P!==null;)Ye=P,fE(P),P=P.sibling;Ye=A,vd=ne,Zr=we}pE(h)}else 8772&A.subtreeFlags&&P!==null?(P.return=A,Ye=P):pE(h)}}function pE(h){for(;Ye!==null;){var c=Ye;if(8772&c.flags){var y=c.alternate;try{if(8772&c.flags)switch(c.tag){case 0:case 11:case 15:Zr||_d(5,c);break;case 1:var w=c.stateNode;if(4&c.flags&&!Zr)if(y===null)w.componentDidMount();else{var A=c.elementType===c.type?y.memoizedProps:gi(c.type,y.memoizedProps);w.componentDidUpdate(A,y.memoizedState,w.__reactInternalSnapshotBeforeUpdate)}var P=c.updateQueue;P!==null&&cx(c,P,w);break;case 3:var z=c.updateQueue;if(z!==null){if(y=null,c.child!==null)switch(c.child.tag){case 5:y=de(c.child.stateNode);break;case 1:y=c.child.stateNode}cx(c,z,y)}break;case 5:var ne=c.stateNode;y===null&&4&c.flags&&L(ne,c.type,c.memoizedProps,c);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(ye&&c.memoizedState===null){var fe=c.alternate;if(fe!==null){var we=fe.memoizedState;if(we!==null){var Re=we.dehydrated;Re!==null&&xM(Re)}}}break;default:throw Error(s(163))}Zr||512&c.flags&&Xg(c)}catch(Ge){Ht(c,c.return,Ge)}}if(c===h){Ye=null;break}if((y=c.sibling)!==null){y.return=c.return,Ye=y;break}Ye=c.return}}function mE(h){for(;Ye!==null;){var c=Ye;if(c===h){Ye=null;break}var y=c.sibling;if(y!==null){y.return=c.return,Ye=y;break}Ye=c.return}}function gE(h){for(;Ye!==null;){var c=Ye;try{switch(c.tag){case 0:case 11:case 15:var y=c.return;try{_d(4,c)}catch(fe){Ht(c,y,fe)}break;case 1:var w=c.stateNode;if(typeof w.componentDidMount=="function"){var A=c.return;try{w.componentDidMount()}catch(fe){Ht(c,A,fe)}}var P=c.return;try{Xg(c)}catch(fe){Ht(c,P,fe)}break;case 5:var z=c.return;try{Xg(c)}catch(fe){Ht(c,z,fe)}}}catch(fe){Ht(c,c.return,fe)}if(c===h){Ye=null;break}var ne=c.sibling;if(ne!==null){ne.return=c.return,Ye=ne;break}Ye=c.return}}var bd=0,wd=1,xd=2,Ed=3,Sd=4;if(typeof Symbol=="function"&&Symbol.for){var ah=Symbol.for;bd=ah("selector.component"),wd=ah("selector.has_pseudo_class"),xd=ah("selector.role"),Ed=ah("selector.test_id"),Sd=ah("selector.text")}function Qg(h){var c=Ee(h);if(c!=null){if(typeof c.memoizedProps["data-testname"]!="string")throw Error(s(364));return c}if((h=me(h))===null)throw Error(s(362));return h.stateNode.current}function Zg(h,c){switch(c.$$typeof){case bd:if(h.type===c.value)return!0;break;case wd:e:{c=c.value,h=[h,0];for(var y=0;y<h.length;){var w=h[y++],A=h[y++],P=c[A];if(w.tag!==5||!Qe(w)){for(;P!=null&&Zg(w,P);)P=c[++A];if(A===c.length){c=!0;break e}for(w=w.child;w!==null;)h.push(w,A),w=w.sibling}}c=!1}return c;case xd:if(h.tag===5&&ft(h.stateNode,c.value))return!0;break;case Sd:if((h.tag===5||h.tag===6)&&(h=He(h))!==null&&0<=h.indexOf(c.value))return!0;break;case Ed:if(h.tag===5&&typeof(h=h.memoizedProps["data-testname"])=="string"&&h.toLowerCase()===c.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Jg(h){switch(h.$$typeof){case bd:return"<"+(k(h.value)||"Unknown")+">";case wd:return":has("+(Jg(h)||"")+")";case xd:return'[role="'+h.value+'"]';case Sd:return'"'+h.value+'"';case Ed:return'[data-testname="'+h.value+'"]';default:throw Error(s(365))}}function yE(h,c){var y=[];h=[h,0];for(var w=0;w<h.length;){var A=h[w++],P=h[w++],z=c[P];if(A.tag!==5||!Qe(A)){for(;z!=null&&Zg(A,z);)z=c[++P];if(P===c.length)y.push(A);else for(A=A.child;A!==null;)h.push(A,P),A=A.sibling}}return y}function e0(h,c){if(!Q)throw Error(s(363));h=yE(h=Qg(h),c),c=[],h=Array.from(h);for(var y=0;y<h.length;){var w=h[y++];if(w.tag===5)Qe(w)||c.push(w.stateNode);else for(w=w.child;w!==null;)h.push(w),w=w.sibling}return c}var QM=Math.ceil,Td=o.ReactCurrentDispatcher,t0=o.ReactCurrentOwner,cr=o.ReactCurrentBatchConfig,vt=0,Or=null,mr=null,jr=0,Bn=0,Pl=co(0),br=0,lh=null,ga=0,Ad=0,r0=0,uh=null,Nn=null,n0=0,i0=1/0,go=null;function Rl(){i0=Pr()+500}var vE,Cd=!1,s0=null,yo=null,Id=!1,vo=null,Pd=0,hh=0,o0=null,Rd=-1,kd=0;function Jr(){return 6&vt?Pr():Rd!==-1?Rd:Rd=Pr()}function _o(h){return 1&h.mode?2&vt&&jr!==0?jr&-jr:DM.transition!==null?(kd===0&&(kd=Qw()),kd):(h=wt)!==0?h:ee():1}function Jn(h,c,y,w){if(50<hh)throw hh=0,o0=null,Error(s(185));qu(h,y,w),2&vt&&h===Or||(h===Or&&(!(2&vt)&&(Ad|=y),br===4&&bo(h,jr)),wn(h,w),y===1&&vt===0&&!(1&c.mode)&&(Rl(),Qc&&ji()))}function wn(h,c){var y=h.callbackNode;(function(A,P){for(var z=A.suspendedLanes,ne=A.pingedLanes,fe=A.expirationTimes,we=A.pendingLanes;0<we;){var Re=31-fi(we),Ge=1<<Re,Ae=fe[Re];Ae===-1?Ge&z&&!(Ge&ne)||(fe[Re]=kM(Ge,P)):Ae<=P&&(A.expiredLanes|=Ge),we&=~Ge}})(h,c);var w=Yc(h,h===Or?jr:0);if(w===0)y!==null&&Jw(y),h.callbackNode=null,h.callbackPriority=0;else if(c=w&-w,h.callbackPriority!==c){if(y!=null&&Jw(y),c===1)h.tag===0?function(A){Qc=!0,tx(A)}(bE.bind(null,h)):tx(bE.bind(null,h)),xe?ve(function(){!(6&vt)&&ji()}):cg(dg,ji),y=null;else{switch(Zw(w)){case 1:y=dg;break;case 4:y=BM;break;case 16:default:y=ex;break;case 536870912:y=NM}y=IE(y,_E.bind(null,h))}h.callbackPriority=c,h.callbackNode=y}}function _E(h,c){if(Rd=-1,kd=0,(6&vt)!=0)throw Error(s(327));var y=h.callbackNode;if(va()&&h.callbackNode!==y)return null;var w=Yc(h,h===Or?jr:0);if(w===0)return null;if(30&w||w&h.expiredLanes||c)c=Od(h,w);else{c=w;var A=vt;vt|=2;var P=EE();for(Or===h&&jr===c||(go=null,Rl(),ya(h,c));;)try{JM();break}catch(ne){xE(h,ne)}bg(),Td.current=P,vt=A,mr!==null?c=0:(Or=null,jr=0,c=br)}if(c!==0){if(c===2&&(A=lg(h))!==0&&(w=A,c=a0(h,A)),c===1)throw y=lh,ya(h,0),bo(h,w),wn(h,Pr()),y;if(c===6)bo(h,w);else{if(A=h.current.alternate,(30&w)==0&&!function(ne){for(var fe=ne;;){if(16384&fe.flags){var we=fe.updateQueue;if(we!==null&&(we=we.stores)!==null)for(var Re=0;Re<we.length;Re++){var Ge=we[Re],Ae=Ge.getSnapshot;Ge=Ge.value;try{if(!pi(Ae(),Ge))return!1}catch{return!1}}}if(we=fe.child,16384&fe.subtreeFlags&&we!==null)we.return=fe,fe=we;else{if(fe===ne)break;for(;fe.sibling===null;){if(fe.return===null||fe.return===ne)return!0;fe=fe.return}fe.sibling.return=fe.return,fe=fe.sibling}}return!0}(A)&&((c=Od(h,w))===2&&(P=lg(h))!==0&&(w=P,c=a0(h,P)),c===1))throw y=lh,ya(h,0),bo(h,w),wn(h,Pr()),y;switch(h.finishedWork=A,h.finishedLanes=w,c){case 0:case 1:throw Error(s(345));case 2:case 5:kl(h,Nn,go);break;case 3:if(bo(h,w),(130023424&w)===w&&10<(c=n0+500-Pr())){if(Yc(h,0)!==0)break;if(((A=h.suspendedLanes)&w)!==w){Jr(),h.pingedLanes|=h.suspendedLanes&A;break}h.timeoutHandle=H(kl.bind(null,h,Nn,go),c);break}kl(h,Nn,go);break;case 4:if(bo(h,w),(4194240&w)===w)break;for(c=h.eventTimes,A=-1;0<w;){var z=31-fi(w);P=1<<z,(z=c[z])>A&&(A=z),w&=~P}if(w=A,10<(w=(120>(w=Pr()-w)?120:480>w?480:1080>w?1080:1920>w?1920:3e3>w?3e3:4320>w?4320:1960*QM(w/1960))-w)){h.timeoutHandle=H(kl.bind(null,h,Nn,go),w);break}kl(h,Nn,go);break;default:throw Error(s(329))}}}return wn(h,Pr()),h.callbackNode===y?_E.bind(null,h):null}function a0(h,c){var y=uh;return h.current.memoizedState.isDehydrated&&(ya(h,c).flags|=256),(h=Od(h,c))!==2&&(c=Nn,Nn=y,c!==null&&l0(c)),h}function l0(h){Nn===null?Nn=h:Nn.push.apply(Nn,h)}function bo(h,c){for(c&=~r0,c&=~Ad,h.suspendedLanes|=c,h.pingedLanes&=~c,h=h.expirationTimes;0<c;){var y=31-fi(c),w=1<<y;h[y]=-1,c&=~w}}function bE(h){if(6&vt)throw Error(s(327));va();var c=Yc(h,0);if(!(1&c))return wn(h,Pr()),null;var y=Od(h,c);if(h.tag!==0&&y===2){var w=lg(h);w!==0&&(c=w,y=a0(h,w))}if(y===1)throw y=lh,ya(h,0),bo(h,c),wn(h,Pr()),y;if(y===6)throw Error(s(345));return h.finishedWork=h.current.alternate,h.finishedLanes=c,kl(h,Nn,go),wn(h,Pr()),null}function wE(h){vo!==null&&vo.tag===0&&!(6&vt)&&va();var c=vt;vt|=1;var y=cr.transition,w=wt;try{if(cr.transition=null,wt=1,h)return h()}finally{wt=w,cr.transition=y,!(6&(vt=c))&&ji()}}function u0(){Bn=Pl.current,$t(Pl)}function ya(h,c){h.finishedWork=null,h.finishedLanes=0;var y=h.timeoutHandle;if(y!==le&&(h.timeoutHandle=le,U(y)),mr!==null)for(y=mr.return;y!==null;){var w=y;switch(mg(w),w.tag){case 1:(w=w.type.childContextTypes)!=null&&sg();break;case 3:Al(),$t(vn),$t(Kr),Rg();break;case 5:Ig(w);break;case 4:Al();break;case 13:case 19:$t(ar);break;case 10:wg(w.type._context);break;case 22:case 23:u0()}y=y.return}if(Or=h,mr=h=wo(h.current,null),jr=Bn=c,br=0,lh=null,r0=Ad=ga=0,Nn=uh=null,pa!==null){for(c=0;c<pa.length;c++)if((w=(y=pa[c]).interleaved)!==null){y.interleaved=null;var A=w.next,P=y.pending;if(P!==null){var z=P.next;P.next=A,w.next=z}y.pending=w}pa=null}return h}function xE(h,c){for(;;){var y=mr;try{if(bg(),ud.current=fd,hd){for(var w=Zt.memoizedState;w!==null;){var A=w.queue;A!==null&&(A.pending=null),w=w.next}hd=!1}if(ma=0,kr=Rr=Zt=null,Ju=!1,eh=0,t0.current=null,y===null||y.return===null){br=1,lh=c,mr=null;break}e:{var P=h,z=y.return,ne=y,fe=c;if(c=jr,ne.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var we=fe,Re=ne,Ge=Re.tag;if(!(1&Re.mode)&&(Ge===0||Ge===11||Ge===15)){var Ae=Re.alternate;Ae?(Re.updateQueue=Ae.updateQueue,Re.memoizedState=Ae.memoizedState,Re.lanes=Ae.lanes):(Re.updateQueue=null,Re.memoizedState=null)}var je=Wx(z);if(je!==null){je.flags&=-257,Vx(je,z,ne,0,c),1&je.mode&&Gx(P,we,c),fe=we;var Ze=(c=je).updateQueue;if(Ze===null){var dt=new Set;dt.add(fe),c.updateQueue=dt}else Ze.add(fe);break e}if(!(1&c)){Gx(P,we,c),h0();break e}fe=Error(s(426))}else if(zt&&1&ne.mode){var ke=Wx(z);if(ke!==null){!(65536&ke.flags)&&(ke.flags|=256),Vx(ke,z,ne,0,c),vg(Cl(fe,ne));break e}}P=fe=Cl(fe,ne),br!==4&&(br=2),uh===null?uh=[P]:uh.push(P),P=z;do{switch(P.tag){case 3:P.flags|=65536,c&=-c,P.lanes|=c,hx(P,zx(0,fe,c));break e;case 1:ne=fe;var ae=P.type,be=P.stateNode;if(!(128&P.flags)&&(typeof ae.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(yo===null||!yo.has(be)))){P.flags|=65536,c&=-c,P.lanes|=c,hx(P,Hx(P,ne,c));break e}}P=P.return}while(P!==null)}TE(y)}catch(De){c=De,mr===y&&y!==null&&(mr=y=y.return);continue}break}}function EE(){var h=Td.current;return Td.current=fd,h===null?fd:h}function h0(){br!==0&&br!==3&&br!==2||(br=4),Or===null||!(268435455&ga)&&!(268435455&Ad)||bo(Or,jr)}function Od(h,c){var y=vt;vt|=2;var w=EE();for(Or===h&&jr===c||(go=null,ya(h,c));;)try{ZM();break}catch(A){xE(h,A)}if(bg(),vt=y,Td.current=w,mr!==null)throw Error(s(261));return Or=null,jr=0,br}function ZM(){for(;mr!==null;)SE(mr)}function JM(){for(;mr!==null&&!OM();)SE(mr)}function SE(h){var c=vE(h.alternate,h,Bn);h.memoizedProps=h.pendingProps,c===null?TE(h):mr=c,t0.current=null}function TE(h){var c=h;do{var y=c.alternate;if(h=c.return,(32768&c.flags)==0){if((y=XM(y,c,Bn))!==null)return void(mr=y)}else{if((y=qM(y,c))!==null)return y.flags&=32767,void(mr=y);if(h===null)return br=6,void(mr=null);h.flags|=32768,h.subtreeFlags=0,h.deletions=null}if((c=c.sibling)!==null)return void(mr=c);mr=c=h}while(c!==null);br===0&&(br=5)}function kl(h,c,y){var w=wt,A=cr.transition;try{cr.transition=null,wt=1,function(P,z,ne,fe){do va();while(vo!==null);if(6&vt)throw Error(s(327));ne=P.finishedWork;var we=P.finishedLanes;if(ne===null)return null;if(P.finishedWork=null,P.finishedLanes=0,ne===P.current)throw Error(s(177));P.callbackNode=null,P.callbackPriority=0;var Re=ne.lanes|ne.childLanes;if(function(je,Ze){var dt=je.pendingLanes&~Ze;je.pendingLanes=Ze,je.suspendedLanes=0,je.pingedLanes=0,je.expiredLanes&=Ze,je.mutableReadLanes&=Ze,je.entangledLanes&=Ze,Ze=je.entanglements;var ke=je.eventTimes;for(je=je.expirationTimes;0<dt;){var ae=31-fi(dt),be=1<<ae;Ze[ae]=0,ke[ae]=-1,je[ae]=-1,dt&=~be}}(P,Re),P===Or&&(mr=Or=null,jr=0),!(2064&ne.subtreeFlags)&&!(2064&ne.flags)||Id||(Id=!0,IE(ex,function(){return va(),null})),Re=(15990&ne.flags)!=0,(15990&ne.subtreeFlags)!=0||Re){Re=cr.transition,cr.transition=null;var Ge=wt;wt=1;var Ae=vt;vt|=4,t0.current=null,function(je,Ze){for(J(je.containerInfo),Ye=Ze;Ye!==null;)if(Ze=(je=Ye).child,(1028&je.subtreeFlags)!=0&&Ze!==null)Ze.return=je,Ye=Ze;else for(;Ye!==null;){je=Ye;try{var dt=je.alternate;if(1024&je.flags)switch(je.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(dt!==null){var ke=dt.memoizedProps,ae=dt.memoizedState,be=je.stateNode,De=be.getSnapshotBeforeUpdate(je.elementType===je.type?ke:gi(je.type,ke),ae);be.__reactInternalSnapshotBeforeUpdate=De}break;case 3:ue&&Yr(je.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(it){Ht(je,je.return,it)}if((Ze=je.sibling)!==null){Ze.return=je.return,Ye=Ze;break}Ye=je.return}dt=aE,aE=!1}(P,ne),dE(ne,P),W(P.containerInfo),P.current=ne,KM(ne),MM(),vt=Ae,wt=Ge,cr.transition=Re}else P.current=ne;if(Id&&(Id=!1,vo=P,Pd=we),Re=P.pendingLanes,Re===0&&(yo=null),function(je){if(Ui&&typeof Ui.onCommitFiberRoot=="function")try{Ui.onCommitFiberRoot(Kc,je,void 0,(128&je.current.flags)==128)}catch{}}(ne.stateNode),wn(P,Pr()),z!==null)for(fe=P.onRecoverableError,ne=0;ne<z.length;ne++)we=z[ne],fe(we.value,{componentStack:we.stack,digest:we.digest});if(Cd)throw Cd=!1,P=s0,s0=null,P;1&Pd&&P.tag!==0&&va(),Re=P.pendingLanes,1&Re?P===o0?hh++:(hh=0,o0=P):hh=0,ji()}(h,c,y,w)}finally{cr.transition=A,wt=w}return null}function va(){if(vo!==null){var h=Zw(Pd),c=cr.transition,y=wt;try{if(cr.transition=null,wt=16>h?16:h,vo===null)var w=!1;else{if(h=vo,vo=null,Pd=0,(6&vt)!=0)throw Error(s(331));var A=vt;for(vt|=4,Ye=h.current;Ye!==null;){var P=Ye,z=P.child;if(16&Ye.flags){var ne=P.deletions;if(ne!==null){for(var fe=0;fe<ne.length;fe++){var we=ne[fe];for(Ye=we;Ye!==null;){var Re=Ye;switch(Re.tag){case 0:case 11:case 15:oh(8,Re,P)}var Ge=Re.child;if(Ge!==null)Ge.return=Re,Ye=Ge;else for(;Ye!==null;){var Ae=(Re=Ye).sibling,je=Re.return;if(lE(Re),Re===we){Ye=null;break}if(Ae!==null){Ae.return=je,Ye=Ae;break}Ye=je}}}var Ze=P.alternate;if(Ze!==null){var dt=Ze.child;if(dt!==null){Ze.child=null;do{var ke=dt.sibling;dt.sibling=null,dt=ke}while(dt!==null)}}Ye=P}}if(2064&P.subtreeFlags&&z!==null)z.return=P,Ye=z;else e:for(;Ye!==null;){if(2048&(P=Ye).flags)switch(P.tag){case 0:case 11:case 15:oh(9,P,P.return)}var ae=P.sibling;if(ae!==null){ae.return=P.return,Ye=ae;break e}Ye=P.return}}var be=h.current;for(Ye=be;Ye!==null;){var De=(z=Ye).child;if(2064&z.subtreeFlags&&De!==null)De.return=z,Ye=De;else e:for(z=be;Ye!==null;){if(2048&(ne=Ye).flags)try{switch(ne.tag){case 0:case 11:case 15:_d(9,ne)}}catch(St){Ht(ne,ne.return,St)}if(ne===z){Ye=null;break e}var it=ne.sibling;if(it!==null){it.return=ne.return,Ye=it;break e}Ye=ne.return}}if(vt=A,ji(),Ui&&typeof Ui.onPostCommitFiberRoot=="function")try{Ui.onPostCommitFiberRoot(Kc,h)}catch{}w=!0}return w}finally{wt=y,cr.transition=c}}return!1}function AE(h,c,y){h=mo(h,c=zx(0,c=Cl(y,c),1),1),c=Jr(),h!==null&&(qu(h,1,c),wn(h,c))}function Ht(h,c,y){if(h.tag===3)AE(h,h,y);else for(;c!==null;){if(c.tag===3){AE(c,h,y);break}if(c.tag===1){var w=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof w.componentDidCatch=="function"&&(yo===null||!yo.has(w))){c=mo(c,h=Hx(c,h=Cl(y,h),1),1),h=Jr(),c!==null&&(qu(c,1,h),wn(c,h));break}}c=c.return}}function eB(h,c,y){var w=h.pingCache;w!==null&&w.delete(c),c=Jr(),h.pingedLanes|=h.suspendedLanes&y,Or===h&&(jr&y)===y&&(br===4||br===3&&(130023424&jr)===jr&&500>Pr()-n0?ya(h,0):r0|=y),wn(h,c)}function CE(h,c){c===0&&(1&h.mode?(c=ag,!(130023424&(ag<<=1))&&(ag=4194304)):c=1);var y=Jr();(h=zi(h,c))!==null&&(qu(h,c,y),wn(h,y))}function tB(h){var c=h.memoizedState,y=0;c!==null&&(y=c.retryLane),CE(h,y)}function rB(h,c){var y=0;switch(h.tag){case 13:var w=h.stateNode,A=h.memoizedState;A!==null&&(y=A.retryLane);break;case 19:w=h.stateNode;break;default:throw Error(s(314))}w!==null&&w.delete(c),CE(h,y)}function IE(h,c){return cg(h,c)}function nB(h,c,y,w){this.tag=h,this.key=y,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=w,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ei(h,c,y,w){return new nB(h,c,y,w)}function c0(h){return!(!(h=h.prototype)||!h.isReactComponent)}function wo(h,c){var y=h.alternate;return y===null?((y=ei(h.tag,c,h.key,h.mode)).elementType=h.elementType,y.type=h.type,y.stateNode=h.stateNode,y.alternate=h,h.alternate=y):(y.pendingProps=c,y.type=h.type,y.flags=0,y.subtreeFlags=0,y.deletions=null),y.flags=14680064&h.flags,y.childLanes=h.childLanes,y.lanes=h.lanes,y.child=h.child,y.memoizedProps=h.memoizedProps,y.memoizedState=h.memoizedState,y.updateQueue=h.updateQueue,c=h.dependencies,y.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},y.sibling=h.sibling,y.index=h.index,y.ref=h.ref,y}function Md(h,c,y,w,A,P){var z=2;if(w=h,typeof h=="function")c0(h)&&(z=1);else if(typeof h=="string")z=5;else e:switch(h){case u:return _a(y.children,A,P,c);case d:z=8,A|=8;break;case f:return(h=ei(12,y,c,2|A)).elementType=f,h.lanes=P,h;case v:return(h=ei(13,y,c,A)).elementType=v,h.lanes=P,h;case C:return(h=ei(19,y,c,A)).elementType=C,h.lanes=P,h;case b:return Bd(y,A,P,c);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case p:z=10;break e;case m:z=9;break e;case g:z=11;break e;case S:z=14;break e;case x:z=16,w=null;break e}throw Error(s(130,h==null?h:typeof h,""))}return(c=ei(z,y,c,A)).elementType=h,c.type=w,c.lanes=P,c}function _a(h,c,y,w){return(h=ei(7,h,w,c)).lanes=y,h}function Bd(h,c,y,w){return(h=ei(22,h,w,c)).elementType=b,h.lanes=y,h.stateNode={isHidden:!1},h}function d0(h,c,y){return(h=ei(6,h,null,c)).lanes=y,h}function f0(h,c,y){return(c=ei(4,h.children!==null?h.children:[],h.key,c)).lanes=y,c.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},c}function iB(h,c,y,w,A){this.tag=c,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=le,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ug(0),this.expirationTimes=ug(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ug(0),this.identifierPrefix=w,this.onRecoverableError=A,ye&&(this.mutableSourceEagerHydrationData=null)}function PE(h,c,y,w,A,P,z,ne,fe){return h=new iB(h,c,y,ne,fe),c===1?(c=1,P===!0&&(c|=8)):c=0,P=ei(3,null,null,c),h.current=P,P.stateNode=h,P.memoizedState={element:w,isDehydrated:y,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sg(P),h}function RE(h){if(!h)return fo;e:{if(M(h=h._reactInternals)!==h||h.tag!==1)throw Error(s(170));var c=h;do{switch(c.tag){case 3:c=c.stateNode.context;break e;case 1:if(On(c.type)){c=c.stateNode.__reactInternalMemoizedMergedChildContext;break e}}c=c.return}while(c!==null);throw Error(s(171))}if(h.tag===1){var y=h.type;if(On(y))return Yw(h,y,c)}return c}function kE(h){var c=h._reactInternals;if(c===void 0)throw typeof h.render=="function"?Error(s(188)):(h=Object.keys(h).join(","),Error(s(268,h)));return(h=se(c))===null?null:h.stateNode}function OE(h,c){if((h=h.memoizedState)!==null&&h.dehydrated!==null){var y=h.retryLane;h.retryLane=y!==0&&y<c?y:c}}function Nd(h,c){OE(h,c),(h=h.alternate)&&OE(h,c)}function sB(h){return(h=se(h))===null?null:h.stateNode}function oB(){return null}return vE=function(h,c,y){if(h!==null)if(h.memoizedProps!==c.pendingProps||vn.current)_n=!0;else{if(!(h.lanes&y)&&!(128&c.flags))return _n=!1,function(Ge,Ae,je){switch(Ae.tag){case 3:Jx(Ae),wl();break;case 5:_x(Ae);break;case 1:On(Ae.type)&&qc(Ae);break;case 4:Cg(Ae,Ae.stateNode.containerInfo);break;case 10:ax(0,Ae.type._context,Ae.memoizedProps.value);break;case 13:var Ze=Ae.memoizedState;if(Ze!==null)return Ze.dehydrated!==null?(Ot(ar,1&ar.current),Ae.flags|=128,null):je&Ae.child.childLanes?tE(Ge,Ae,je):(Ot(ar,1&ar.current),(Ge=Is(Ge,Ae,je))!==null?Ge.sibling:null);Ot(ar,1&ar.current);break;case 19:if(Ze=(je&Ae.childLanes)!=0,(128&Ge.flags)!=0){if(Ze)return nE(Ge,Ae,je);Ae.flags|=128}var dt=Ae.memoizedState;if(dt!==null&&(dt.rendering=null,dt.tail=null,dt.lastEffect=null),Ot(ar,ar.current),Ze)break;return null;case 22:case 23:return Ae.lanes=0,Kx(Ge,Ae,je)}return Is(Ge,Ae,je)}(h,c,y);_n=(131072&h.flags)!=0}else _n=!1,zt&&1048576&c.flags&&rx(c,Jc,c.index);switch(c.lanes=0,c.tag){case 2:var w=c.type;yd(h,c),h=c.pendingProps;var A=vl(c,Kr.current);El(c,y),A=Mg(null,c,w,h,A,y);var P=Bg();return c.flags|=1,typeof A=="object"&&A!==null&&typeof A.render=="function"&&A.$$typeof===void 0?(c.tag=1,c.memoizedState=null,c.updateQueue=null,On(w)?(P=!0,qc(c)):P=!1,c.memoizedState=A.state!==null&&A.state!==void 0?A.state:null,Sg(c),A.updater=od,c.stateNode=A,A._reactInternals=c,Ag(c,w,h,y),c=zg(null,c,w,!0,P,y)):(c.tag=0,zt&&P&&pg(c),bn(null,c,A,y),c=c.child),c;case 16:w=c.elementType;e:{switch(yd(h,c),h=c.pendingProps,w=(A=w._init)(w._payload),c.type=w,A=c.tag=function(Ge){if(typeof Ge=="function")return c0(Ge)?1:0;if(Ge!=null){if((Ge=Ge.$$typeof)===g)return 11;if(Ge===S)return 14}return 2}(w),h=gi(w,h),A){case 0:c=$g(null,c,w,h,y);break e;case 1:c=Zx(null,c,w,h,y);break e;case 11:c=Xx(null,c,w,h,y);break e;case 14:c=qx(null,c,w,gi(w.type,h),y);break e}throw Error(s(306,w,""))}return c;case 0:return w=c.type,A=c.pendingProps,$g(h,c,w,A=c.elementType===w?A:gi(w,A),y);case 1:return w=c.type,A=c.pendingProps,Zx(h,c,w,A=c.elementType===w?A:gi(w,A),y);case 3:e:{if(Jx(c),h===null)throw Error(s(387));w=c.pendingProps,A=(P=c.memoizedState).element,ux(h,c),sd(c,w,null,y);var z=c.memoizedState;if(w=z.element,ye&&P.isDehydrated){if(P={element:w,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},c.updateQueue.baseState=P,c.memoizedState=P,256&c.flags){c=eE(h,c,w,y,A=Cl(Error(s(423)),c));break e}if(w!==A){c=eE(h,c,w,y,A=Cl(Error(s(424)),c));break e}for(ye&&(Yn=mM(c.stateNode.containerInfo),Mn=c,zt=!0,mi=null,Yu=!1),y=vx(c,null,w,y),c.child=y;y;)y.flags=-3&y.flags|4096,y=y.sibling}else{if(wl(),w===A){c=Is(h,c,y);break e}bn(h,c,w,y)}c=c.child}return c;case 5:return _x(c),h===null&&yg(c),w=c.type,A=c.pendingProps,P=h!==null?h.memoizedProps:null,z=A.children,Be(w,A)?z=null:P!==null&&Be(w,P)&&(c.flags|=32),Qx(h,c),bn(h,c,z,y),c.child;case 6:return h===null&&yg(c),null;case 13:return tE(h,c,y);case 4:return Cg(c,c.stateNode.containerInfo),w=c.pendingProps,h===null?c.child=Sl(c,null,w,y):bn(h,c,w,y),c.child;case 11:return w=c.type,A=c.pendingProps,Xx(h,c,w,A=c.elementType===w?A:gi(w,A),y);case 7:return bn(h,c,c.pendingProps,y),c.child;case 8:case 12:return bn(h,c,c.pendingProps.children,y),c.child;case 10:e:{if(w=c.type._context,A=c.pendingProps,P=c.memoizedProps,ax(0,w,z=A.value),P!==null)if(pi(P.value,z)){if(P.children===A.children&&!vn.current){c=Is(h,c,y);break e}}else for((P=c.child)!==null&&(P.return=c);P!==null;){var ne=P.dependencies;if(ne!==null){z=P.child;for(var fe=ne.firstContext;fe!==null;){if(fe.context===w){if(P.tag===1){(fe=Cs(-1,y&-y)).tag=2;var we=P.updateQueue;if(we!==null){var Re=(we=we.shared).pending;Re===null?fe.next=fe:(fe.next=Re.next,Re.next=fe),we.pending=fe}}P.lanes|=y,(fe=P.alternate)!==null&&(fe.lanes|=y),xg(P.return,y,c),ne.lanes|=y;break}fe=fe.next}}else if(P.tag===10)z=P.type===c.type?null:P.child;else if(P.tag===18){if((z=P.return)===null)throw Error(s(341));z.lanes|=y,(ne=z.alternate)!==null&&(ne.lanes|=y),xg(z,y,c),z=P.sibling}else z=P.child;if(z!==null)z.return=P;else for(z=P;z!==null;){if(z===c){z=null;break}if((P=z.sibling)!==null){P.return=z.return,z=P;break}z=z.return}P=z}bn(h,c,A.children,y),c=c.child}return c;case 9:return A=c.type,w=c.pendingProps.children,El(c,y),w=w(A=Kn(A)),c.flags|=1,bn(h,c,w,y),c.child;case 14:return A=gi(w=c.type,c.pendingProps),qx(h,c,w,A=gi(w.type,A),y);case 15:return Yx(h,c,c.type,c.pendingProps,y);case 17:return w=c.type,A=c.pendingProps,A=c.elementType===w?A:gi(w,A),yd(h,c),c.tag=1,On(w)?(h=!0,qc(c)):h=!1,El(c,y),px(c,w,A),Ag(c,w,A,y),zg(null,c,w,!0,h,y);case 19:return nE(h,c,y);case 22:return Kx(h,c,y)}throw Error(s(156,c.tag))},e.attemptContinuousHydration=function(h){if(h.tag===13){var c=zi(h,134217728);c!==null&&Jn(c,h,134217728,Jr()),Nd(h,134217728)}},e.attemptDiscreteHydration=function(h){if(h.tag===13){var c=zi(h,1);c!==null&&Jn(c,h,1,Jr()),Nd(h,1)}},e.attemptHydrationAtCurrentPriority=function(h){if(h.tag===13){var c=_o(h),y=zi(h,c);y!==null&&Jn(y,h,c,Jr()),Nd(h,c)}},e.attemptSynchronousHydration=function(h){switch(h.tag){case 3:var c=h.stateNode;if(c.current.memoizedState.isDehydrated){var y=Xu(c.pendingLanes);y!==0&&(hg(c,1|y),wn(c,Pr()),!(6&vt)&&(Rl(),ji()))}break;case 13:wE(function(){var w=zi(h,1);if(w!==null){var A=Jr();Jn(w,h,1,A)}}),Nd(h,1)}},e.batchedUpdates=function(h,c){var y=vt;vt|=1;try{return h(c)}finally{(vt=y)===0&&(Rl(),Qc&&ji())}},e.createComponentSelector=function(h){return{$$typeof:bd,value:h}},e.createContainer=function(h,c,y,w,A,P,z){return PE(h,c,!1,null,0,w,0,P,z)},e.createHasPseudoClassSelector=function(h){return{$$typeof:wd,value:h}},e.createHydrationContainer=function(h,c,y,w,A,P,z,ne,fe){return(h=PE(y,w,!0,h,0,P,0,ne,fe)).context=RE(null),y=h.current,(P=Cs(w=Jr(),A=_o(y))).callback=c??null,mo(y,P,A),h.current.lanes=A,qu(h,A,w),wn(h,w),h},e.createPortal=function(h,c,y){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:h,containerInfo:c,implementation:y}},e.createRoleSelector=function(h){return{$$typeof:xd,value:h}},e.createTestNameSelector=function(h){return{$$typeof:Ed,value:h}},e.createTextSelector=function(h){return{$$typeof:Sd,value:h}},e.deferredUpdates=function(h){var c=wt,y=cr.transition;try{return cr.transition=null,wt=16,h()}finally{wt=c,cr.transition=y}},e.discreteUpdates=function(h,c,y,w,A){var P=wt,z=cr.transition;try{return cr.transition=null,wt=1,h(c,y,w,A)}finally{wt=P,cr.transition=z,vt===0&&Rl()}},e.findAllNodes=e0,e.findBoundingRects=function(h,c){if(!Q)throw Error(s(363));c=e0(h,c),h=[];for(var y=0;y<c.length;y++)h.push(Fe(c[y]));for(c=h.length-1;0<c;c--)for(var w=(y=h[c]).x,A=w+y.width,P=y.y,z=P+y.height,ne=c-1;0<=ne;ne--)if(c!==ne){var fe=h[ne],we=fe.x,Re=we+fe.width,Ge=fe.y,Ae=Ge+fe.height;if(w>=we&&P>=Ge&&A<=Re&&z<=Ae){h.splice(c,1);break}if(!(w!==we||y.width!==fe.width||Ae<P||Ge>z)){Ge>P&&(fe.height+=Ge-P,fe.y=P),Ae<z&&(fe.height=z-Ge),h.splice(c,1);break}if(!(P!==Ge||y.height!==fe.height||Re<w||we>A)){we>w&&(fe.width+=we-w,fe.x=w),Re<A&&(fe.width=A-we),h.splice(c,1);break}}return h},e.findHostInstance=kE,e.findHostInstanceWithNoPortals=function(h){return(h=(h=Y(h))!==null?F(h):null)===null?null:h.stateNode},e.findHostInstanceWithWarning=function(h){return kE(h)},e.flushControlled=function(h){var c=vt;vt|=1;var y=cr.transition,w=wt;try{cr.transition=null,wt=1,h()}finally{wt=w,cr.transition=y,(vt=c)===0&&(Rl(),ji())}},e.flushPassiveEffects=va,e.flushSync=wE,e.focusWithin=function(h,c){if(!Q)throw Error(s(363));for(c=yE(h=Qg(h),c),c=Array.from(c),h=0;h<c.length;){var y=c[h++];if(!Qe(y)){if(y.tag===5&&E(y.stateNode))return!0;for(y=y.child;y!==null;)c.push(y),y=y.sibling}}return!1},e.getCurrentUpdatePriority=function(){return wt},e.getFindAllNodesFailureDescription=function(h,c){if(!Q)throw Error(s(363));var y=0,w=[];h=[Qg(h),0];for(var A=0;A<h.length;){var P=h[A++],z=h[A++],ne=c[z];if((P.tag!==5||!Qe(P))&&(Zg(P,ne)&&(w.push(Jg(ne)),++z>y&&(y=z)),z<c.length))for(P=P.child;P!==null;)h.push(P,z),P=P.sibling}if(y<c.length){for(h=[];y<c.length;y++)h.push(Jg(c[y]));return`findAllNodes was able to match part of the selector:
  `+w.join(" > ")+`

No matching component was found for:
  `+h.join(" > ")}return null},e.getPublicRootInstance=function(h){return(h=h.current).child?h.child.tag===5?de(h.child.stateNode):h.child.stateNode:null},e.injectIntoDevTools=function(h){if(h={bundleType:h.bundleType,version:h.version,rendererPackageName:h.rendererPackageName,rendererConfig:h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:sB,findFiberByHostInstance:h.findFiberByHostInstance||oB,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")h=!1;else{var c=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(c.isDisabled||!c.supportsFiber)h=!0;else{try{Kc=c.inject(h),Ui=c}catch{}h=!!c.checkDCE}}return h},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(h,c,y,w){if(!Q)throw Error(s(363));h=e0(h,c);var A=_(h,y,w).disconnect;return{disconnect:function(){A()}}},e.registerMutableSourceForHydration=function(h,c){var y=c._getVersion;y=y(c._source),h.mutableSourceEagerHydrationData==null?h.mutableSourceEagerHydrationData=[c,y]:h.mutableSourceEagerHydrationData.push(c,y)},e.runWithPriority=function(h,c){var y=wt;try{return wt=h,c()}finally{wt=y}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(h,c,y,w){var A=c.current,P=Jr(),z=_o(A);return y=RE(y),c.context===null?c.context=y:c.pendingContext=y,(c=Cs(P,z)).payload={element:h},(w=w===void 0?null:w)!==null&&(c.callback=w),(h=mo(A,c,z))!==null&&(Jn(h,A,z,P),id(h,A,z)),z},e}),lC}({get exports(){return J_},set exports(t){J_=t}}).exports=hj();var cj=L8(J_),IO={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},tb={},Cf={get exports(){return tb},set exports(t){tb=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?Cf.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Cf.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(Cf.exports=function(){return Date.now()-r},r=Date.now()):(Cf.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(D8);var cC,uu={},Ia={};({get exports(){return uu},set exports(t){uu=t}}).exports=(cC||(cC=1,Ia.ConcurrentRoot=1,Ia.ContinuousEventPriority=4,Ia.DefaultEventPriority=16,Ia.DiscreteEventPriority=1,Ia.IdleEventPriority=536870912,Ia.LegacyRoot=0),Ia);var dj={};function jy(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function PO(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&oo(t.children).forEach(function(s){PO(s,t)})}function dC(t,e){var r;PO(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,l=n.destroyTexture,u=l!==void 0&&l,d=n.destroyBaseTexture,f=d!==void 0&&d;s&&e.destroy({children:a,texture:u,baseTexture:f})}function fC(t,e,r){var n,i;hr(e!==r,"Cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var s=t.getChildIndex(r);t.addChildAt(e,s),(n=t.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var pC=null,Oi=cj({getRootHostContext:function(){return dj},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return uu.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return uu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return uu.ContinuousEventPriority;default:return uu.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=oj[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=CO[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:bs)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return pC=function(o,a,l,u){var d=null;for(var f in l)!u.hasOwnProperty(f)&&l.hasOwnProperty(f)&&l[f]!==null&&(f===Q_||(d||(d=[]),d.push(f,null)));for(var p in u){var m=u[p],g=l!==null?l[p]:void 0;!u.hasOwnProperty(p)||m===g||m===null&&g===null||p===Q_||(d||(d=[]),d.push(p,m))}return d}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){hr(!1,'Error trying to add text node "'.concat(t,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:tb,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=jy.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=jy.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=jy.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=dC.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=dC.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:fC,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=fC.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=bs),(a(t,n,i)||pC)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),fj=IO.dependencies["react-dom"].replace(/[^0-9.]/g,""),pj=IO.name;Oi.injectIntoDevTools({bundleType:0,version:fj,rendererPackageName:pj,findHostInstanceByFiber:Oi.findHostInstance});var Zo=new Map;function RO(t){if(hr(mn.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`."),Zo.has(t)){var e=Zo.get(t).pixiFiberContainer;Oi.updateContainer(null,e,void 0,function(){Zo.delete(t)})}}function kO(t){hr(mn.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`.");var e=Zo.get(t);if(hr(!e,"createRoot should only be called once"),!e){var r=Oi.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return Oi.updateContainer(n,r,void 0),Oi.getPublicRootInstance(r)},unmount:function(){RO(t),Zo.delete(t)}}},Zo.set(t,e)}return e.reactRoot}function mj(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Zo.has(e)?n=Zo.get(e).reactRoot:n=kO(e),n.render(t)}function gj(t){RO(t)}function kc(){return kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kc.apply(this,arguments)}function yj(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vj(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SO(n.key),n)}}function Bs(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lm(t,e){return lm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},lm(t,e)}function _j(t,e){if(e&&(Hn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bs(t)}function um(t){return um=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},um(t)}var Km=fs.createContext(null),OO=Km.Provider,MO=Km.Consumer,bj=function(t){var e=fs.forwardRef(function(r,n){return fs.createElement(MO,null,function(i){return fs.createElement(t,kc({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function wj(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=um(t);if(e){var i=um(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return _j(this,r)}}function mC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function If(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mC(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var gC=function(){},BO={width:Et.number,height:Et.number,onMount:Et.func,onUnmount:Et.func,raf:Et.bool,renderOnComponentChange:Et.bool,children:Et.node,options:Et.shape({autoStart:Et.bool,width:Et.number,height:Et.number,useContextAlpha:Et.bool,backgroundAlpha:Et.number,autoDensity:Et.bool,antialias:Et.bool,preserveDrawingBuffer:Et.bool,resolution:Et.number,forceCanvas:Et.bool,backgroundColor:Et.number,clearBeforeRender:Et.bool,powerPreference:Et.string,sharedTicker:Et.bool,sharedLoader:Et.bool,resizeTo:function(t,e){var r=t[e];r&&hr(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Hn(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&hr(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Hn(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},xj={width:800,height:600,onMount:gC,onUnmount:gC,raf:!0,renderOnComponentChange:!0},rb=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&lm(s,o)})(i,fs.Component);var e,r,n=wj(i);function i(){var s;yj(this,i);for(var o=arguments.length,a=new Array(o),l=0;l<o;l++)a[l]=arguments[l];return fr(Bs(s=n.call.apply(n,[this].concat(a))),"_canvas",null),fr(Bs(s),"_mediaQuery",null),fr(Bs(s),"_ticker",null),fr(Bs(s),"_needsUpdate",!0),fr(Bs(s),"app",null),fr(Bs(s),"updateSize",function(){var u=s.props,d=u.width,f=u.height,p=u.options;p!=null&&p.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(d,f)}),fr(Bs(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),fr(Bs(s),"renderStage",function(){var u=s.props,d=u.renderOnComponentChange;!u.raf&&d&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,l=s.height,u=s.options,d=s.raf,f=s.renderOnComponentChange;this.app=new Ym(If(If({width:a,height:l,view:this._canvas},u),{},{autoDensity:(u==null?void 0:u.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[d?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Oi.createContainer(this.app.stage),Oi.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),u!=null&&u.autoDensity&&window.matchMedia&&(u==null?void 0:u.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),f&&!d&&(this._ticker=new Lr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var l,u=this.props,d=u.width,f=u.height,p=u.raf,m=u.renderOnComponentChange,g=u.options;(g==null?void 0:g.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(g==null?void 0:g.resolution)&&(this.app.renderer.resolution=g.resolution,this.resetInteractionManager()),s.height===f&&s.width===d&&((l=s.options)===null||l===void 0?void 0:l.resolution)===(g==null?void 0:g.resolution)||this.updateSize(),s.raf!==p&&this.app.ticker[p?"start":"stop"](),Oi.updateContainer(this.getChildren(),this.mountNode,this),s.width===d&&s.height===f&&s.raf===p&&s.renderOnComponentChange===m&&s.options===g||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return fs.createElement(OO,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Oi.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,l=this.props.options;return l&&l.view?(hr(l.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):fs.createElement("canvas",kc({},(s=this.props,o=[].concat(oo(Object.keys(BO)),oo(Object.keys(Z_))),Object.keys(s).filter(function(u){return!o.includes(u)}).reduce(function(u,d){return If(If({},u),{},fr({},d,s[d]))},{})),{ref:function(u){return a._canvas=u}}))}}])&&vj(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();rb.propTypes=BO,rb.defaultProps=xj;var Ej=rb;function NO(){var t=It.useContext(Km);return hr(t instanceof Ym,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),t}function Sj(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=NO();hr(typeof t=="function","`useTick` needs a callback function."),hr(r instanceof Ym,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=It.useRef(null);It.useEffect(function(){n.current=t},[t]),It.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function Tj(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function nb(t,e,r){return nb=Tj()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&lm(a,s.prototype),a},nb.apply(null,arguments)}var Aj=["children","apply"];function yC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(r),!0).forEach(function(n){fr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Cj=function(t,e){hr(Hn(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=ha(i,Aj),l=It.useRef(It.useMemo(function(){return r.map(function(f){var p,m=(a==null||(p=a[f])===null||p===void 0?void 0:p.construct)||[];return nb(e[f],oo(m))})},[r])),u=It.useMemo(function(){return r.reduce(function(f,p,m){return Pf(Pf({},f),{},fr({},p,l.current[m]))},{})},[r]),d=It.useMemo(function(){return Object.keys(a).filter(AO(TO(r))).reduce(function(f,p){return Pf(Pf({},f),{},fr({},p,a[p]))},{})},[a,r]);return r.forEach(function(f,p){return Object.assign(l.current[p],a[f])}),o&&function(){for(var f=arguments.length,p=new Array(f),m=0;m<f;m++)p[m]=arguments[m];return p.every(function(g){return typeof g=="function"})}(o)&&o.call(t,u),fs.createElement(t,kc({},d,{filters:l.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Et.node,apply:Et.func},n},Ij=Rn.BitmapText,Pj=Rn.Container,Rj=Rn.Graphics,kj=Rn.NineSlicePlane,Oj=Rn.ParticleContainer,Mj=Rn.Sprite,Bj=Rn.AnimatedSprite,Nj=Rn.Text,Dj=Rn.TilingSprite,Lj=Rn.SimpleMesh,Fj=Rn.SimpleRope;const Uj=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:Bj,AppConsumer:MO,AppContext:Km,AppProvider:OO,BitmapText:Ij,Container:Pj,Graphics:Rj,NineSlicePlane:kj,ParticleContainer:Oj,PixiComponent:aj,PixiFiber:Oi,SimpleMesh:Lj,SimpleRope:Fj,Sprite:Mj,Stage:Ej,TYPES:Rn,Text:Nj,TilingSprite:Dj,applyDefaultProps:bs,createRoot:kO,eventHandlers:am,render:mj,unmountComponentAtNode:gj,useApp:NO,useTick:Sj,withFilters:Cj,withPixiApp:bj},Symbol.toStringTag,{value:"Module"})),jj=FC(Uj);Dm.exports=jj;var cn=Dm.exports;function DO(t,e){return function(){return t.apply(e,arguments)}}const{toString:$j}=Object.prototype,{getPrototypeOf:zw}=Object,Qm=(t=>e=>{const r=$j.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Es=t=>(t=t.toLowerCase(),e=>Qm(e)===t),Zm=t=>e=>typeof e===t,{isArray:Wu}=Array,Oc=Zm("undefined");function zj(t){return t!==null&&!Oc(t)&&t.constructor!==null&&!Oc(t.constructor)&&ui(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const LO=Es("ArrayBuffer");function Hj(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&LO(t.buffer),e}const Gj=Zm("string"),ui=Zm("function"),FO=Zm("number"),Jm=t=>t!==null&&typeof t=="object",Wj=t=>t===!0||t===!1,fp=t=>{if(Qm(t)!=="object")return!1;const e=zw(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Vj=Es("Date"),Xj=Es("File"),qj=Es("Blob"),Yj=Es("FileList"),Kj=t=>Jm(t)&&ui(t.pipe),Qj=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ui(t.append)&&((e=Qm(t))==="formdata"||e==="object"&&ui(t.toString)&&t.toString()==="[object FormData]"))},Zj=Es("URLSearchParams"),Jj=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hc(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Wu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function UO(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const jO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,$O=t=>!Oc(t)&&t!==jO;function ib(){const{caseless:t}=$O(this)&&this||{},e={},r=(n,i)=>{const s=t&&UO(e,i)||i;fp(e[s])&&fp(n)?e[s]=ib(e[s],n):fp(n)?e[s]=ib({},n):Wu(n)?e[s]=n.slice():e[s]=n};for(let n=0,i=arguments.length;n<i;n++)arguments[n]&&Hc(arguments[n],r);return e}const e$=(t,e,r,{allOwnKeys:n}={})=>(Hc(e,(i,s)=>{r&&ui(i)?t[s]=DO(i,r):t[s]=i},{allOwnKeys:n}),t),t$=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),r$=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},n$=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&zw(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},i$=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},s$=t=>{if(!t)return null;if(Wu(t))return t;let e=t.length;if(!FO(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},o$=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&zw(Uint8Array)),a$=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},l$=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},u$=Es("HTMLFormElement"),h$=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),vC=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),c$=Es("RegExp"),zO=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Hc(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},d$=t=>{zO(t,(e,r)=>{if(ui(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(ui(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},f$=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Wu(t)?n(t):n(String(t).split(e)),r},p$=()=>{},m$=(t,e)=>(t=+t,Number.isFinite(t)?t:e),$y="abcdefghijklmnopqrstuvwxyz",_C="0123456789",HO={DIGIT:_C,ALPHA:$y,ALPHA_DIGIT:$y+$y.toUpperCase()+_C},g$=(t=16,e=HO.ALPHA_DIGIT)=>{let r="";const{length:n}=e;for(;t--;)r+=e[Math.random()*n|0];return r};function y$(t){return!!(t&&ui(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const v$=t=>{const e=new Array(10),r=(n,i)=>{if(Jm(n)){if(e.indexOf(n)>=0)return;if(!("toJSON"in n)){e[i]=n;const s=Wu(n)?[]:{};return Hc(n,(o,a)=>{const l=r(o,i+1);!Oc(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},_$=Es("AsyncFunction"),b$=t=>t&&(Jm(t)||ui(t))&&ui(t.then)&&ui(t.catch),Te={isArray:Wu,isArrayBuffer:LO,isBuffer:zj,isFormData:Qj,isArrayBufferView:Hj,isString:Gj,isNumber:FO,isBoolean:Wj,isObject:Jm,isPlainObject:fp,isUndefined:Oc,isDate:Vj,isFile:Xj,isBlob:qj,isRegExp:c$,isFunction:ui,isStream:Kj,isURLSearchParams:Zj,isTypedArray:o$,isFileList:Yj,forEach:Hc,merge:ib,extend:e$,trim:Jj,stripBOM:t$,inherits:r$,toFlatObject:n$,kindOf:Qm,kindOfTest:Es,endsWith:i$,toArray:s$,forEachEntry:a$,matchAll:l$,isHTMLForm:u$,hasOwnProperty:vC,hasOwnProp:vC,reduceDescriptors:zO,freezeMethods:d$,toObjectSet:f$,toCamelCase:h$,noop:p$,toFiniteNumber:m$,findKey:UO,global:jO,isContextDefined:$O,ALPHABET:HO,generateString:g$,isSpecCompliantForm:y$,toJSONObject:v$,isAsyncFn:_$,isThenable:b$};function _t(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}Te.inherits(_t,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const GO=_t.prototype,WO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{WO[t]={value:t}});Object.defineProperties(_t,WO);Object.defineProperty(GO,"isAxiosError",{value:!0});_t.from=(t,e,r,n,i,s)=>{const o=Object.create(GO);return Te.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),_t.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};const w$=null;function sb(t){return Te.isPlainObject(t)||Te.isArray(t)}function VO(t){return Te.endsWith(t,"[]")?t.slice(0,-2):t}function bC(t,e,r){return t?t.concat(e).map(function(i,s){return i=VO(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function x$(t){return Te.isArray(t)&&!t.some(sb)}const E$=Te.toFlatObject(Te,{},null,function(e){return/^is[A-Z]/.test(e)});function eg(t,e,r){if(!Te.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Te.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(v,C){return!Te.isUndefined(C[v])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(e);if(!Te.isFunction(i))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Te.isDate(g))return g.toISOString();if(!l&&Te.isBlob(g))throw new _t("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(g)||Te.isTypedArray(g)?l&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,v,C){let S=g;if(g&&!C&&typeof g=="object"){if(Te.endsWith(v,"{}"))v=n?v:v.slice(0,-2),g=JSON.stringify(g);else if(Te.isArray(g)&&x$(g)||(Te.isFileList(g)||Te.endsWith(v,"[]"))&&(S=Te.toArray(g)))return v=VO(v),S.forEach(function(b,I){!(Te.isUndefined(b)||b===null)&&e.append(o===!0?bC([v],I,s):o===null?v:v+"[]",u(b))}),!1}return sb(g)?!0:(e.append(bC(C,v,s),u(g)),!1)}const f=[],p=Object.assign(E$,{defaultVisitor:d,convertValue:u,isVisitable:sb});function m(g,v){if(!Te.isUndefined(g)){if(f.indexOf(g)!==-1)throw Error("Circular reference detected in "+v.join("."));f.push(g),Te.forEach(g,function(S,x){(!(Te.isUndefined(S)||S===null)&&i.call(e,S,Te.isString(x)?x.trim():x,v,p))===!0&&m(S,v?v.concat(x):[x])}),f.pop()}}if(!Te.isObject(t))throw new TypeError("data must be an object");return m(t),e}function wC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function Hw(t,e){this._pairs=[],t&&eg(t,this,e)}const XO=Hw.prototype;XO.append=function(e,r){this._pairs.push([e,r])};XO.toString=function(e){const r=e?function(n){return e.call(this,n,wC)}:wC;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function S$(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function qO(t,e,r){if(!e)return t;const n=r&&r.encode||S$,i=r&&r.serialize;let s;if(i?s=i(e,r):s=Te.isURLSearchParams(e)?e.toString():new Hw(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class xC{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Te.forEach(this.handlers,function(n){n!==null&&e(n)})}}const YO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},T$=typeof URLSearchParams<"u"?URLSearchParams:Hw,A$=typeof FormData<"u"?FormData:null,C$=typeof Blob<"u"?Blob:null,I$={isBrowser:!0,classes:{URLSearchParams:T$,FormData:A$,Blob:C$},protocols:["http","https","file","blob","url","data"]},KO=typeof window<"u"&&typeof document<"u",P$=(t=>KO&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),R$=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",k$=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:KO,hasStandardBrowserEnv:P$,hasStandardBrowserWebWorkerEnv:R$},Symbol.toStringTag,{value:"Module"})),ds={...k$,...I$};function O$(t,e){return eg(t,new ds.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return ds.isNode&&Te.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function M$(t){return Te.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function B$(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function QO(t){function e(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&Te.isArray(i)?i.length:o,l?(Te.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!Te.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&Te.isArray(i[o])&&(i[o]=B$(i[o])),!a)}if(Te.isFormData(t)&&Te.isFunction(t.entries)){const r={};return Te.forEachEntry(t,(n,i)=>{e(M$(n),i,r,0)}),r}return null}function N$(t,e,r){if(Te.isString(t))try{return(e||JSON.parse)(t),Te.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Gw={transitional:YO,adapter:["xhr","http"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=Te.isObject(e);if(s&&Te.isHTMLForm(e)&&(e=new FormData(e)),Te.isFormData(e))return i?JSON.stringify(QO(e)):e;if(Te.isArrayBuffer(e)||Te.isBuffer(e)||Te.isStream(e)||Te.isFile(e)||Te.isBlob(e))return e;if(Te.isArrayBufferView(e))return e.buffer;if(Te.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return O$(e,this.formSerializer).toString();if((a=Te.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return eg(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),N$(e)):e}],transformResponse:[function(e){const r=this.transitional||Gw.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&Te.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?_t.from(a,_t.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ds.classes.FormData,Blob:ds.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],t=>{Gw.headers[t]={}});const Ww=Gw,D$=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),L$=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&D$[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},EC=Symbol("internals");function Ph(t){return t&&String(t).trim().toLowerCase()}function pp(t){return t===!1||t==null?t:Te.isArray(t)?t.map(pp):String(t)}function F$(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const U$=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function zy(t,e,r,n,i){if(Te.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!Te.isString(e)){if(Te.isString(n))return e.indexOf(n)!==-1;if(Te.isRegExp(n))return n.test(e)}}function j$(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function $$(t,e){const r=Te.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}class tg{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,u){const d=Ph(l);if(!d)throw new Error("header name must be a non-empty string");const f=Te.findKey(i,d);(!f||i[f]===void 0||u===!0||u===void 0&&i[f]!==!1)&&(i[f||l]=pp(a))}const o=(a,l)=>Te.forEach(a,(u,d)=>s(u,d,l));return Te.isPlainObject(e)||e instanceof this.constructor?o(e,r):Te.isString(e)&&(e=e.trim())&&!U$(e)?o(L$(e),r):e!=null&&s(r,e,n),this}get(e,r){if(e=Ph(e),e){const n=Te.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return F$(i);if(Te.isFunction(r))return r.call(this,i,n);if(Te.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Ph(e),e){const n=Te.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||zy(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=Ph(o),o){const a=Te.findKey(n,o);a&&(!r||zy(n,n[a],a,r))&&(delete n[a],i=!0)}}return Te.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||zy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return Te.forEach(this,(i,s)=>{const o=Te.findKey(n,s);if(o){r[o]=pp(i),delete r[s];return}const a=e?j$(s):String(s).trim();a!==s&&delete r[s],r[a]=pp(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Te.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&Te.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[EC]=this[EC]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Ph(o);n[a]||($$(i,o),n[a]=!0)}return Te.isArray(e)?e.forEach(s):s(e),this}}tg.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(tg.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Te.freezeMethods(tg);const Ks=tg;function Hy(t,e){const r=this||Ww,n=e||r,i=Ks.from(n.headers);let s=n.data;return Te.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function ZO(t){return!!(t&&t.__CANCEL__)}function Gc(t,e,r){_t.call(this,t??"canceled",_t.ERR_CANCELED,e,r),this.name="CanceledError"}Te.inherits(Gc,_t,{__CANCEL__:!0});function z$(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new _t("Request failed with status code "+r.status,[_t.ERR_BAD_REQUEST,_t.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const H$=ds.hasStandardBrowserEnv?{write(t,e,r,n,i,s){const o=[t+"="+encodeURIComponent(e)];Te.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),Te.isString(n)&&o.push("path="+n),Te.isString(i)&&o.push("domain="+i),s===!0&&o.push("secure"),document.cookie=o.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function G$(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function W$(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function JO(t,e){return t&&!G$(e)?W$(t,e):e}const V$=ds.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const a=Te.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function X$(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function q$(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=n[s];o||(o=u),r[i]=l,n[i]=u;let f=s,p=0;for(;f!==i;)p+=r[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const m=d&&u-d;return m?Math.round(p*1e3/m):void 0}}function SC(t,e){let r=0;const n=q$(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,l=n(a),u=s<=o;r=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-s)/l:void 0,event:i};d[e?"download":"upload"]=!0,t(d)}}const Y$=typeof XMLHttpRequest<"u",K$=Y$&&function(t){return new Promise(function(r,n){let i=t.data;const s=Ks.from(t.headers).normalize();let{responseType:o,withXSRFToken:a}=t,l;function u(){t.cancelToken&&t.cancelToken.unsubscribe(l),t.signal&&t.signal.removeEventListener("abort",l)}let d;if(Te.isFormData(i)){if(ds.hasStandardBrowserEnv||ds.hasStandardBrowserWebWorkerEnv)s.setContentType(!1);else if((d=s.getContentType())!==!1){const[v,...C]=d?d.split(";").map(S=>S.trim()).filter(Boolean):[];s.setContentType([v||"multipart/form-data",...C].join("; "))}}let f=new XMLHttpRequest;if(t.auth){const v=t.auth.username||"",C=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(v+":"+C))}const p=JO(t.baseURL,t.url);f.open(t.method.toUpperCase(),qO(p,t.params,t.paramsSerializer),!0),f.timeout=t.timeout;function m(){if(!f)return;const v=Ks.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:v,config:t,request:f};z$(function(b){r(b),u()},function(b){n(b),u()},S),f=null}if("onloadend"in f?f.onloadend=m:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(m)},f.onabort=function(){f&&(n(new _t("Request aborted",_t.ECONNABORTED,t,f)),f=null)},f.onerror=function(){n(new _t("Network Error",_t.ERR_NETWORK,t,f)),f=null},f.ontimeout=function(){let C=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const S=t.transitional||YO;t.timeoutErrorMessage&&(C=t.timeoutErrorMessage),n(new _t(C,S.clarifyTimeoutError?_t.ETIMEDOUT:_t.ECONNABORTED,t,f)),f=null},ds.hasStandardBrowserEnv&&(a&&Te.isFunction(a)&&(a=a(t)),a||a!==!1&&V$(p))){const v=t.xsrfHeaderName&&t.xsrfCookieName&&H$.read(t.xsrfCookieName);v&&s.set(t.xsrfHeaderName,v)}i===void 0&&s.setContentType(null),"setRequestHeader"in f&&Te.forEach(s.toJSON(),function(C,S){f.setRequestHeader(S,C)}),Te.isUndefined(t.withCredentials)||(f.withCredentials=!!t.withCredentials),o&&o!=="json"&&(f.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&f.addEventListener("progress",SC(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&f.upload&&f.upload.addEventListener("progress",SC(t.onUploadProgress)),(t.cancelToken||t.signal)&&(l=v=>{f&&(n(!v||v.type?new Gc(null,t,f):v),f.abort(),f=null)},t.cancelToken&&t.cancelToken.subscribe(l),t.signal&&(t.signal.aborted?l():t.signal.addEventListener("abort",l)));const g=X$(p);if(g&&ds.protocols.indexOf(g)===-1){n(new _t("Unsupported protocol "+g+":",_t.ERR_BAD_REQUEST,t));return}f.send(i||null)})},ob={http:w$,xhr:K$};Te.forEach(ob,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const TC=t=>`- ${t}`,Q$=t=>Te.isFunction(t)||t===null||t===!1,eM={getAdapter:t=>{t=Te.isArray(t)?t:[t];const{length:e}=t;let r,n;const i={};for(let s=0;s<e;s++){r=t[s];let o;if(n=r,!Q$(r)&&(n=ob[(o=String(r)).toLowerCase()],n===void 0))throw new _t(`Unknown adapter '${o}'`);if(n)break;i[o||"#"+s]=n}if(!n){const s=Object.entries(i).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=e?s.length>1?`since :
`+s.map(TC).join(`
`):" "+TC(s[0]):"as no adapter specified";throw new _t("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n},adapters:ob};function Gy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Gc(null,t)}function AC(t){return Gy(t),t.headers=Ks.from(t.headers),t.data=Hy.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),eM.getAdapter(t.adapter||Ww.adapter)(t).then(function(n){return Gy(t),n.data=Hy.call(t,t.transformResponse,n),n.headers=Ks.from(n.headers),n},function(n){return ZO(n)||(Gy(t),n&&n.response&&(n.response.data=Hy.call(t,t.transformResponse,n.response),n.response.headers=Ks.from(n.response.headers))),Promise.reject(n)})}const CC=t=>t instanceof Ks?{...t}:t;function Du(t,e){e=e||{};const r={};function n(u,d,f){return Te.isPlainObject(u)&&Te.isPlainObject(d)?Te.merge.call({caseless:f},u,d):Te.isPlainObject(d)?Te.merge({},d):Te.isArray(d)?d.slice():d}function i(u,d,f){if(Te.isUndefined(d)){if(!Te.isUndefined(u))return n(void 0,u,f)}else return n(u,d,f)}function s(u,d){if(!Te.isUndefined(d))return n(void 0,d)}function o(u,d){if(Te.isUndefined(d)){if(!Te.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function a(u,d,f){if(f in e)return n(u,d);if(f in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,d)=>i(CC(u),CC(d),!0)};return Te.forEach(Object.keys(Object.assign({},t,e)),function(d){const f=l[d]||i,p=f(t[d],e[d],d);Te.isUndefined(p)&&f!==a||(r[d]=p)}),r}const tM="1.6.8",Vw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Vw[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const IC={};Vw.transitional=function(e,r,n){function i(s,o){return"[Axios v"+tM+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new _t(i(o," has been removed"+(r?" in "+r:"")),_t.ERR_DEPRECATED);return r&&!IC[o]&&(IC[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function Z$(t,e,r){if(typeof t!="object")throw new _t("options must be an object",_t.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new _t("option "+s+" must be "+l,_t.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new _t("Unknown option "+s,_t.ERR_BAD_OPTION)}}const ab={assertOptions:Z$,validators:Vw},To=ab.validators;class hm{constructor(e){this.defaults=e,this.interceptors={request:new xC,response:new xC}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Du(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&ab.assertOptions(n,{silentJSONParsing:To.transitional(To.boolean),forcedJSONParsing:To.transitional(To.boolean),clarifyTimeoutError:To.transitional(To.boolean)},!1),i!=null&&(Te.isFunction(i)?r.paramsSerializer={serialize:i}:ab.assertOptions(i,{encode:To.function,serialize:To.function},!0)),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&Te.merge(s.common,s[r.method]);s&&Te.forEach(["delete","get","head","post","put","patch","common"],g=>{delete s[g]}),r.headers=Ks.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(v){typeof v.runWhen=="function"&&v.runWhen(r)===!1||(l=l&&v.synchronous,a.unshift(v.fulfilled,v.rejected))});const u=[];this.interceptors.response.forEach(function(v){u.push(v.fulfilled,v.rejected)});let d,f=0,p;if(!l){const g=[AC.bind(this),void 0];for(g.unshift.apply(g,a),g.push.apply(g,u),p=g.length,d=Promise.resolve(r);f<p;)d=d.then(g[f++],g[f++]);return d}p=a.length;let m=r;for(f=0;f<p;){const g=a[f++],v=a[f++];try{m=g(m)}catch(C){v.call(this,C);break}}try{d=AC.call(this,m)}catch(g){return Promise.reject(g)}for(f=0,p=u.length;f<p;)d=d.then(u[f++],u[f++]);return d}getUri(e){e=Du(this.defaults,e);const r=JO(e.baseURL,e.url);return qO(r,e.params,e.paramsSerializer)}}Te.forEach(["delete","get","head","options"],function(e){hm.prototype[e]=function(r,n){return this.request(Du(n||{},{method:e,url:r,data:(n||{}).data}))}});Te.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(Du(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}hm.prototype[e]=r(),hm.prototype[e+"Form"]=r(!0)});const mp=hm;class Xw{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new Gc(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new Xw(function(i){e=i}),cancel:e}}}const J$=Xw;function ez(t){return function(r){return t.apply(null,r)}}function tz(t){return Te.isObject(t)&&t.isAxiosError===!0}const lb={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(lb).forEach(([t,e])=>{lb[e]=t});const rz=lb;function rM(t){const e=new mp(t),r=DO(mp.prototype.request,e);return Te.extend(r,mp.prototype,e,{allOwnKeys:!0}),Te.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return rM(Du(t,i))},r}const qt=rM(Ww);qt.Axios=mp;qt.CanceledError=Gc;qt.CancelToken=J$;qt.isCancel=ZO;qt.VERSION=tM;qt.toFormData=eg;qt.AxiosError=_t;qt.Cancel=qt.CanceledError;qt.all=function(e){return Promise.all(e)};qt.spread=ez;qt.isAxiosError=tz;qt.mergeConfig=Du;qt.AxiosHeaders=Ks;qt.formToJSON=t=>QO(Te.isHTMLForm(t)?new FormData(t):t);qt.getAdapter=eM.getAdapter;qt.HttpStatusCode=rz;qt.default=qt;const nM=({fighter:t,DEFAULT_HP:e,numJ:r})=>{const s=375+t.pos*10,o=477+r*100,a=50*(t.hp/e);return At.jsxs(At.Fragment,{children:[At.jsx(cn.Graphics,{x:s,y:o,draw:l=>{l.clear(),l.beginFill(16711680),l.drawRect(0,0,a,3),l.endFill(),l.lineStyle(2,0,1),l.drawRect(0,0,50,3)}}),At.jsx(cn.Text,{text:t.name,x:s,y:o-20,style:{fontSize:12,fill:"#ffffff"}})]})};nM.propTypes={fighter:Et.object.isRequired,DEFAULT_HP:Et.number.isRequired,numJ:Et.number.isRequired};const iM=new Ut;Yt.prototype._cacheAsBitmap=!1;Yt.prototype._cacheData=null;Yt.prototype._cacheAsBitmapResolution=null;Yt.prototype._cacheAsBitmapMultisample=null;class nz{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Yt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new nz),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});Yt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Yt.prototype._initCachedDisplayObject=function(t){var p,m;if((p=this._cacheData)!=null&&p.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new ht,!0);if((m=this.filters)!=null&&m.length){const g=this.filters[0].padding;r.pad(g)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),a=t.projection.transform,l=ml.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),u=`cacheAsBitmap_${al()}`;this._cacheData.textureCacheId=u,ut.addToCache(l.baseTexture,u),ze.addToCache(l,u);const d=this.transform.localTransform.copyTo(iM).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:l,clear:!0,transform:d,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=a,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const f=new xs(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=e,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)};Yt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Yt.prototype._initCachedDisplayObjectCanvas=function(t){var d;if((d=this._cacheData)!=null&&d.sprite)return;const e=this.getLocalBounds(new ht,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=ml.create({width:e.width,height:e.height,resolution:s}),a=`cacheAsBitmap_${al()}`;this._cacheData.textureCacheId=a,ut.addToCache(o.baseTexture,a),ze.addToCache(o,a);const l=iM;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:l,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new xs(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(e.x/e.width),u.anchor.y=-(e.y/e.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)};Yt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Yt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Yt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,ut.removeFromCache(this._cacheData.textureCacheId),ze.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Yt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};Yt.prototype.name=null;mn.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};Yt.prototype.getGlobalPosition=function(t=new gt,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var iz=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class sz extends fn{constructor(e=1){super(e6,iz,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const oz={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},az=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function lz(t){const e=oz[t],r=e.length;let n=az,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let l=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),l=l.replace("%value%",e[o].toString()),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const uz=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function hz(t,e){const r=Math.ceil(t/2);let n=uz,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class ub extends fn{constructor(e,r=8,n=4,i=fn.defaultResolution,s=5){const o=hz(s,e),a=lz(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,l=s;this.state.blend=!1,e.applyFilter(this,a,l,os.CLEAR);for(let u=1;u<this.passes-1;u++){e.bindAndClear(a,os.BLIT),this.uniforms.uSampler=l;const d=l;l=a,a=d,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,l,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class cz extends fn{constructor(e=8,r=4,n=fn.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new ub(!0,e,r,n,i),this.blurYFilter=new ub(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,os.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var dz=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class hb extends fn{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(Kk,dz,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=Bt.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),l=n+(1-n)*o,u=o*(1-n)-a*i,d=o*(1-n)+a*i,f=o*(1-n)+a*i,p=n+o*(1-n),m=o*(1-n)-a*i,g=o*(1-n)-a*i,v=o*(1-n)+a*i,C=n+o*(1-n),S=[l,u,d,0,0,f,p,m,0,0,g,v,C,0,0,0,0,0,1,0];this._loadMatrix(S,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Bt.shared,[a,l,u]=o.setValue(n).toArray(),[d,f,p]=o.setValue(i).toArray(),m=[.3,.59,.11,0,0,a,l,u,e,0,d,f,p,r,0,a-d,l-f,u-p,0,0];this._loadMatrix(m,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}hb.prototype.grayscale=hb.prototype.greyscale;var fz=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,pz=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class mz extends fn{constructor(e,r){const n=new Ut;e.renderable=!1,super(pz,fz,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new gt(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var gz=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,yz=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class vz extends fn{constructor(){super(yz,gz)}}var _z=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class bz extends fn{constructor(e=.5,r=Math.random()){super(Kk,_z,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const PC={AlphaFilter:sz,BlurFilter:cz,BlurFilterPass:ub,ColorMatrixFilter:hb,DisplacementFilter:mz,FXAAFilter:vz,NoiseFilter:bz};Object.entries(PC).forEach(([t,e])=>{Object.defineProperty(PC,t,{get(){return pt("7.1.0",`filters.${t} has moved to ${t}`),e}})});class wz{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Lr.system.add(this.tickerUpdate,this,ra.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Lr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Fo=new wz;class Wc{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Wc.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new gt,this.page=new gt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class cm extends Wc{constructor(){super(...arguments),this.client=new gt,this.movement=new gt,this.offset=new gt,this.global=new gt,this.screen=new gt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,l,u,d,f,p,m,g,v){throw new Error("Method not implemented.")}}class Ti extends cm{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Eu extends cm{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Eu.DOM_DELTA_PIXEL=0,Eu.DOM_DELTA_LINE=1,Eu.DOM_DELTA_PAGE=2;const xz=2048,Ez=new gt,Wy=new gt;class Sz{constructor(e){this.dispatch=new Uc,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Fo.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,Ez.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<xz&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Fo.pauseUpdate=!1),e.interactiveChildren&&e.children){const d=e.children;for(let f=d.length-1;f>=0;f--){const p=d[f],m=this.hitTestMoveRecursive(p,this._isInteractive(r)?r:p.eventMode,n,i,s,o||s(e,n));if(m){if(m.length>0&&!m[m.length-1].parent)continue;const g=e.isInteractive();(m.length>0||g)&&(g&&this._allInteractiveElements.push(e),m.push(e)),this._hitElements.length===0&&(this._hitElements=m),a=!0}}}const l=this._isInteractive(r),u=e.isInteractive();return l&&u&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:l&&!s(e,n)&&i(e,n)?u?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Fo.pauseUpdate=!1),e.interactiveChildren&&e.children){const l=e.children;for(let u=l.length-1;u>=0;u--){const d=l[u],f=this.hitTestRecursive(d,this._isInteractive(r)?r:d.eventMode,n,i,s);if(f){if(f.length>0&&!f[f.length-1].parent)continue;const p=e.isInteractive();return(f.length>0||p)&&f.push(e),f}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Wy),!e.hitArea.contains(Wy.x,Wy.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Ti)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var l,u;if(!(e instanceof Ti)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((l=i.overTargets)==null?void 0:l.length)>0&&s!==r.target){const d=e.type==="mousemove"?"mouseout":"pointerout",f=this.createPointerEvent(e,d,s);if(this.dispatchEvent(f,"pointerout"),n&&this.dispatchEvent(f,"mouseout"),!r.composedPath().includes(s)){const p=this.createPointerEvent(e,"pointerleave",s);for(p.eventPhase=p.AT_TARGET;p.target&&!r.composedPath().includes(p.target);)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseleave"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(f)}if(s!==r.target){const d=e.type==="mousemove"?"mouseover":"pointerover",f=this.clonePointerEvent(r,d);this.dispatchEvent(f,"pointerover"),n&&this.dispatchEvent(f,"mouseover");let p=s==null?void 0:s.parent;for(;p&&p!==this.rootTarget.parent&&p!==r.target;)p=p.parent;if(!p||p===this.rootTarget.parent){const m=this.clonePointerEvent(r,"pointerenter");for(m.eventPhase=m.AT_TARGET;m.target&&m.target!==s&&m.target!==this.rootTarget.parent;)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseenter"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(f)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(u=r.target)==null?void 0:u.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Ti)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Ti)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Ti)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.notifyTarget(n,l?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const l=i.clicksByButton[e.button];if(l.target===a.target&&r-l.timeStamp<200?++l.clickCount:l.clickCount=1,l.target=a.target,l.timeStamp=r,a.detail=l.clickCount,a.pointerType==="mouse"){const u=a.button===2;this.dispatchEvent(a,u?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Ti)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Eu)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(Ti);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Eu);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Ti);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Ti&&r instanceof Ti&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof cm&&r instanceof cm&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const Tz=1,Az={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},cb=class db{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new Sz(null),Fo.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Ti(null),this.rootWheelEvent=new Eu(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...db.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,db._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Fo.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,Fo.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Fo.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Fo.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=Tz),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=Az[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};cb.extension={name:"events",type:[We.RendererSystem,We.CanvasRendererSystem]},cb.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let fb=cb;Je.add(fb);function RC(t){return t==="dynamic"||t==="static"}const Cz={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??RC(fb.defaultEventMode)},set interactive(t){pt("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??fb.defaultEventMode},set eventMode(t){this._internalInteractive=RC(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof r=="object"?r.signal:void 0,s=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=n?`${t}capture`:t;const a=typeof e=="function"?e:e.handleEvent,l=this;i&&i.addEventListener("abort",()=>{l.off(t,a,o)}),s?l.once(t,a,o):l.on(t,a,o)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Wc))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Yt.mixin(Cz);const Iz={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Yt.mixin(Iz);const Pz=9,Rf=100,Rz=0,kz=0,kC=2,OC=1,Oz=-1e3,Mz=-1e3,Bz=2;class sM{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ws.tablet||Ws.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${Rf}px`,r.style.height=`${Rf}px`,r.style.position="absolute",r.style.top=`${Rz}px`,r.style.left=`${kz}px`,r.style.zIndex=kC.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${OC}px`,e.style.height=`${OC}px`,e.style.position="absolute",e.style.top=`${Oz}px`,e.style.left=`${Mz}px`,e.style.zIndex=Bz.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(Ws.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:l}=this.renderer,u=i/o*l,d=s/a*l;let f=this.div;f.style.left=`${r}px`,f.style.top=`${n}px`,f.style.width=`${o}px`,f.style.height=`${a}px`;for(let p=0;p<this.children.length;p++){const m=this.children[p];if(m.renderId!==this.renderId)m._accessibleActive=!1,_u(this.children,p,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,p--;else{f=m._accessibleDiv;let g=m.hitArea;const v=m.worldTransform;m.hitArea?(f.style.left=`${(v.tx+g.x*v.a)*u}px`,f.style.top=`${(v.ty+g.y*v.d)*d}px`,f.style.width=`${g.width*v.a*u}px`,f.style.height=`${g.height*v.d*d}px`):(g=m.getBounds(),this.capHitArea(g),f.style.left=`${g.x*u}px`,f.style.top=`${g.y*d}px`,f.style.width=`${g.width*u}px`,f.style.height=`${g.height*d}px`,f.title!==m.accessibleTitle&&m.accessibleTitle!==null&&(f.title=m.accessibleTitle),f.getAttribute("aria-label")!==m.accessibleHint&&m.accessibleHint!==null&&f.setAttribute("aria-label",m.accessibleHint)),(m.accessibleTitle!==f.title||m.tabIndex!==f.tabIndex)&&(f.title=m.accessibleTitle,f.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(f))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${Rf}px`,r.style.height=`${Rf}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=kC.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Wc(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===Pz&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}sM.extension={name:"accessibility",type:[We.RendererPlugin,We.CanvasRendererPlugin]};Je.add(sM);var zr=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(zr||{});const dm={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let ns,Wl;function MC(){Wl={s3tc:ns.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:ns.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:ns.getExtension("WEBGL_compressed_texture_etc"),etc1:ns.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:ns.getExtension("WEBGL_compressed_texture_pvrtc")||ns.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:ns.getExtension("WEBGL_compressed_texture_atc"),astc:ns.getExtension("WEBGL_compressed_texture_astc"),bptc:ns.getExtension("EXT_texture_compression_bptc")}}const Nz={extension:{type:We.DetectionParser,priority:2},test:async()=>{const t=qe.ADAPTER.createCanvas().getContext("webgl");return t?(ns=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Wl||MC();const e=[];for(const r in Wl)Wl[r]&&e.push(r);return[...e,...t]},remove:async t=>(Wl||MC(),t.filter(e=>!(e in Wl)))};Je.add(Nz);class Dz extends Um{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new C_(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new C_(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class el extends Dz{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=el._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||el._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:l,levelHeight:u,levelBuffer:d}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,l,u,0,d)}return!0}onBlobLoaded(){this._levelBuffers=el._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,r,n,i,s,o,a){const l=new Array(n);let u=e.byteOffset,d=o,f=a,p=d+i-1&~(i-1),m=f+s-1&~(s-1),g=p*m*dm[r];for(let v=0;v<n;v++)l[v]={levelID:v,levelWidth:n>1?d:p,levelHeight:n>1?f:m,levelBuffer:new Uint8Array(e.buffer,u,g)},u+=g,d=d>>1||1,f=f>>1||1,p=d+i-1&~(i-1),m=f+s-1&~(s-1),g=p*m*dm[r];return l}}const Vy=4,kf=124,Lz=32,BC=20,Fz=542327876,Of={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},Uz={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},Mf={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},jz=1,$z=2,zz=4,Hz=64,Gz=512,Wz=131072,Vz=827611204,Xz=861165636,qz=894720068,Yz=808540228,Kz=4,Qz={[Vz]:zr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[Xz]:zr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[qz]:zr.COMPRESSED_RGBA_S3TC_DXT5_EXT},Zz={70:zr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:zr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:zr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:zr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:zr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:zr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:zr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:zr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:zr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:zr.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:zr.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:zr.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:zr.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function Jz(t){const e=new Uint32Array(t);if(e[0]!==Fz)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,kf/Uint32Array.BYTES_PER_ELEMENT),n=r[Of.HEIGHT],i=r[Of.WIDTH],s=r[Of.MIPMAP_COUNT],o=new Uint32Array(t,Of.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,Lz/Uint32Array.BYTES_PER_ELEMENT),a=o[jz];if(a&zz){const l=o[Uz.FOURCC];if(l!==Yz){const x=Qz[l],b=Vy+kf,I=new Uint8Array(t,b);return[new el(I,{format:x,width:i,height:n,levels:s})]}const u=Vy+kf,d=new Uint32Array(e.buffer,u,BC/Uint32Array.BYTES_PER_ELEMENT),f=d[Mf.DXGI_FORMAT],p=d[Mf.RESOURCE_DIMENSION],m=d[Mf.MISC_FLAG],g=d[Mf.ARRAY_SIZE],v=Zz[f];if(v===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${f}`);if(m===Kz)throw new Error("DDSParser does not support cubemap textures");if(p===6)throw new Error("DDSParser does not supported 3D texture data");const C=new Array,S=Vy+kf+BC;if(g===1)C.push(new Uint8Array(t,S));else{const x=dm[v];let b=0,I=i,O=n;for(let R=0;R<s;R++){const M=Math.max(1,I+3&-4),$=Math.max(1,O+3&-4),Y=M*$*x;b+=Y,I=I>>>1,O=O>>>1}let k=S;for(let R=0;R<g;R++)C.push(new Uint8Array(t,k,b)),k+=b}return C.map(x=>new el(x,{format:v,width:i,height:n,levels:s}))}throw a&Hz?new Error("DDSParser does not support uncompressed texture data."):a&Gz?new Error("DDSParser does not supported YUV uncompressed texture data."):a&Wz?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&$z?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const NC=[171,75,84,88,32,49,49,187,13,10,26,10],eH=67305985,wi={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},pb=64,DC={[rt.UNSIGNED_BYTE]:1,[rt.UNSIGNED_SHORT]:2,[rt.INT]:4,[rt.UNSIGNED_INT]:4,[rt.FLOAT]:4,[rt.HALF_FLOAT]:8},tH={[$e.RGBA]:4,[$e.RGB]:3,[$e.RG]:2,[$e.RED]:1,[$e.LUMINANCE]:1,[$e.LUMINANCE_ALPHA]:2,[$e.ALPHA]:1},rH={[rt.UNSIGNED_SHORT_4_4_4_4]:2,[rt.UNSIGNED_SHORT_5_5_5_1]:2,[rt.UNSIGNED_SHORT_5_6_5]:2};function nH(t,e,r=!1){const n=new DataView(e);if(!iH(t,n))return null;const i=n.getUint32(wi.ENDIANNESS,!0)===eH,s=n.getUint32(wi.GL_TYPE,i),o=n.getUint32(wi.GL_FORMAT,i),a=n.getUint32(wi.GL_INTERNAL_FORMAT,i),l=n.getUint32(wi.PIXEL_WIDTH,i),u=n.getUint32(wi.PIXEL_HEIGHT,i)||1,d=n.getUint32(wi.PIXEL_DEPTH,i)||1,f=n.getUint32(wi.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=n.getUint32(wi.NUMBER_OF_FACES,i),m=n.getUint32(wi.NUMBER_OF_MIPMAP_LEVELS,i),g=n.getUint32(wi.BYTES_OF_KEY_VALUE_DATA,i);if(u===0||d!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(f!==1)throw new Error("WebGL does not support array textures");const v=4,C=4,S=l+3&-4,x=u+3&-4,b=new Array(f);let I=l*u;s===0&&(I=S*x);let O;if(s!==0?DC[s]?O=DC[s]*tH[o]:O=rH[s]:O=dm[a],O===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const k=r?oH(n,g,i):null;let R=I*O,M=l,$=u,Y=S,se=x,B=pb+g;for(let F=0;F<m;F++){const K=n.getUint32(B,i);let Z=B+4;for(let de=0;de<f;de++){let oe=b[de];oe||(oe=b[de]=new Array(m)),oe[F]={levelID:F,levelWidth:m>1||s!==0?M:Y,levelHeight:m>1||s!==0?$:se,levelBuffer:new Uint8Array(e,Z,R)},Z+=R}B+=K+4,B=B%4!==0?B+4-B%4:B,M=M>>1||1,$=$>>1||1,Y=M+v-1&~(v-1),se=$+C-1&~(C-1),R=Y*se*O}return s!==0?{uncompressed:b.map(F=>{let K=F[0].levelBuffer,Z=!1;return s===rt.FLOAT?K=new Float32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4):s===rt.UNSIGNED_INT?(Z=!0,K=new Uint32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)):s===rt.INT&&(Z=!0,K=new Int32Array(F[0].levelBuffer.buffer,F[0].levelBuffer.byteOffset,F[0].levelBuffer.byteLength/4)),{resource:new Um(K,{width:F[0].levelWidth,height:F[0].levelHeight}),type:s,format:Z?sH(o):o}}),kvData:k}:{compressed:b.map(F=>new el(null,{format:a,width:l,height:u,levels:m,levelBuffers:F})),kvData:k}}function iH(t,e){for(let r=0;r<NC.length;r++)if(e.getUint8(r)!==NC[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function sH(t){switch(t){case $e.RGBA:return $e.RGBA_INTEGER;case $e.RGB:return $e.RGB_INTEGER;case $e.RG:return $e.RG_INTEGER;case $e.RED:return $e.RED_INTEGER;default:return t}}function oH(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(pb+i,r),o=pb+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let l=0;for(;l<s&&t.getUint8(o+l)!==0;l++);if(l===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const u=new TextDecoder().decode(new Uint8Array(t.buffer,o,l)),d=new DataView(t.buffer,o+l+1,s-l-1);n.set(u,d),i+=4+s+a}return n}const aH={extension:{type:We.LoadParser,priority:Fi.High},name:"loadDDS",test(t){return ua(t,".dds")},async load(t,e,r){const n=await(await qe.ADAPTER.fetch(t)).arrayBuffer(),i=Jz(n).map(s=>{const o=new ut(s,{mipmap:vs.OFF,alphaMode:Tn.NO_PREMULTIPLIED_ALPHA,resolution:io(t),...e.data});return zc(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Je.add(aH);const lH={extension:{type:We.LoadParser,priority:Fi.High},name:"loadKTX",test(t){return ua(t,".ktx")},async load(t,e,r){const n=await(await qe.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=nH(t,n),a=i??s,l={mipmap:vs.OFF,alphaMode:Tn.NO_PREMULTIPLIED_ALPHA,resolution:io(t),...e.data},u=a.map(d=>{a===s&&Object.assign(l,{type:d.type,format:d.format});const f=d.resource??d,p=new ut(f,l);return p.ktxKeyValueData=o,zc(p,r,t)});return u.length===1?u[0]:u},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};Je.add(lH);const uH={extension:We.ResolveParser,test:t=>{const e=Ar.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var r,n;const e=Ar.extname(t).slice(1);if(e==="ktx"){const i=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx",".bptc.ktx"];if(i.some(s=>t.endsWith(s)))return{resolution:parseFloat(((r=qe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:i.find(s=>t.endsWith(s)),src:t}}return{resolution:parseFloat(((n=qe.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:e,src:t}}};Je.add(uH);const Bf=new ht,hH=4,oM=class Hh{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,a)=>{s.toBlob(l=>{if(!l){a(new Error("ICanvas.toBlob failed!"));return}const u=new FileReader;u.onload=()=>o(u.result),u.onerror=a,u.readAsDataURL(l)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((a,l)=>{const u=new FileReader;u.onload=()=>a(u.result),u.onerror=l,u.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);o&&Hh._flipY(n,i,s),a&&Hh._unpremultiplyAlpha(n);const l=new U4(i,s,1),u=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return l.context.putImageData(u,0,0),l.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:a}=this._rawPixels(e,r);return o&&Hh._flipY(n,i,s),a&&Hh._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,a,l=!1;e&&(e instanceof ml?a=e:(a=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),l=!0,r&&(Bf.width=r.width,Bf.height=r.height,r=Bf)));const u=n.gl;if(a){if(i=a.baseTexture.resolution,r=r??a.frame,s=!1,o=a.baseTexture.alphaMode>0&&a.baseTexture.format===$e.RGBA,!l){n.renderTexture.bind(a);const m=a.framebuffer.glFramebuffers[n.CONTEXT_UID];m.blitFramebuffer&&n.framebuffer.bind(m.blitFramebuffer)}}else i=n.resolution,r||(r=Bf,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const d=Math.max(Math.round(r.width*i),1),f=Math.max(Math.round(r.height*i),1),p=new Uint8Array(hH*d*f);return u.readPixels(Math.round(r.x*i),Math.round(r.y*i),d,f,u.RGBA,u.UNSIGNED_BYTE,p),l&&(a==null||a.destroy(!0)),{pixels:p,width:d,height:f,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let a=0;a<s;a++){const l=a*i,u=(n-a-1)*i;o.set(e.subarray(l,l+i)),e.copyWithin(l,u,u+i),e.set(o,u)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};oM.extension={name:"extract",type:We.RendererSystem};let cH=oM;Je.add(cH);class dH{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function fH(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ze){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function pH(t,e){if(t.baseTexture instanceof ut){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function mH(t,e){if(t._texture&&t._texture instanceof ze){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function gH(t,e){return e instanceof Dw?(e.updateText(!0),!0):!1}function yH(t,e){if(e instanceof na){const r=e.toFontString();return No.measureFont(r),!0}return!1}function vH(t,e){if(t instanceof Dw){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function _H(t,e){return t instanceof na?(e.includes(t)||e.push(t),!0):!1}const aM=class lM{constructor(e){this.limiter=new dH(lM.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(vH),this.registerFindHook(_H),this.registerFindHook(fH),this.registerFindHook(pH),this.registerFindHook(mH),this.registerUploadHook(gH),this.registerUploadHook(yH)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,Lr.system.addOnce(this.tick,this,ra.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Lr.system.addOnce(this.tick,this,ra.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof mn)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&Lr.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};aM.uploadsPerFrame=4;let mb=aM;Object.defineProperties(qe,{UPLOADS_PER_FRAME:{get(){return mb.uploadsPerFrame},set(t){pt("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),mb.uploadsPerFrame=t}}});function uM(t,e){return e instanceof ut?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function bH(t,e){if(!(e instanceof oc))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&uM(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function wH(t,e){return t instanceof oc?(e.push(t),!0):!1}class hM extends mb{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(wH),this.registerUploadHook(uM),this.registerUploadHook(bH)}}hM.extension={name:"prepare",type:We.RendererSystem};Je.add(hM);const cM=class Gh{constructor(e,r,n){this.linkedSheets=[],(e instanceof ut||e instanceof ze)&&(e={texture:e,data:r,resolutionFilename:n});const{texture:i,data:s,resolutionFilename:o=null,cachePrefix:a=""}=e;this.cachePrefix=a,this._texture=i instanceof ze?i:null,this.baseTexture=i instanceof ut?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;const l=this.baseTexture.resource;this.resolution=this._updateResolution(o||(l?l.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=io(e,null);return n===null&&(n=typeof r=="number"?r:parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Gh.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=Gh.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let a=null,l=null;const u=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,d=new ht(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s.rotated?a=new ht(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new ht(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(l=new ht(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new ze(this.baseTexture,a,d,l,s.rotated?2:0,s.anchor,s.borders),ze.addToCache(this.textures[i],this.cachePrefix+i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Gh.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Gh.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};cM.BATCH_SIZE=1e3;let LC=cM;const xH=["jpg","png","jpeg","avif","webp"];function dM(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[`${e.cachePrefix}${i}`]=e.textures[i]}),!r){const i=Ar.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{Object.assign(n,dM([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0))})}return n}const EH={extension:We.Asset,cache:{test:t=>t instanceof LC,getCacheableAssets:(t,e)=>dM(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&xH.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=qe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:We.LoadParser,priority:Fi.Normal},async testParse(t,e){return Ar.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var d,f;const{texture:n,imageFilename:i,cachePrefix:s}=(e==null?void 0:e.data)??{};let o=Ar.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let a;if(n&&n.baseTexture)a=n;else{const p=X_(o+(i??t.meta.image),e.src);a=(await r.load([p]))[p]}const l=new LC({texture:a.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:s});await l.parse();const u=(d=t==null?void 0:t.meta)==null?void 0:d.related_multi_packs;if(Array.isArray(u)){const p=[];for(const g of u){if(typeof g!="string")continue;let v=o+g;(f=e.data)!=null&&f.ignoreMultiPack||(v=X_(v,e.src),p.push(r.load({src:v,data:{ignoreMultiPack:!0}})))}const m=await Promise.all(p);l.linkedSheets=m,m.forEach(g=>{g.linkedSheets=[l].concat(l.linkedSheets.filter(v=>v!==g))})}return l},unload(t){t.destroy(!0)}}};Je.add(EH);const gb=class Vl extends na{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Vl(Object.keys(Vl.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Vl.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=Vl;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return qe.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const a=URL.createObjectURL(i),l=new FileReader;l.onload=()=>s([a,l.result]),l.onerror=o,l.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Ar.basename(e,Ar.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const a=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=a,await a.load(),document.fonts.add(a),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=N4(e)),typeof e=="number"?B4(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Vl.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=qe.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};gb.availableFonts={},gb.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Xy=gb;const Nf=class Xl extends xs{constructor(e="",r={}){super(ze.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=ze.from(n,{scaleMode:qe.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new ht,i.trim=new ht,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",a=document.createElementNS(s,"svg"),l=document.createElementNS(s,"foreignObject"),u=document.createElementNS(o,"div"),d=document.createElementNS(o,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",a.appendChild(l),this.maxWidth=Xl.defaultMaxWidth,this.maxHeight=Xl.defaultMaxHeight,this._domElement=u,this._styleElement=d,this._svgRoot=a,this._foreignObject=l,this._foreignObject.appendChild(d),this._foreignObject.appendChild(u),this._image=n,this._loadImage=new Image,this._autoResolution=Xl.defaultAutoResolution,this._resolution=Xl.defaultResolution??qe.RESOLUTION,this.text=e,this.style=r}measureText(e){var d,f;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:a}=s;(o>this.maxWidth||a>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const l=Math.min(this.maxWidth,Math.ceil(o)),u=Math.min(this.maxHeight,Math.ceil(a));return this._svgRoot.setAttribute("width",l.toString()),this._svgRoot.setAttribute("height",u.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(d=this._style)==null?void 0:d.toCSS(i)}),this._styleElement.textContent=(f=this._style)==null?void 0:f.toGlobalCSS()),{width:l+n.padding*2,height:u+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const a=this._updateID;await new Promise(l=>{i.onload=async()=>{if(a<this._updateID){l();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),l()};const u=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(u)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,a;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Xl.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(a=this._styleElement)==null||a.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=zo(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=zo(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Xy?(this.ownsStyle=!1,this._style=e):e instanceof na?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Xy.from(e)):(this.ownsStyle=!0,this._style=new Xy(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};Nf.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Nf.defaultMaxWidth=2024,Nf.defaultMaxHeight=2024,Nf.defaultAutoResolution=!0;const yb=({fighter:t,DEFAULT_HP:e,numJ:r})=>{const l=It.useMemo(()=>{const x=[];for(let b=0;b<8;b++){const I=ze.from(`idle/idle_${b}.png`),O=300/8;x.push({texture:I,time:O})}return x},[]),u=It.useMemo(()=>{const x=[];for(let b=0;b<8;b++){const I=ze.from(`idle/idle_${b}_mirrored.png`),O=300/8;x.push({texture:I,time:O})}return x},[]),d=It.useMemo(()=>{const x=[];for(let b=0;b<6;b++){const I=ze.from(`attack/attack_${b}.png`),O=300/6;x.push({texture:I,time:O})}return x},[]),f=It.useMemo(()=>{const x=[];for(let b=0;b<6;b++){const I=ze.from(`attack/attack_${b}_mirrored.png`),O=300/6;x.push({texture:I,time:O})}return x},[]),p=It.useMemo(()=>{const x=[];for(let b=0;b<8;b++){const I=ze.from(`run/run_${b}.png`),O=300/8;x.push({texture:I,time:O})}return x},[]),m=It.useMemo(()=>{const x=[];for(let b=0;b<8;b++){const I=ze.from(`run/run_${b}_mirrored.png`),O=300/8;x.push({texture:I,time:O})}return x},[]),g=It.useMemo(()=>{const x=[];for(let b=0;b<2;b++){const I=ze.from(`jump/jump_${b}.png`),O=300/2;x.push({texture:I,time:O})}return x},[]),v=It.useMemo(()=>{const x=[];for(let b=0;b<2;b++){const I=ze.from(`jump/jump_${b}_mirrored.png`),O=300/2;x.push({texture:I,time:O})}return x},[]),C=It.useMemo(()=>{const x=[];for(let b=0;b<6;b++){const I=ze.from(`death/death_${b}.png`),O=300/6;x.push({texture:I,time:O})}return x},[]),S=It.useMemo(()=>{const x=[];for(let b=0;b<6;b++){const I=ze.from(`death/death_${b}_mirrored.png`),O=300/6;x.push({texture:I,time:O})}return x},[]);return At.jsxs(At.Fragment,{children:[t.direction===!0&&t.status==="death"&&At.jsx(cn.AnimatedSprite,{textures:C,isPlaying:!0,loop:!1,x:300+t.pos*10,y:427}),t.direction===!0&&t.status==="idle"&&At.jsx(cn.AnimatedSprite,{textures:l,isPlaying:!0,loop:!0,x:300+t.pos*10,y:427}),t.direction===!0&&t.status==="attack"&&At.jsx(cn.AnimatedSprite,{textures:d,isPlaying:!0,loop:!1,x:300+t.pos*10,y:427}),t.direction===!0&&t.status==="run"&&At.jsx(cn.AnimatedSprite,{textures:p,isPlaying:!0,loop:!0,x:300+t.pos*10,y:427}),t.direction===!0&&t.status==="jump"&&At.jsx(cn.AnimatedSprite,{textures:g,isPlaying:!0,loop:!1,x:300+t.pos*10,y:427}),t.direction===!1&&t.status==="death"&&At.jsx(cn.AnimatedSprite,{textures:S,isPlaying:!0,loop:!1,x:300+t.pos*10,y:427}),t.direction===!1&&t.status==="idle"&&At.jsx(cn.AnimatedSprite,{textures:u,isPlaying:!0,loop:!0,x:300+t.pos*10,y:427}),t.direction===!1&&t.status==="attack"&&At.jsx(cn.AnimatedSprite,{textures:f,isPlaying:!0,loop:!1,x:300+t.pos*10,y:427}),t.direction===!1&&t.status==="run"&&At.jsx(cn.AnimatedSprite,{textures:m,isPlaying:!0,loop:!0,x:300+t.pos*10,y:427}),t.direction===!1&&t.status==="jump"&&At.jsx(cn.AnimatedSprite,{textures:v,isPlaying:!0,loop:!1,x:300+t.pos*10,y:427}),At.jsx(nM,{fighter:t,DEFAULT_HP:e,numJ:r})]})};yb.propTypes={fighter:Et.object.isRequired,DEFAULT_HP:Et.number.isRequired,numJ:Et.number.isRequired};const SH=()=>{const t="http://localhost:8080",e="fuckQuarkus",r="Free Pixel Art Forest/Preview/Background.png",[n,i]=It.useState(!1),[s,o]=It.useState(0),[a,l]=It.useState(0),[u,d]=It.useState(null),[f,p]=It.useState(null),[m,g]=It.useState(!0);return It.useEffect(()=>{const v=EL.connect("ws://mqtt.eclipseprojects.io/mqtt:1883");console.log(a),v.on("connect",()=>{v.subscribe(e)}),v.on("message",(C,S)=>{const x=JSON.parse(S.toString());i(x.gameOver),o(x.DEFAULT_HP),l(x.DEFAULT_ATTACK_DAMAGE),d(x.fighter1),p(x.fighter2)})},[]),It.useEffect(()=>{const v=C=>{switch(C.key){case"d":qt.post(`${t}/fighter/${m?"0":"1"}/moveRight`).catch(S=>{console.error(S)});break;case"q":qt.post(`${t}/fighter/${m?"0":"1"}/moveLeft`).catch(S=>{console.error(S)});break;case"s":qt.post(`${t}/fighter/${m?"0":"1"}/attack`).catch(S=>{console.error(S)});break;case"z":qt.post(`${t}/fighter/${m?"0":"1"}/defend`).catch(S=>{console.error(S)});break}};return window.addEventListener("keydown",v),()=>{window.removeEventListener("keydown",v)}},[m]),At.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"100vh",width:"100vw",overflow:"hidden"},children:[At.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[At.jsx("h1",{style:{marginRight:"50px"},children:"Our fighting game"}),At.jsx("button",{onClick:()=>g(v=>!v),style:{backgroundColor:m?"blue":"red",marginRight:"50px"},children:m?"J1":"J2"}),At.jsx("button",{onClick:()=>qt.post(`${t}/game/restart`),children:"Restart"})]}),At.jsx("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",marginBottom:"10px"},children:At.jsxs(cn.Stage,{children:[At.jsx(cn.Sprite,{image:r,x:0,y:-180}),n&&At.jsx(cn.Text,{text:u?"Player 2 wins":"Player 1 wins",style:{fontSize:64,fill:"white",align:"center"},x:400,y:200,anchor:.5}),u&&At.jsx(yb,{fighter:u,DEFAULT_HP:s,numJ:0}),f&&At.jsx(yb,{fighter:f,DEFAULT_HP:s,numJ:1})]})})]})};qy.createRoot(document.getElementById("root")).render(At.jsx(fs.StrictMode,{children:At.jsx(SH,{})}))});export default TH();
